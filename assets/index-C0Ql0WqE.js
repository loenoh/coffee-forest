(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function IS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qd={exports:{}},Al={};var lv;function xS(){if(lv)return Al;lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var uv;function NS(){return uv||(uv=1,qd.exports=xS()),qd.exports}var O=NS(),Fd={exports:{}},Se={};var cv;function DS(){if(cv)return Se;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function ne(M,Z,ae){this.props=M,this.context=Z,this.refs=H,this.updater=ae||Y}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function ie(M,Z,ae){this.props=M,this.context=Z,this.refs=H,this.updater=ae||Y}var he=ie.prototype=new ee;he.constructor=ie,$(he,ne.prototype),he.isPureReactComponent=!0;var ge=Array.isArray;function Ee(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,Z,ae){var le=ae.ref;return{$$typeof:r,type:M,key:Z,ref:le!==void 0?le:null,props:ae}}function V(M,Z){return C(M.type,Z,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var R=/\/+/g;function We(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Z.toString(36)}function Nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,Z,ae,le,Te){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=M._init,K(Pe(M._payload),Z,ae,le,Te)}}if(Pe)return Te=Te(M),Pe=le===""?"."+We(M,0):le,ge(Te)?(ae="",Pe!=null&&(ae=Pe.replace(R,"$&/")+"/"),K(Te,Z,ae,"",function(hs){return hs})):Te!=null&&(N(Te)&&(Te=V(Te,ae+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Pe)),Z.push(Te)),1;Pe=0;var Dt=le===""?".":le+":";if(ge(M))for(var rt=0;rt<M.length;rt++)le=M[rt],Ce=Dt+We(le,rt),Pe+=K(le,Z,ae,Ce,Te);else if(rt=L(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(le=M.next()).done;)le=le.value,Ce=Dt+We(le,rt++),Pe+=K(le,Z,ae,Ce,Te);else if(Ce==="object"){if(typeof M.then=="function")return K(Nt(M),Z,ae,le,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(M,Z,ae){if(M==null)return M;var le=[],Te=0;return K(M,le,"","",function(Ce){return Z.call(ae,Ce,Te++)}),le}function me(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,Z,ae){se(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return se(M,function(){Z++}),Z},toArray:function(M){return se(M,function(Z){return Z})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=b,Se.Children=Ge,Se.Component=ne,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=$({},M.props),Te=M.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Te=""+Z.key),Z)!A.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(le[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ae;else if(1<Ce){for(var Pe=Array(Ce),Dt=0;Dt<Ce;Dt++)Pe[Dt]=arguments[Dt+2];le.children=Pe}return C(M.type,Te,le)},Se.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,Z,ae){var le,Te={},Ce=null;if(Z!=null)for(le in Z.key!==void 0&&(Ce=""+Z.key),Z)A.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=Z[le]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var Dt=Array(Pe),rt=0;rt<Pe;rt++)Dt[rt]=arguments[rt+2];Te.children=Dt}if(M&&M.defaultProps)for(le in Pe=M.defaultProps,Pe)Te[le]===void 0&&(Te[le]=Pe[le]);return C(M,Ce,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=N,Se.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Se.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},Se.startTransition=function(M){var Z=I.T,ae={};I.T=ae;try{var le=M(),Te=I.S;Te!==null&&Te(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,ze)}catch(Ce){ze(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),I.T=Z}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(M){return I.H.use(M)},Se.useActionState=function(M,Z,ae){return I.H.useActionState(M,Z,ae)},Se.useCallback=function(M,Z){return I.H.useCallback(M,Z)},Se.useContext=function(M){return I.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Z){return I.H.useDeferredValue(M,Z)},Se.useEffect=function(M,Z){return I.H.useEffect(M,Z)},Se.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(M,Z,ae){return I.H.useImperativeHandle(M,Z,ae)},Se.useInsertionEffect=function(M,Z){return I.H.useInsertionEffect(M,Z)},Se.useLayoutEffect=function(M,Z){return I.H.useLayoutEffect(M,Z)},Se.useMemo=function(M,Z){return I.H.useMemo(M,Z)},Se.useOptimistic=function(M,Z){return I.H.useOptimistic(M,Z)},Se.useReducer=function(M,Z,ae){return I.H.useReducer(M,Z,ae)},Se.useRef=function(M){return I.H.useRef(M)},Se.useState=function(M){return I.H.useState(M)},Se.useSyncExternalStore=function(M,Z,ae){return I.H.useSyncExternalStore(M,Z,ae)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.4",Se}var hv;function Bm(){return hv||(hv=1,Fd.exports=DS()),Fd.exports}var F=Bm();const Yr=IS(F);var Gd={exports:{}},wl={},Qd={exports:{}},Kd={};var fv;function OS(){return fv||(fv=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var ze=me-1>>>1,Ge=K[ze];if(0<o(Ge,se))K[ze]=se,K[me]=Ge,me=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var ze=0,Ge=K.length,M=Ge>>>1;ze<M;){var Z=2*(ze+1)-1,ae=K[Z],le=Z+1,Te=K[le];if(0>o(ae,me))le<Ge&&0>o(Te,ae)?(K[ze]=Te,K[le]=me,ze=le):(K[ze]=ae,K[Z]=me,ze=Z);else if(le<Ge&&0>o(Te,me))K[ze]=Te,K[le]=me,ze=le;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,w=3,L=!1,Y=!1,$=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=K)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function ge(K){if($=!1,he(K),!Y)if(n(g)!==null)Y=!0,Ee||(Ee=!0,P());else{var se=n(y);se!==null&&Nt(ge,se.startTime-K)}}var Ee=!1,I=-1,A=5,C=-1;function V(){return H?!0:!(r.unstable_now()-C<A)}function N(){if(H=!1,Ee){var K=r.unstable_now();C=K;var se=!0;try{e:{Y=!1,$&&($=!1,ee(I),I=-1),L=!0;var me=w;try{t:{for(he(K),b=n(g);b!==null&&!(b.expirationTime>K&&V());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,w=b.priorityLevel;var Ge=ze(b.expirationTime<=K);if(K=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,he(K),se=!0;break t}b===n(g)&&s(g),he(K)}else s(g);b=n(g)}if(b!==null)se=!0;else{var M=n(y);M!==null&&Nt(ge,M.startTime-K),se=!1}}break e}finally{b=null,w=me,L=!1}se=void 0}}finally{se?P():Ee=!1}}}var P;if(typeof ie=="function")P=function(){ie(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,We=R.port2;R.port1.onmessage=N,P=function(){We.postMessage(null)}}else P=function(){ne(N,0)};function Nt(K,se){I=ne(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return K()}finally{w=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=w;w=K;try{return se()}finally{w=me}},r.unstable_scheduleCallback=function(K,se,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,K={id:E++,callback:se,priorityLevel:K,startTime:me,expirationTime:Ge,sortIndex:-1},me>ze?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&($?(ee(I),I=-1):$=!0,Nt(ge,me-ze))):(K.sortIndex=Ge,e(g,K),Y||L||(Y=!0,Ee||(Ee=!0,P()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var se=w;return function(){var me=w;w=se;try{return K.apply(this,arguments)}finally{w=me}}}})(Kd)),Kd}var dv;function MS(){return dv||(dv=1,Qd.exports=OS()),Qd.exports}var Yd={exports:{}},$t={};var mv;function VS(){if(mv)return $t;mv=1;var r=Bm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},$t.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var pv;function kS(){if(pv)return Yd.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=VS(),Yd.exports}var gv;function LS(){if(gv)return wl;gv=1;var r=MS(),e=Bm(),n=kS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case ge:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ie:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:We(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return We(t(i))}catch{}}return null}var Nt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function M(t){return{current:t}}function Z(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var le=M(null),Te=M(null),Ce=M(null),Pe=M(null);function Dt(t,i){switch(ae(Ce,i),ae(Te,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=D_(i),t=O_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(le),ae(le,t)}function rt(){Z(le),Z(Te),Z(Ce)}function hs(t){t.memoizedState!==null&&ae(Pe,t);var i=le.current,a=O_(i,t.type);i!==a&&(ae(Te,t),ae(le,a))}function ia(t){Te.current===t&&(Z(le),Z(Te)),Pe.current===t&&(Z(Pe),El._currentValue=me)}var ra,sa;function ii(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+sa}var Eo=!1;function fs(t,i){if(!t||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var B=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){B=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){B=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),j=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function To(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return fs(t.type,!1);case 11:return fs(t.type.render,!1);case 1:return fs(t.type,!0);case 31:return ii("Activity");default:return""}}function bo(t){try{var i="",a=null;do i+=To(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,hr=r.unstable_cancelCallback,Fh=r.unstable_shouldYield,hu=r.unstable_requestPaint,tn=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Gh=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,Bn=null,Bt=null;function An(t){if(typeof du=="function"&&mu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Bn,t)}catch{}}var ft=Math.clz32?Math.clz32:gu,pu=Math.log,aa=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/aa|0)|0}var ri=256,ms=262144,_t=4194304;function si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=si(l):(_&=T,_!==0?h=si(_):a||(a=T&~t,a!==0&&(h=si(a))))):(T=l&~d,T!==0?h=si(T):_!==0?h=si(_):a||(a=l&~t,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ps(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ft(a),J=1<<Q;T[Q]=0,x[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&gs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function gs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function wo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ro(t,i){var a=i&-i;return a=(a&42)!==0?1:ys(a),(a&(t.suspendedLanes|i))!==0?0:a}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function qn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Fn,Lt="__reactProps$"+Fn,li="__reactContainer$"+Fn,oa="__reactEvents$"+Fn,Yh="__reactListeners$"+Fn,vu="__reactHandles$"+Fn,Eu="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function la(t){delete t[vt],delete t[Lt],delete t[oa],delete t[Yh],delete t[vu]}function ci(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[li]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[vt])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[vt]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hi(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ui]=!0}var Co=new Set,Io={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(Io[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function Tu(t){return yt.call(Do,t)?!0:yt.call(No,t)?!1:xo.test(t)?Do[t]=!0:(No[t]=!0,!1)}function ua(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=dr(t)?"checked":"value";t._valueTracker=Oo(t,i,""+t[i])}}function _s(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=dr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vs=/[\n"\\]/g;function sn(t){return t.replace(vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Mo(t,_,Pt(i)):a!=null?Mo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function bu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Mo(t,i,a){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function pr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Vo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Vo(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Lo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,pi=null;function Es(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_s(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&mr(t,!!a.multiple,i,!1)}}}var da=!1;function _r(t,i,a){if(da)return t(i,a);da=!0;try{var l=t(i);return l}finally{if(da=!1,(yr!==null||pi!==null)&&(_c(),yr&&(i=yr,t=pi,pi=yr=null,Es(i),t)))for(i=0;i<t.length;i++)Es(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ts=!1}var gi=null,Po=null,bs=null;function Uo(){if(bs)return bs;var t,i=Po,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function Ss(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Kn(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Kn,this.isPropagationStopped=Kn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Ht(Pi),vr=b({},Pi,{view:0,detail:0}),zo=Ht(vr),Er,ma,_i,pa=b({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Er=t.screenX-_i.screenX,ma=t.screenY-_i.screenY):ma=Er=0,_i=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),jo=Ht(pa),As=b({},pa,{dataTransfer:0}),Ru=Ht(As),Cu=b({},vr,{relatedTarget:0}),ws=Ht(Cu),Bo=b({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Ht(Bo),ga=b({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Ht(ga),Nu=b({},Pi,{data:0}),vi=Ht(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function Tr(){return Vu}var nn=b({},vr,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Ht(nn),Lu=b({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ht(Lu),c=b({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),p=Ht(c),v=b({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),U=b({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(U),re=b({},Pi,{newState:0,oldState:0}),we=Ht(re),dt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,st=null;Cn&&"documentMode"in document&&(st=document.documentMode);var In=Cn&&"TextEvent"in window&&!st,Ei=Cn&&(!He||st&&8<st&&11>=st),Yn=" ",Xn=!1;function Rs(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function Z1(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function W1(t,i){if(_a)return t==="compositionend"||!He&&Rs(t,i)?(t=Uo(),bs=Po=gi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!eb[t.type]:i==="textarea"}function qp(t,i,a,l){yr?pi?pi.push(l):pi=[l]:yr=l,i=wc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ho=null,qo=null;function tb(t){w_(t,0)}function Pu(t){var i=mn(t);if(_s(i))return t}function Fp(t,i){if(t==="change")return i}var Gp=!1;if(Cn){var Xh;if(Cn){var $h="oninput"in document;if(!$h){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),$h=typeof Qp.oninput=="function"}Xh=$h}else Xh=!1;Gp=Xh&&(!document.documentMode||9<document.documentMode)}function Kp(){Ho&&(Ho.detachEvent("onpropertychange",Yp),qo=Ho=null)}function Yp(t){if(t.propertyName==="value"&&Pu(qo)){var i=[];qp(i,qo,t,Rn(t)),_r(tb,i)}}function nb(t,i,a){t==="focusin"?(Kp(),Ho=i,qo=a,Ho.attachEvent("onpropertychange",Yp)):t==="focusout"&&Kp()}function ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(qo)}function rb(t,i){if(t==="click")return Pu(i)}function sb(t,i){if(t==="input"||t==="change")return Pu(i)}function ab(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:ab;function Fo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,i){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Jp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=mi(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ob=Cn&&"documentMode"in document&&11>=document.documentMode,va=null,Zh=null,Go=null,Wh=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||va==null||va!==mi(l)||(l=va,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=wc(Zh,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=va)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},ef={},eg={};Cn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Is(t){if(ef[t])return ef[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return ef[t]=i[a];return t}var tg=Is("animationend"),ng=Is("animationiteration"),ig=Is("animationstart"),lb=Is("transitionrun"),ub=Is("transitionstart"),cb=Is("transitioncancel"),rg=Is("transitionend"),sg=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function $n(t,i){sg.set(t,i),fi(i,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Ta=0,nf=0;function zu(){for(var t=Ta,i=nf=Ta=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ag(a,h,d)}}function ju(t,i,a,l){xn[Ta++]=t,xn[Ta++]=i,xn[Ta++]=a,xn[Ta++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rf(t,i,a,l){return ju(t,i,a,l),Bu(t)}function xs(t,i){return ju(t,null,null,i),Bu(t)}function ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<dl)throw dl=0,dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function hb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new hb(t,i,a,l)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")sf(t)&&(_=1);else if(typeof t=="string")_=gS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,h),t.elementType=C,t.lanes=d,t;case $:return Ns(a.children,h,d,i);case H:_=8,h|=24;break;case ne:return t=yn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case ge:return t=yn(13,a,i,h),t.elementType=ge,t.lanes=d,t;case Ee:return t=yn(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ee:_=9;break e;case he:_=11;break e;case I:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ns(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function af(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function lg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function of(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ug=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:bo(i)},ug.set(t,i),i)}return{value:t,source:i,stack:bo(i)}}var Sa=[],Aa=0,qu=null,Qo=0,Dn=[],On=0,br=null,Ti=1,bi="";function ji(t,i){Sa[Aa++]=Qo,Sa[Aa++]=qu,qu=t,Qo=i}function cg(t,i,a){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=br,br=t;var l=Ti;t=bi;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-ft(i)+h|a<<h|l,bi=d+t}else Ti=1<<d|a<<h|l,bi=t}function lf(t){t.return!==null&&(ji(t,1),cg(t,1,0))}function uf(t){for(;t===qu;)qu=Sa[--Aa],Sa[Aa]=null,Qo=Sa[--Aa],Sa[Aa]=null;for(;t===br;)br=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function hg(t,i){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=br,Ti=i.id,bi=i.overflow,br=t}var qt=null,tt=null,Le=!1,Sr=null,Mn=!1,cf=Error(s(519));function Ar(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Nn(i,t)),cf}function fg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)Ne(pl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),pr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Ar(t,!0)}function dg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function wa(t){if(t!==qt)return!1;if(!Le)return dg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Id(t.type,t.memoizedProps)),a=!a),a&&tt&&Ar(t),dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=U_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=U_(t)}else i===27?(i=tt,Ur(t.type)?(t=Md,Md=null,tt=t):tt=i):tt=qt?kn(t.stateNode.nextSibling):null;return!0}function Ds(){tt=qt=null,Le=!1}function hf(){var t=Sr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Sr=null),t}function Ko(t){Sr===null?Sr=[t]:Sr.push(t)}var ff=M(null),Os=null,Bi=null;function wr(t,i,a){ae(ff,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=ff.current,Z(ff)}function df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function mf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),df(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&mf(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Os=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return mg(Os,t)}function Gu(t,i){return Os===null&&Ms(t),mg(t,i)}function mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var fb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},db=r.unstable_scheduleCallback,mb=r.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new fb,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&db(mb,function(){t.controller.abort()})}var Xo=null,gf=0,Ca=0,Ia=null;function pb(t,i){if(Xo===null){var a=Xo=[];gf=0,Ca=vd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,i.then(pg,pg),i}function pg(){if(--gf===0&&Xo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Xo;Xo=null,Ca=0,Ia=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function gb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=K.S;K.S=function(t,i){Wy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pb(t,i),gg!==null&&gg(t,i)};var Vs=M(null);function yf(){var t=Vs.current;return t!==null?t:et.pooledCache}function Qu(t,i){i===null?ae(Vs,Vs.current):ae(Vs,i.pool)}function yg(){var t=yf();return t===null?null:{parent:bt._currentValue,pool:t}}var xa=Error(s(460)),_f=Error(s(474)),Ku=Error(s(542)),Yu={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tg(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tg(t),t}throw Ls=i,xa}}function ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,xa):a}}var Ls=null;function Eg(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function Tg(t){if(t===xa||t===Ku)throw Error(s(483))}var Na=null,$o=0;function Xu(t){var i=$o;return $o+=1,Na===null&&(Na=[]),vg(Na,t,i)}function Jo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bg(t){function i(k,D){if(t){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=zi(k,D),k.index=0,k.sibling=null,k}function d(k,D,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,z,X){return D===null||D.tag!==6?(D=af(z,k.mode,X),D.return=k,D):(D=h(D,z),D.return=k,D)}function x(k,D,z,X){var de=z.type;return de===$?Q(k,D,z.props.children,X,z.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&ks(de)===D.type)?(D=h(D,z.props),Jo(D,z),D.return=k,D):(D=Hu(z.type,z.key,z.props,null,k.mode,X),Jo(D,z),D.return=k,D)}function j(k,D,z,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=of(z,k.mode,X),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function Q(k,D,z,X,de){return D===null||D.tag!==7?(D=Ns(z,k.mode,X,de),D.return=k,D):(D=h(D,z),D.return=k,D)}function J(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=af(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return z=Hu(D.type,D.key,D.props,null,k.mode,z),Jo(z,D),z.return=k,z;case Y:return D=of(D,k.mode,z),D.return=k,D;case A:return D=ks(D),J(k,D,z)}if(Nt(D)||P(D))return D=Ns(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return J(k,Xu(D),z);if(D.$$typeof===ie)return J(k,Gu(k,D),z);$u(k,D)}return null}function B(k,D,z,X){var de=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:T(k,D,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return z.key===de?x(k,D,z,X):null;case Y:return z.key===de?j(k,D,z,X):null;case A:return z=ks(z),B(k,D,z,X)}if(Nt(z)||P(z))return de!==null?null:Q(k,D,z,X,null);if(typeof z.then=="function")return B(k,D,Xu(z),X);if(z.$$typeof===ie)return B(k,D,Gu(k,z),X);$u(k,z)}return null}function G(k,D,z,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,T(D,k,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return k=k.get(X.key===null?z:X.key)||null,x(D,k,X,de);case Y:return k=k.get(X.key===null?z:X.key)||null,j(D,k,X,de);case A:return X=ks(X),G(k,D,z,X,de)}if(Nt(X)||P(X))return k=k.get(z)||null,Q(D,k,X,de,null);if(typeof X.then=="function")return G(k,D,z,Xu(X),de);if(X.$$typeof===ie)return G(k,D,z,Gu(D,X),de);$u(D,X)}return null}function ue(k,D,z,X){for(var de=null,je=null,ce=D,Ie=D=0,Oe=null;ce!==null&&Ie<z.length;Ie++){ce.index>Ie?(Oe=ce,ce=null):Oe=ce.sibling;var Be=B(k,ce,z[Ie],X);if(Be===null){ce===null&&(ce=Oe);break}t&&ce&&Be.alternate===null&&i(k,ce),D=d(Be,D,Ie),je===null?de=Be:je.sibling=Be,je=Be,ce=Oe}if(Ie===z.length)return a(k,ce),Le&&ji(k,Ie),de;if(ce===null){for(;Ie<z.length;Ie++)ce=J(k,z[Ie],X),ce!==null&&(D=d(ce,D,Ie),je===null?de=ce:je.sibling=ce,je=ce);return Le&&ji(k,Ie),de}for(ce=l(ce);Ie<z.length;Ie++)Oe=G(ce,k,Ie,z[Ie],X),Oe!==null&&(t&&Oe.alternate!==null&&ce.delete(Oe.key===null?Ie:Oe.key),D=d(Oe,D,Ie),je===null?de=Oe:je.sibling=Oe,je=Oe);return t&&ce.forEach(function(qr){return i(k,qr)}),Le&&ji(k,Ie),de}function ye(k,D,z,X){if(z==null)throw Error(s(151));for(var de=null,je=null,ce=D,Ie=D=0,Oe=null,Be=z.next();ce!==null&&!Be.done;Ie++,Be=z.next()){ce.index>Ie?(Oe=ce,ce=null):Oe=ce.sibling;var qr=B(k,ce,Be.value,X);if(qr===null){ce===null&&(ce=Oe);break}t&&ce&&qr.alternate===null&&i(k,ce),D=d(qr,D,Ie),je===null?de=qr:je.sibling=qr,je=qr,ce=Oe}if(Be.done)return a(k,ce),Le&&ji(k,Ie),de;if(ce===null){for(;!Be.done;Ie++,Be=z.next())Be=J(k,Be.value,X),Be!==null&&(D=d(Be,D,Ie),je===null?de=Be:je.sibling=Be,je=Be);return Le&&ji(k,Ie),de}for(ce=l(ce);!Be.done;Ie++,Be=z.next())Be=G(ce,k,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Ie:Be.key),D=d(Be,D,Ie),je===null?de=Be:je.sibling=Be,je=Be);return t&&ce.forEach(function(CS){return i(k,CS)}),Le&&ji(k,Ie),de}function Ze(k,D,z,X){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case L:e:{for(var de=z.key;D!==null;){if(D.key===de){if(de=z.type,de===$){if(D.tag===7){a(k,D.sibling),X=h(D,z.props.children),X.return=k,k=X;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&ks(de)===D.type){a(k,D.sibling),X=h(D,z.props),Jo(X,z),X.return=k,k=X;break e}a(k,D);break}else i(k,D);D=D.sibling}z.type===$?(X=Ns(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=Hu(z.type,z.key,z.props,null,k.mode,X),Jo(X,z),X.return=k,k=X)}return _(k);case Y:e:{for(de=z.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(k,D.sibling),X=h(D,z.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else i(k,D);D=D.sibling}X=of(z,k.mode,X),X.return=k,k=X}return _(k);case A:return z=ks(z),Ze(k,D,z,X)}if(Nt(z))return ue(k,D,z,X);if(P(z)){if(de=P(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ye(k,D,z,X)}if(typeof z.then=="function")return Ze(k,D,Xu(z),X);if(z.$$typeof===ie)return Ze(k,D,Gu(k,z),X);$u(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(k,D.sibling),X=h(D,z),X.return=k,k=X):(a(k,D),X=af(z,k.mode,X),X.return=k,k=X),_(k)):a(k,D)}return function(k,D,z,X){try{$o=0;var de=Ze(k,D,z,X);return Na=null,de}catch(ce){if(ce===xa||ce===Ku)throw ce;var je=yn(29,ce,null,k.mode);return je.lanes=X,je.return=k,je}}}var Ps=bg(!0),Sg=bg(!1),Rr=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),ag(t,null,a),i}return ju(t,l,i,a),Bu(t)}function Zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,wo(t,a)}}function Tf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bf=!1;function Wo(){if(bf){var t=Ia;if(t!==null)throw t}}function el(t,i,a,l){bf=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,_===null?d=j:_.next=j,_=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=j:T.next=j,Q.lastBaseUpdate=x))}if(d!==null){var J=h.baseState;_=0,Q=j=x=null,T=d;do{var B=T.lane&-536870913,G=B!==T.lane;if(G?(De&B)===B:(l&B)===B){B!==0&&B===Ca&&(bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ye=T;B=i;var Ze=a;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){J=ue.call(Ze,J,B);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,B=typeof ue=="function"?ue.call(Ze,J,B):ue,B==null)break e;J=b({},J,B);break e;case 2:Rr=!0}}B=T.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(j=Q=G,x=J):Q=Q.next=G,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(x=J),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Mr|=_,t.lanes=_,t.memoizedState=J}}function Ag(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ag(a[t],i)}var Da=M(null),Ju=M(0);function Rg(t,i){t=Ji,ae(Ju,t),ae(Da,i),Ji=t|i.baseLanes}function Sf(){ae(Ju,Ji),ae(Da,Da.current)}function Af(){Ji=Ju.current,Z(Da),Z(Ju)}var _n=M(null),Vn=null;function xr(t){var i=t.alternate;ae(mt,mt.current&1),ae(_n,t),Vn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Vn=t)}function wf(t){ae(mt,mt.current),ae(_n,t),Vn===null&&(Vn=t)}function Cg(t){t.tag===22?(ae(mt,mt.current),ae(_n,t),Vn===null&&(Vn=t)):Nr()}function Nr(){ae(mt,mt.current),ae(_n,_n.current)}function vn(t){Z(_n),Vn===t&&(Vn=null),Z(mt)}var mt=M(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Re=null,$e=null,St=null,Wu=!1,Oa=!1,Us=!1,ec=0,tl=0,Ma=null,yb=0;function ct(){throw Error(s(321))}function Rf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Cf(t,i,a,l,h,d){return qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?cy:Hf,Us=!1,d=a(l,h),Us=!1,Oa&&(d=xg(i,a,l,h)),Ig(t),d}function Ig(t){K.H=rl;var i=$e!==null&&$e.next!==null;if(qi=0,St=$e=Re=null,Wu=!1,tl=0,Ma=null,i)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&Fu(t)&&(At=!0))}function xg(t,i,a,l){Re=t;var h=0;do{if(Oa&&(Ma=null),tl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,St=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=hy,d=i(a,l)}while(Oa);return d}function _b(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function If(){var t=ec!==0;return ec=0,t}function xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}qi=0,St=$e=Re=null,Oa=!1,tl=ec=0,Ma=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=t:St=St.next=t,St}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=St===null?Re.memoizedState:St.next;if(i!==null)St=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Re.memoizedState=St=t:St=St.next=t}return St}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,Ma===null&&(Ma=[]),t=vg(Ma,t,i),i=Re,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?cy:Hf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===ie)return Ft(t)}throw Error(s(438,String(t)))}function Df(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=pt();return Of(i,$e,t)}function Of(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,x=null,j=i,Q=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(De&J)===J:(qi&J)===J){var B=j.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Ca&&(Q=!0);else if((qi&B)===B){j=j.next,B===Ca&&(Q=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=J,_=d):x=x.next=J,Re.lanes|=B,Mr|=B;J=j.action,Us&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else B={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=B,_=d):x=x.next=B,Re.lanes|=J,Mr|=J;j=j.next}while(j!==null&&j!==i);if(x===null?_=d:x.next=T,!gn(d,t.memoizedState)&&(At=!0,Q&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(At=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ng(t,i,a){var l=Re,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,At=!0),h=h.queue,Lf(Mg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Og.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(qi&127)!==0||Dg(l,i,a)}return a}function Dg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=tc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Og(t,i,a,l){i.value=a,i.getSnapshot=l,Vg(i)&&kg(t)}function Mg(t,i,a){return a(function(){Vg(i)&&kg(t)})}function Vg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function kg(t){var i=xs(t,2);i!==null&&hn(i,t,2)}function Vf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Us){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function Lg(t,i,a,l){return t.baseState=a,Of(t,$e,typeof l=="function"?l:Fi)}function vb(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Pg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Pg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),x=K.S;x!==null&&x(_,T),Ug(t,i,T)}catch(j){kf(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Ug(t,i,d)}catch(j){kf(t,i,j)}}function Ug(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return kf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,jg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Pg(t,a)))}function kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==l)}t.action=null}function jg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Bg(t,i){return i}function Hg(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=kn(h.nextSibling),l=h.data==="F!";break e}}Ar(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=l,a=oy.bind(null,Re,l),l.dispatch=a,l=Vf(!1),d=Bf.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=vb.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function qg(t){var i=pt();return Fg(i,$e,t)}function Fg(t,i,a){if(i=Of(t,i,Bg)[0],t=ic(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(_){throw _===xa?Ku:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Va(9,{destroy:void 0},Eb.bind(null,h,a),null)),[l,d,t]}function Eb(t,i){t.action=i}function Gg(t){var i=pt(),a=$e;if(a!==null)return Fg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=tc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Qg(){return pt().memoizedState}function rc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Rf(l,$e.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(Re.flags|=t,h.memoizedState=Va(1|i,d,a,l))}function Kg(t,i){rc(8390656,8,t,i)}function Lf(t,i){sc(2048,8,t,i)}function Tb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=tc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Yg(t){var i=pt().memoizedState;return Tb({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Xg(t,i){return sc(4,2,t,i)}function $g(t,i){return sc(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Jg.bind(null,i,t),a)}function Pf(){}function Wg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ey(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rf(i,l[1]))return l[0];if(l=t(),Us){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Uf(t,i,a){return a===void 0||(qi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=t_(),Re.lanes|=t,Mr|=t,a)}function ty(t,i,a,l){return gn(a,i)?a:Da.current!==null?(t=Uf(t,a,l),gn(t,i)||(At=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(De&261930)===0?(At=!0,t.memoizedState=a):(t=t_(),Re.lanes|=t,Mr|=t,i)}function ny(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Bf(t,!1,i,a);try{var x=h(),j=K.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=gb(x,l);il(t,i,Q,bn(t))}else il(t,i,l,bn(t))}catch(J){il(t,i,{then:function(){},status:"rejected",reason:J},bn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function bb(){}function zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=iy(t).queue;ny(t,h,i,me,a===null?bb:function(){return ry(t),a(l)})}function iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ry(t){var i=iy(t);i.next===null&&(i=t.alternate.memoizedState),il(t,i.next.queue,{},bn())}function jf(){return Ft(El)}function sy(){return pt().memoizedState}function ay(){return pt().memoizedState}function Sb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Cr(a);var l=Ir(i,t,a);l!==null&&(hn(l,i,a),Zo(l,i,a)),i={cache:pf()},t.payload=i;return}i=i.return}}function Ab(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?ly(i,a):(a=rf(t,i,a,l),a!==null&&(hn(a,t,l),uy(a,i,l)))}function oy(t,i,a){var l=bn();il(t,i,a,l)}function il(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))ly(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return ju(t,i,h,0),et===null&&zu(),!1}catch{}if(a=rf(t,i,h,l),a!==null)return hn(a,t,l),uy(a,i,l),!0}return!1}function Bf(t,i,a,l){if(l={lane:2,revertLane:vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=rf(t,a,l,2),i!==null&&hn(i,t,2)}function ac(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function ly(t,i){Oa=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function uy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,wo(t,a)}}var rl={readContext:Ft,use:nc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};rl.useEffectEvent=ct;var cy={readContext:Ft,use:nc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Kg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,Jg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Us){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Us){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ab.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,a=oy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,i){var a=rn();return Uf(a,t,i)},useTransition:function(){var t=Vf(!1);return t=ny.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||Dg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Kg(Mg.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},Og.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Le){var a=bi,l=Ti;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=yb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return rn().memoizedState=Sb.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:Ft,use:nc,useCallback:Wg,useContext:Ft,useEffect:Lf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:ic,useRef:Qg,useState:function(){return ic(Fi)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=pt();return ty(a,$e.memoizedState,t,i)},useTransition:function(){var t=ic(Fi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:jf,useFormState:qg,useActionState:qg,useOptimistic:function(t,i){var a=pt();return Lg(a,$e,t,i)},useMemoCache:Df,useCacheRefresh:ay};Hf.useEffectEvent=Yg;var hy={readContext:Ft,use:nc,useCallback:Wg,useContext:Ft,useEffect:Lf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:Mf,useRef:Qg,useState:function(){return Mf(Fi)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=pt();return $e===null?Uf(a,t,i):ty(a,$e.memoizedState,t,i)},useTransition:function(){var t=Mf(Fi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:jf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=pt();return $e!==null?Lg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:ay};hy.useEffectEvent=Yg;function qf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Cr(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(hn(i,t,l),Zo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(hn(i,t,l),Zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Cr(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(t,l,a),i!==null&&(hn(i,t,a),Zo(i,t,a))}};function fy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function my(t){Uu(t)}function py(t){console.error(t)}function gy(t){Uu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function _y(t){return t=Cr(t),t.tag=3,t}function vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){yy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){yy(i,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function wb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?vc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gd(t,l,h)),!1}throw Error(s(435,a.tag))}return gd(t,l,h),vc(),!1}if(Le)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==cf&&(t=Error(s(422),{cause:l}),Ko(Nn(t,a)))):(l!==cf&&(i=Error(s(423),{cause:l}),Ko(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=Gf(t.stateNode,l,h),Tf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),fl===null?fl=[d]:fl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Gf(a.stateNode,l,t),Tf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vr===null||!Vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,t,a,l),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(s(461)),At=!1;function Gt(t,i,a,l){i.child=t===null?Sg(i,null,a,l):Ps(i,t.child,a,l)}function Ey(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ms(i),l=Cf(t,i,a,_,d,h),T=If(),t!==null&&!At?(xf(t,i,h),Gi(t,i,h)):(Le&&T&&lf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Ty(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,by(t,i,d,l,h)):(t=Hu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ed(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(_,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function by(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===i.ref)if(At=!1,i.pendingProps=l=d,ed(t,h))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return Kf(t,i,a,l,h)}function Sy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ay(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?Rg(i,d):Sf(),Cg(i);else return l=i.lanes=536870912,Ay(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qu(i,d.cachePool),Rg(i,d),Nr(),i.memoizedState=null):(t!==null&&Qu(i,null),Sf(),Nr());return Gt(t,i,h,a),i.child}function sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(t,i,a,l,h){var d=yf();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Qu(i,null),Sf(),Cg(i),t!==null&&Ra(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function wy(t,i,a){return Ps(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function Rb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,sl(null,t);if(wf(i),(t=tt)?(t=P_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:br!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Ar(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(wf(i),h)if(i.flags&256)i.flags&=-257,i=wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(At||Ra(t,i,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=et,l!==null&&(_=Ro(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(t,_),hn(l,t,_),Qf;vc(),i=wy(t,i,a)}else t=d.treeContext,tt=kn(_.nextSibling),qt=i,Le=!0,Sr=null,Mn=!1,t!==null&&hg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Kf(t,i,a,l,h){return Ms(i),a=Cf(t,i,a,l,void 0,h),l=If(),t!==null&&!At?(xf(t,i,h),Gi(t,i,h)):(Le&&l&&lf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Ry(t,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=xg(i,l,a,h),Ig(t),l=If(),t!==null&&!At?(xf(t,i,d),Gi(t,i,d)):(Le&&l&&lf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Cy(t,i,a,l,h){if(Ms(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(qf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ff.enqueueReplaceState(d,d.state,null),el(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=zs(a,T);d.props=x;var j=d.context,Q=a.contextType;_=ba,typeof Q=="object"&&Q!==null&&(_=Ft(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&dy(i,d,l,_),Rr=!1;var B=i.memoizedState;d.state=B,el(i,l,d,h),Wo(),j=i.memoizedState,T||B!==j||Rr?(typeof J=="function"&&(qf(i,a,J,l),j=i.memoizedState),(x=Rr||fy(i,a,x,l,B,j,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ef(t,i),_=i.memoizedProps,Q=zs(a,_),d.props=Q,J=i.pendingProps,B=d.context,j=a.contextType,x=ba,typeof j=="object"&&j!==null&&(x=Ft(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||B!==x)&&dy(i,d,l,x),Rr=!1,B=i.memoizedState,d.state=B,el(i,l,d,h),Wo();var G=i.memoizedState;_!==J||B!==G||Rr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(qf(i,a,T,l),G=i.memoizedState),(Q=Rr||fy(i,a,Q,l,B,G,x)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=x,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ps(i,t.child,null,h),i.child=Ps(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function Iy(t,i,a,l){return Ds(),i.flags|=256,Gt(t,i,a,l),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:yg()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?xr(i):Nr(),(t=tt)?(t=P_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:br!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Ar(i);return Od(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Nr(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=Ns(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Xf(a),l.childLanes=$f(t,_,a),i.memoizedState=Yf,sl(null,l)):(xr(i),Jf(i,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=Zf(t,i,a)):i.memoizedState!==null?(Nr(),i.child=t.child,i.flags|=128,i=null):(Nr(),T=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),T=Ns(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ps(i,t.child,null,a),l=i.child,l.memoizedState=Xf(a),l.childLanes=$f(t,_,a),i.memoizedState=Yf,i=sl(null,l));else if(xr(i),Od(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),i=Zf(t,i,a)}else if(At||Ra(t,i,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=et,_!==null&&(l=Ro(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,xs(t,l),hn(_,t,l),Qf;Dd(T)||vc(),i=Zf(t,i,a)}else Dd(T)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,tt=kn(T.nextSibling),qt=i,Le=!0,Sr=null,Mn=!1,t!==null&&hg(i,t),i=Jf(i,l.children),i.flags|=4096);return i}return h?(Nr(),T=l.fallback,h=i.mode,x=t.child,j=x.sibling,l=zi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?T=zi(j,T):(T=Ns(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,sl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Xf(a):(h=T.cachePool,h!==null?(x=bt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=yg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=$f(t,_,a),i.memoizedState=Yf,sl(t.child,l)):(xr(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Jf(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Zf(t,i,a){return Ps(i,t.child,null,a),t=Jf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),df(t.return,i,a)}function Wf(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Dy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Gt(t,i,l,a),l=Le?Qo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,d,l);break;case"together":Wf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ra(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Cb(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),wr(i,bt,t.memoizedState.cache),Ds();break;case 27:case 5:hs(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(xr(i),t=Gi(t,i,a),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Dy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,Sy(t,i,a,i.pendingProps);case 24:wr(i,bt,t.memoizedState.cache)}return Gi(t,i,a)}function Oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!ed(t,a)&&(i.flags&128)===0)return At=!1,Cb(t,i,a);At=(t.flags&131072)!==0}else At=!1,Le&&(i.flags&1048576)!==0&&cg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ks(i.elementType),i.type=t,typeof t=="function")sf(t)?(l=zs(t,l),i.tag=1,i=Cy(null,i,t,l,a)):(i.tag=0,i=Kf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===he){i.tag=11,i=Ey(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Ty(null,i,t,l,a);break e}}throw i=We(t)||t,Error(s(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),Cy(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ef(t,i),el(i,l,null,a);var _=i.memoizedState;if(l=_.cache,wr(i,bt,l),l!==d.cache&&mf(i,[bt],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),Ko(h),i=Iy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=kn(t.firstChild),qt=i,Le=!0,Sr=null,Mn=!0,a=Sg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ds(),l===h){i=Gi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Rc(Ce.current).createElement(a),l[vt]=i,l[Lt]=t,Qt(l,a,t),Et(l),i.stateNode=l):i.memoizedState=q_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return hs(i),t===null&&Le&&(l=i.stateNode=j_(i.type,i.pendingProps,Ce.current),qt=i,Mn=!0,h=tt,Ur(i.type)?(Md=h,tt=kn(l.firstChild)):tt=h),Gt(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=iS(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,tt=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||Ar(i)),hs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Id(h,d)?l=null:_!==null&&Id(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,_b,null,null,a),El._currentValue=h),uc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=rS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Ar(i)),null;case 13:return xy(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ps(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Ey(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Ty(t,i,i.type,i.pendingProps,a);case 15:return by(t,i,i.type,i.pendingProps,a);case 19:return Dy(t,i,a);case 31:return Rb(t,i,a);case 22:return Sy(t,i,a,i.pendingProps);case 24:return Ms(i),l=Ft(bt),t===null?(h=yf(),h===null&&(h=et,d=pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},vf(i),wr(i,bt,h)):((t.lanes&a)!==0&&(Ef(t,i),el(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,bt,l)):(l=d.cache,wr(i,bt,l),l!==h.cache&&mf(i,[bt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function td(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(s_())t.flags|=8192;else throw Ls=Yu,_f}else t.flags&=-16777217}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(i))if(s_())t.flags|=8192;else throw Ls=Yu,_f}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Ua|=i)}function al(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ib(t,i,a){var l=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(bt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(nt(i),My(i,d)):(nt(i),td(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),nt(i),My(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),nt(i),td(i,h,t,l,a)),null;case 27:if(ia(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=le.current,wa(i)?fg(i):(t=j_(h,l,a),i.stateNode=t,Qi(i))}return nt(i),null;case 5:if(ia(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=le.current,wa(i))fg(i);else{var _=Rc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return nt(i),td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,wa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Ar(i,!0)}else t=Rc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=wa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),nt(i),null);case 4:return rt(),t===null&&Sd(i.stateNode.containerInfo),nt(i),null;case 10:return Hi(i.type),nt(i),null;case 19:if(Z(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)al(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,al(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)og(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>gc&&(i.flags|=128,h=!0,al(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*tn()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&ji(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return vn(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(bt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xb(t,i){switch(uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(bt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Ds()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ds()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(mt),null;case 4:return rt(),null;case 10:return Hi(i.type),null;case 22:case 23:return vn(i),Af(),t!==null&&Z(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(bt),null;case 25:return null;default:return null}}function Vy(t,i){switch(uf(i),i.tag){case 3:Hi(bt),rt();break;case 26:case 27:case 5:ia(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Z(mt);break;case 10:Hi(i.type);break;case 22:case 23:vn(i),Af(),t!==null&&Z(Vs);break;case 24:Hi(bt)}}function ol(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function Dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var x=a,j=T;try{j()}catch(Q){Ye(h,x,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ye(i,i.return,Q)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{wg(i,a)}catch(l){Ye(t,t.return,l)}}}function Ly(t,i,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Py(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function nd(t,i,a){try{var l=t.stateNode;Jb(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function Uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(rd(t,i,a),t=t.sibling;t!==null;)rd(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[vt]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var Ki=!1,wt=!1,sd=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Nb(t,i){if(t=t.containerInfo,Rd=Mc,t=Zp(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,j=0,Q=0,J=t,B=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(x=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)B=J,J=G;for(;;){if(J===t)break t;if(B===a&&++j===h&&(T=_),B===d&&++Q===l&&(x=_),(G=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=G}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},Mc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=zs(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function By(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&ol(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&ky(a),l&512&&ll(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Xi(t,a),i===null&&l&4&&Py(a),l&512&&ll(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&Fy(t,a);break;case 13:Xi(t,a),l&4&&Gy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zb.bind(null,a),sS(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||wt,h=Ki;var d=wt;Ki=l,(wt=i)&&!d?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Ki=h,wt=d}break;case 30:break;default:Xi(t,a)}}function Hy(t){var i=t.alternate;i!==null&&(t.alternate=null,Hy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,on=!1;function Yi(t,i,a){for(a=a.child;a!==null;)qy(t,i,a),a=a.sibling}function qy(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:wt||Si(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Si(a,i);var l=at,h=on;Ur(a.type)&&(at=a.stateNode,on=!1),Yi(t,i,a),yl(a.stateNode),at=l,on=h;break;case 5:wt||Si(a,i);case 6:if(l=at,h=on,at=null,Yi(t,i,a),at=l,on=h,at!==null)if(on)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:at!==null&&(on?(t=at,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):k_(at,a.stateNode));break;case 4:l=at,h=on,at=a.stateNode.containerInfo,on=!0,Yi(t,i,a),at=l,on=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),wt||Dr(4,a,i),Yi(t,i,a);break;case 1:wt||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ly(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Yi(t,i,a),wt=l;break;default:Yi(t,i,a)}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Ye(i,i.return,a)}}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Ye(i,i.return,a)}}function Db(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jy),i;default:throw Error(s(435,t.tag))}}function dc(t,i){var a=Db(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=jb.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ur(T.type)){at=T.stateNode,on=!1;break e}break;case 5:at=T.stateNode,on=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(at===null)throw Error(s(160));qy(d,_,h),at=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Qy(i,t),i=i.sibling}var Jn=null;function Qy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Dr(3,t,t.return),ol(3,t),Dr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(wt||a===null||Si(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(ln(i,t),un(t),l&512&&(wt||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=Q_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Q_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else K_(h,t.type,t.stateNode);else t.stateNode=G_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?K_(h,t.type,t.stateNode):G_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(wt||a===null||Si(a,a.return)),a!==null&&l&4&&nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(wt||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ue){Ye(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(sd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Ye(t,t.return,ue)}}break;case 3:if(xc=null,h=Jn,Jn=Cc(i.containerInfo),ln(i,t),Jn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ue){Ye(t,t.return,ue)}sd&&(sd=!1,Ky(t));break;case 4:l=Jn,Jn=Cc(t.stateNode.containerInfo),ln(i,t),un(t),Jn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Ki,Q=wt;if(Ki=j||h,wt=Q||x,ln(i,t),wt=Q,Ki=j,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Ki||wt||js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var J=x.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Ye(x,x.return,ue)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ue){Ye(x,x.return,ue)}}}else if(i.tag===18){if(a===null){x=i;try{var G=x.stateNode;h?L_(G,!0):L_(x.stateNode,!1)}catch(ue){Ye(x,x.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Uy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=id(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=id(t);fc(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,j=id(t);rd(t,j,x);break;default:throw Error(s(161))}}catch(Q){Ye(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ky(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)By(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),js(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ly(i,i.return,a),js(i);break;case 27:yl(i.stateNode);case 26:case 5:Si(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function $i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),ol(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ag(x[h],T)}catch(j){Ye(l,l.return,j)}}a&&_&64&&ky(d),ll(d,d.return);break;case 27:zy(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&Py(d),ll(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&Fy(h,d);break;case 13:$i(h,d,a),a&&_&4&&Gy(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),ll(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(t,i,a,l),i=i.sibling}function Yy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),h&2048&&ol(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ye(i,i.return,x)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):ul(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ad(_,i);break;case 24:Zn(t,i,a,l),h&2048&&od(i.alternate,i);break;default:Zn(t,i,a,l)}}function ka(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,x=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,T,x,h),ol(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?ka(d,_,T,x,h):ul(d,_):(Q._visibility|=2,ka(d,_,T,x,h)),h&&j&2048&&ad(_.alternate,_);break;case 24:ka(d,_,T,x,h),h&&j&2048&&od(_.alternate,_);break;default:ka(d,_,T,x,h)}i=i.sibling}}function ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ul(a,l),h&2048&&ad(l.alternate,l);break;case 24:ul(a,l),h&2048&&od(l.alternate,l);break;default:ul(a,l)}i=i.sibling}}var cl=8192;function La(t,i,a){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Xy(t,i,a),t=t.sibling}function Xy(t,i,a){switch(t.tag){case 26:La(t,i,a),t.flags&cl&&t.memoizedState!==null&&yS(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:La(t,i,a);break;case 3:case 4:var l=Jn;Jn=Cc(t.stateNode.containerInfo),La(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=cl,cl=16777216,La(t,i,a),cl=l):La(t,i,a));break;default:La(t,i,a)}}function $y(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Zy(l,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):hl(t);break;default:hl(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Zy(l,t)}$y(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function Zy(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(Hy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var Ob={getCacheForType:function(t){var i=Ft(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(bt).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,xe=null,De=0,Ke=0,En=null,Or=!1,Pa=!1,ld=!1,Ji=0,ht=0,Mr=0,Bs=0,ud=0,Tn=0,Ua=0,fl=null,cn=null,cd=!1,pc=0,Wy=0,gc=1/0,yc=null,Vr=null,Mt=0,kr=null,za=null,Zi=0,hd=0,fd=null,e_=null,dl=0,dd=null;function bn(){return(qe&2)!==0&&De!==0?De&-De:K.T!==null?vd():_u()}function t_(){if(Tn===0)if((De&536870912)===0||Le){var t=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Lr(t,De,Tn,!1)),ps(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(Bs|=a),ht===4&&Lr(t,De,Tn,!1)),Ai(t))}function n_(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?Lb(t,i):pd(t,i,!0),d=l;do{if(h===0){Pa&&!l&&Lr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Vb(a)){h=pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=fl;var x=T.current.memoizedState.isDehydrated;if(x&&(ja(T,_).flags|=256),_=pd(T,_,!1),_!==2){if(ld&&!x){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ja(t,0),Lr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Lr(l,i,Tn,!Or);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-tn(),10<h)){if(Lr(l,i,Tn,!Or),ai(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=M_(i_.bind(null,l,a,cn,yc,cd,i,Tn,Bs,Ua,Or,d,"Throttled",-0,0),h);break e}i_(l,a,cn,yc,cd,i,Tn,Bs,Ua,Or,d,null,-0,0)}}break}while(!0);Ai(t)}function i_(t,i,a,l,h,d,_,T,x,j,Q,J,B,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Xy(i,d,J);var ue=(d&62914560)===d?pc-tn():(d&4194048)===d?Wy-tn():0;if(ue=_S(J,ue),ue!==null){Zi=d,t.cancelPendingCommit=ue(h_.bind(null,t,i,d,a,l,h,_,T,x,Q,J,null,B,G)),Lr(t,d,_,!j);return}}h_(t,i,d,a,l,h,_,T,x)}function Vb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Lr(t,i,a,l){i&=~ud,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&gs(t,a,i)}function _c(){return(qe&6)===0?(ml(0),!1):!0}function md(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,Bi=Os=null,Nf(t),Na=null,$o=0,t=xe;for(;t!==null;)Vy(t.alternate,t),t=t.return;xe=null}}function ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,md(),et=t,xe=a=zi(t.current,null),De=i,Ke=0,En=null,Or=!1,Pa=Hn(t,i),ld=!1,Ua=Tn=ud=Bs=Mr=ht=0,cn=fl=null,cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,zu(),a}function r_(t,i){Re=null,K.H=rl,i===xa||i===Ku?(i=Eg(),Ke=3):i===_f?(i=Eg(),Ke=4):Ke=i===Qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,xe===null&&(ht=1,oc(t,Nn(i,t.current)))}function s_(){var t=_n.current;return t===null?!0:(De&4194048)===De?Vn===null:(De&62914560)===De||(De&536870912)!==0?t===Vn:!1}function a_(){var t=K.H;return K.H=rl,t===null?rl:t}function o_(){var t=K.A;return K.A=Ob,t}function vc(){ht=4,Or||(De&4194048)!==De&&_n.current!==null||(Pa=!0),(Mr&134217727)===0&&(Bs&134217727)===0||et===null||Lr(et,De,Tn,!1)}function pd(t,i,a){var l=qe;qe|=2;var h=a_(),d=o_();(et!==t||De!==i)&&(yc=null,ja(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&xe!==null){var T=xe,x=En;switch(Ke){case 8:md(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var j=Ke;if(Ke=0,En=null,Ba(t,T,x,j),a&&Pa){_=0;break e}break;default:j=Ke,Ke=0,En=null,Ba(t,T,x,j)}}kb(),_=ht;break}catch(Q){r_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Bi=Os=null,qe=l,K.H=h,K.A=d,xe===null&&(et=null,De=0,zu()),_}function kb(){for(;xe!==null;)l_(xe)}function Lb(t,i){var a=qe;qe|=2;var l=a_(),h=o_();et!==t||De!==i?(yc=null,gc=tn()+500,ja(t,i)):Pa=Hn(t,i);e:do try{if(Ke!==0&&xe!==null){i=xe;var d=En;t:switch(Ke){case 1:Ke=0,En=null,Ba(t,i,d,1);break;case 2:case 9:if(_g(d)){Ke=0,En=null,u_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ai(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:_g(d)?(Ke=0,En=null,u_(i)):(Ke=0,En=null,Ba(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var T=xe;if(_?Y_(_):T.stateNode.complete){Ke=0,En=null;var x=T.sibling;if(x!==null)xe=x;else{var j=T.return;j!==null?(xe=j,Ec(j)):xe=null}break t}}Ke=0,En=null,Ba(t,i,d,5);break;case 6:Ke=0,En=null,Ba(t,i,d,6);break;case 8:md(),ht=6;break e;default:throw Error(s(462))}}Pb();break}catch(Q){r_(t,Q)}while(!0);return Bi=Os=null,K.H=l,K.A=h,qe=a,xe!==null?0:(et=null,De=0,zu(),ht)}function Pb(){for(;xe!==null&&!Fh();)l_(xe)}function l_(t){var i=Oy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Ec(t):xe=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ry(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Ry(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Nf(i);default:Vy(a,i),i=xe=og(i,Ji),i=Oy(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Ec(t):xe=i}function Ba(t,i,a,l){Bi=Os=null,Nf(i),Na=null,$o=0;var h=i.return;try{if(wb(t,h,i,a,De)){ht=1,oc(t,Nn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ht=1,oc(t,Nn(a,t.current)),xe=null;return}i.flags&32768?(Le||l===1?t=!0:Pa||(De&536870912)!==0?t=!1:(Or=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){c_(i,Or);return}t=i.return;var a=Ib(i.alternate,i,Ji);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ht===0&&(ht=5)}function c_(t,i){do{var a=xb(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ht=6,xe=null}function h_(t,i,a,l,h,d,_,T,x){t.cancelPendingCommit=null;do Tc();while(Mt!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=nf,Kh(t,a,d,_,T,x),t===et&&(xe=et=null,De=0),za=i,kr=t,Zi=a,hd=d,fd=h,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bb(fr,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,_=qe,qe|=4;try{Nb(t,i,a)}finally{qe=_,se.p=h,K.T=l}}Mt=1,f_(),d_(),m_()}}function f_(){if(Mt===1){Mt=0;var t=kr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{Qy(i,t);var d=Cd,_=Zp(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(x!==null&&Jh(T)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var G=B.getSelection(),ue=T.textContent.length,ye=Math.min(x.start,ue),Ze=x.end===void 0?ye:Math.min(x.end,ue);!G.extend&&ye>Ze&&(_=Ze,Ze=ye,ye=_);var k=$p(T,ye),D=$p(T,Ze);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=J.createRange();z.setStart(k.node,k.offset),G.removeAllRanges(),ye>Ze?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mc=!!Rd,Cd=Rd=null}finally{qe=h,se.p=l,K.T=a}}t.current=i,Mt=2}}function d_(){if(Mt===2){Mt=0;var t=kr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{By(t,i.alternate,i)}finally{qe=h,se.p=l,K.T=a}}Mt=3}}function m_(){if(Mt===4||Mt===3){Mt=0,hu();var t=kr,i=za,a=Zi,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,za=kr=null,p_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),ki(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,se.p=h}}(Zi&3)!==0&&Tc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===dd?dl++:(dl=0,dd=t):dl=0,ml(0)}}function p_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function Tc(){return f_(),d_(),m_(),g_()}function g_(){if(Mt!==5)return!1;var t=kr,i=hd;hd=0;var a=ki(Zi),l=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=fd,fd=null;var d=kr,_=Zi;if(Mt=0,za=kr=null,Zi=0,(qe&6)!==0)throw Error(s(331));var T=qe;if(qe|=4,Jy(d.current),Yy(d,d.current,_,a),qe=T,ml(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=h,K.T=l,p_(t,i)}}function y_(t,i,a){i=Nn(a,i),i=Gf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(ps(t,2),Ai(t))}function Ye(t,i,a){if(t.tag===3)y_(t,t,a);else for(;i!==null;){if(i.tag===3){y_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){t=Nn(a,t),a=_y(2),l=Ir(i,a,2),l!==null&&(vy(a,l,i,t),ps(l,2),Ai(l));break}}i=i.return}}function gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Mb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ld=!0,h.add(a),t=Ub.bind(null,t,i,a),i.then(t,t))}function Ub(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>tn()-pc?(qe&2)===0&&ja(t,0):ud|=a,Ua===De&&(Ua=0)),Ai(t)}function __(t,i){i===0&&(i=yu()),t=xs(t,i),t!==null&&(ps(t,i),Ai(t))}function zb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),__(t,a)}function jb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),__(t,a)}function Bb(t,i){return Ot(t,i)}var bc=null,Ha=null,yd=!1,Sc=!1,_d=!1,Pr=0;function Ai(t){t!==Ha&&t.next===null&&(Ha===null?bc=Ha=t:Ha=Ha.next=t),Sc=!0,yd||(yd=!0,qb())}function ml(t,i){if(!_d&&Sc){_d=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=De,d=ai(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,b_(l,d));l=l.next}while(a);_d=!1}}function Hb(){v_()}function v_(){Sc=yd=!1;var t=0;Pr!==0&&Wb()&&(t=Pr);for(var i=tn(),a=null,l=bc;l!==null;){var h=l.next,d=E_(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Mt!==0&&Mt!==5||ml(t),Pr!==0&&(Pr=0)}function E_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Qh(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=De,a=ai(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hr(l),ki(a)){case 2:case 8:a=Ao;break;case 32:a=fr;break;case 268435456:a=fu;break;default:a=fr}return l=T_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hr(l),t.callbackPriority=2,t.callbackNode=null,2}function T_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=De;return l=ai(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(n_(t,l,i),E_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?T_.bind(null,t):null)}function b_(t,i){if(Tc())return null;n_(t,i,!0)}function qb(){tS(function(){(qe&6)!==0?Ot(So,Hb):v_()})}function vd(){if(Pr===0){var t=Ca;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Pr=t}return Pr}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function A_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Fb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=S_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?S_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new yi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var x=_?A_(h,_):new FormData(h);zf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?A_(h,_):new FormData(h),zf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Ed=0;Ed<tf.length;Ed++){var Td=tf[Ed],Gb=Td.toLowerCase(),Qb=Td[0].toUpperCase()+Td.slice(1);$n(Gb,"on"+Qb)}$n(tg,"onAnimationEnd"),$n(ng,"onAnimationIteration"),$n(ig,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(lb,"onTransitionRun"),$n(ub,"onTransitionStart"),$n(cb,"onTransitionCancel"),$n(rg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function w_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(Q){Uu(Q)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,j=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(Q){Uu(Q)}h.currentTarget=null,d=x}}}}function Ne(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=t+"__bubble";a.has(l)||(R_(i,t,2,!1),a.add(l))}function bd(t,i,a){var l=0;i&&(l|=4),R_(a,t,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[Ac]){t[Ac]=!0,Co.forEach(function(a){a!=="selectionchange"&&(Kb.has(a)||bd(a,!1,t),bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,bd("selectionchange",!1,i))}}function R_(t,i,a,l){switch(tv(i)){case 2:var h=TS;break;case 8:h=bS;break;default:h=Ud}a=h.bind(null,i,a,t),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ad(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ci(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}_r(function(){var j=d,Q=Rn(a),J=[];e:{var B=sg.get(t);if(B!==void 0){var G=yi,ue=t;switch(t){case"keypress":if(Ss(a)===0)break e;case"keydown":case"keyup":G=ku;break;case"focusin":ue="focus",G=ws;break;case"focusout":ue="blur",G=ws;break;case"beforeblur":case"afterblur":G=ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case tg:case ng:case ig:G=Iu;break;case rg:G=S;break;case"scroll":case"scrollend":G=zo;break;case"wheel":G=q;break;case"copy":case"cut":case"paste":G=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ui;break;case"toggle":case"beforetoggle":G=we}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),k=ye?B!==null?B+"Capture":null:B;ye=[];for(var D=j,z;D!==null;){var X=D;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=Qn(D,k),X!=null&&ye.push(gl(D,X,z))),Ze)break;D=D.return}0<ye.length&&(B=new G(B,ue,null,a,Q),J.push({event:B,listeners:ye}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Lo&&(ue=a.relatedTarget||a.fromElement)&&(ci(ue)||ue[li]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ue=a.relatedTarget||a.toElement,G=j,ue=ue?ci(ue):null,ue!==null&&(Ze=u(ue),ye=ue.tag,ue!==Ze||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(G=null,ue=j),G!==ue)){if(ye=jo,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ui,X="onPointerLeave",k="onPointerEnter",D="pointer"),Ze=G==null?B:mn(G),z=ue==null?B:mn(ue),B=new ye(X,D+"leave",G,a,Q),B.target=Ze,B.relatedTarget=z,X=null,ci(Q)===j&&(ye=new ye(k,D+"enter",ue,a,Q),ye.target=z,ye.relatedTarget=Ze,X=ye),Ze=X,G&&ue)t:{for(ye=Yb,k=G,D=ue,z=0,X=k;X;X=ye(X))z++;X=0;for(var de=D;de;de=ye(de))X++;for(;0<z-X;)k=ye(k),z--;for(;0<X-z;)D=ye(D),X--;for(;z--;){if(k===D||D!==null&&k===D.alternate){ye=k;break t}k=ye(k),D=ye(D)}ye=null}else ye=null;G!==null&&C_(J,B,G,ye,!1),ue!==null&&Ze!==null&&C_(J,Ze,ue,ye,!0)}}e:{if(B=j?mn(j):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var je=Fp;else if(Hp(B))if(Gp)je=sb;else{je=ib;var ce=nb}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ha(j.elementType)&&(je=Fp):je=rb;if(je&&(je=je(t,j))){qp(J,je,a,Q);break e}ce&&ce(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Mo(B,"number",B.value)}switch(ce=j?mn(j):window,t){case"focusin":(Hp(ce)||ce.contentEditable==="true")&&(va=ce,Zh=j,Go=null);break;case"focusout":Go=Zh=va=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Wp(J,a,Q);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Wp(J,a,Q)}var Ie;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _a?Rs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ei&&a.locale!=="ko"&&(_a||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_a&&(Ie=Uo()):(gi=Q,Po="value"in gi?gi.value:gi.textContent,_a=!0)),ce=wc(j,Oe),0<ce.length&&(Oe=new vi(Oe,t,null,a,Q),J.push({event:Oe,listeners:ce}),Ie?Oe.data=Ie:(Ie=ya(a),Ie!==null&&(Oe.data=Ie)))),(Ie=In?Z1(t,a):W1(t,a))&&(Oe=wc(j,"onBeforeInput"),0<Oe.length&&(ce=new vi("onBeforeInput","beforeinput",null,a,Q),J.push({event:ce,listeners:Oe}),ce.data=Ie)),Fb(J,t,j,a,Q)}w_(J,i)})}function gl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(gl(t,h,d)),h=Qn(t,i),h!=null&&l.push(gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=Qn(a,d),j!=null&&_.unshift(gl(a,j,x))):h||(j=Qn(a,d),j!=null&&_.push(gl(a,j,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(Xb,`
`).replace($b,"")}function x_(t,i){return i=I_(i),I_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":ko(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ua(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,ua(t,a,l))}}function wd(t,i,a,l,h,d){switch(a){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ua(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,x=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}bu(t,d,T,x,j,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?mr(t,!!l,i,!1):a!=null&&mr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}pr(t,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,x,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)Ne(pl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,l,a,null)}return;default:if(ha(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&wd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function Jb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,j=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,J)}}for(var B in l){var G=l[B];if(J=a[B],l.hasOwnProperty(B)&&(G!=null||J!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Je(t,i,B,G,l,J)}}ca(t,_,T,x,j,Q,d,h);return;case"select":G=_=T=B=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&Je(t,i,h,d,l,x)}i=T,a=_,l=G,B!=null?mr(t,!!a,B,!1):!!l!=!!a&&(i!=null?mr(t,!!a,i,!0):mr(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Su(t,B,G);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:Je(t,i,ue,null,l,B));for(x in l)B=l[x],G=a[x],l.hasOwnProperty(x)&&B!==G&&(B!=null||G!=null)&&(x==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,i,x,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!l.hasOwnProperty(ye)&&Je(t,i,ye,null,l,B);for(j in l)if(B=l[j],G=a[j],l.hasOwnProperty(j)&&B!==G&&(B!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(t,i,j,B,l,G)}return;default:if(ha(i)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&wd(t,i,Ze,void 0,l,B);for(Q in l)B=l[Q],G=a[Q],!l.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||wd(t,i,Q,B,l,G);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,B);for(J in l)B=l[J],G=a[J],!l.hasOwnProperty(J)||B===G||B==null&&G==null||Je(t,i,J,B,l,G)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&N_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],j=x.startTime;if(j>T)break;var Q=x.transferSize,J=x.initiatorType;Q&&N_(J)&&(x=x.responseEnd,_+=Q*(x<T?1:(T-j)/(x-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Cd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Id(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(nS)}:M_;function nS(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function k_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&yl(t.ownerDocument.body);a=h}while(a);Qa(i)}function L_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function rS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function P_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Md=null;function U_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function j_(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var Ln=new Map,B_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=se.d;se.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:hS,X:dS,S:fS,M:mS};function aS(){var t=Wi.f(),i=_c();return t||i}function oS(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?ry(i):Wi.r(t)}var qa=typeof document>"u"?null:document;function H_(t,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),B_.has(h)||(B_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),Et(i),l.head.appendChild(i)))}}function lS(t){Wi.D(t),H_("dns-prefetch",t,null)}function uS(t,i){Wi.C(t,i),H_("preconnect",t,i)}function cS(t,i,a){Wi.L(t,i,a);var l=qa;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}Ln.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(d))||i==="script"&&l.querySelector(vl(d))||(i=l.createElement("link"),Qt(i,"link",t),Et(i),l.head.appendChild(i)))}}function hS(t,i){Wi.m(t,i);var a=qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Ln.has(d)&&(t=b({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}l=a.createElement("link"),Qt(l,"link",t),Et(l),a.head.appendChild(l)}}}function fS(t,i,a){Wi.S(t,i,a);var l=qa;if(l&&t){var h=hi(l).hoistableStyles,d=Fa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(_l(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Vd(t,a);var x=_=l.createElement("link");Et(x),Qt(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function dS(t,i){Wi.X(t,i);var a=qa;if(a&&t){var l=hi(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(t=b({src:t,async:!0},i),(i=Ln.get(h))&&kd(t,i),d=a.createElement("script"),Et(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mS(t,i){Wi.M(t,i);var a=qa;if(a&&t){var l=hi(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&kd(t,i),d=a.createElement("script"),Et(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(t,i,a,l){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=hi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(_l(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||pS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+sn(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function pS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),Et(i),t.head.appendChild(i))}function Ga(t){return'[src="'+sn(t)+'"]'}function vl(t){return"script[async]"+t}function G_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Qt(l,"style",h),Ic(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=F_(a),(h=Ln.get(h))&&Vd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Qt(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(vl(d)))?(i.instance=h,Et(h),h):(l=a,(h=Ln.get(d))&&(l=b({},a),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,t));return i.instance}function Ic(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function Q_(t,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function K_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=F_(l),(h=Ln.get(h))&&Vd(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ld=0;function _S(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Ld===0&&(Ld=62500*Zb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Ld?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(vS,t),Dc=null,Nc.call(t))}function vS(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var El={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ES(t,i,a,l,h,d,_,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function X_(t,i,a,l,h,d,_,T,x,j,Q,J){return t=new ES(t,i,a,_,x,j,Q,J,T),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},vf(d),t}function $_(t){return t?(t=ba,t):ba}function J_(t,i,a,l,h,d){h=$_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,i),a!==null&&(hn(a,t,i),Zo(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Pd(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function W_(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&hn(i,t,67108864),Pd(t,67108864)}}function ev(t){if(t.tag===13||t.tag===31){var i=bn();i=ys(i);var a=xs(t,i);a!==null&&hn(a,t,i),Pd(t,i)}}var Mc=!0;function TS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,Ud(t,i,a,l)}finally{se.p=d,K.T=h}}function bS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,Ud(t,i,a,l)}finally{se.p=d,K.T=h}}function Ud(t,i,a,l){if(Mc){var h=zd(l);if(h===null)Ad(t,i,l,Vc,a),nv(t,l);else if(AS(h,t,i,a,l))l.stopPropagation();else if(nv(t,l),i&4&&-1<SS.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-ft(_);T.entanglements[1]|=x,_&=~x}Ai(d),(qe&6)===0&&(gc=tn()+500,ml(0))}}break;case 31:case 13:T=xs(d,2),T!==null&&hn(T,d,2),_c(),Pd(d,2)}if(d=zd(l),d===null&&Ad(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ad(t,i,l,null,a)}}function zd(t){return t=Rn(t),jd(t)}var Vc=null;function jd(t){if(Vc=null,t=ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case So:return 2;case Ao:return 8;case fr:case Gh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Bd=!1,zr=null,jr=null,Br=null,Tl=new Map,bl=new Map,Hr=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,i){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Sl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&W_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function AS(t,i,a,l,h){switch(i){case"focusin":return zr=Sl(zr,t,i,a,l,h),!0;case"dragenter":return jr=Sl(jr,t,i,a,l,h),!0;case"mouseover":return Br=Sl(Br,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,Sl(Tl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Sl(bl.get(d)||null,t,i,a,l,h)),!0}return!1}function iv(t){var i=ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,qn(t.priority,function(){ev(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,qn(t.priority,function(){ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Lo=l,a.target.dispatchEvent(l),Lo=null}else return i=wn(a),i!==null&&W_(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){kc(t)&&a.delete(i)}function wS(){Bd=!1,zr!==null&&kc(zr)&&(zr=null),jr!==null&&kc(jr)&&(jr=null),Br!==null&&kc(Br)&&(Br=null),Tl.forEach(rv),bl.forEach(rv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wS)))}var Pc=null;function sv(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(x){return Lc(x,t)}zr!==null&&Lc(zr,t),jr!==null&&Lc(jr,t),Br!==null&&Lc(Br,t),Tl.forEach(i),bl.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||sv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(jd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function av(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Hd(t){this._internalRoot=t}Uc.prototype.render=Hd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();J_(a,l,t,i,null,null)},Uc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;J_(t.current,2,null,t,null,null),_c(),i[li]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.2.4")throw Error(s(527,ov,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var RS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Bn=zc.inject(RS),Bt=zc}catch{}}return wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=my,d=py,_=gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,l,null,h,d,_,av),t[li]=i.current,Sd(t),new Hd(i)},wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=my,_=py,T=gy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=X_(t,1,!0,i,a??null,l,h,x,d,_,T,av),i.context=$_(null),a=i.current,l=bn(),l=ys(l),h=Cr(l),h.callback=null,Ir(a,h,l),a=l,i.current.lanes=a,ps(i,a),Ai(i),t[li]=i.current,Sd(t),new Uc(i)},wl.version="19.2.4",wl}var yv;function PS(){if(yv)return Gd.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=LS(),Gd.exports}var US=PS();var _v="popstate";function zS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=Zs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),hm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:jl(u))}function s(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return BS(e,n,s,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function vv(r,e){return{usr:r.state,key:r.key,idx:e}}function hm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Zs(e):e,state:n,key:e&&e.key||s||jS()}}function jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Zs(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function BS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=E(),ne=H==null?null:H-y;y=H,g&&g({action:m,location:$.location,delta:ne})}function w(H,ne){m="PUSH";let ee=hm($.location,H,ne);n&&n(ee,H),y=E()+1;let ie=vv(ee,y),he=$.createHref(ee);try{f.pushState(ie,"",he)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(he)}u&&g&&g({action:m,location:$.location,delta:1})}function L(H,ne){m="REPLACE";let ee=hm($.location,H,ne);n&&n(ee,H),y=E();let ie=vv(ee,y),he=$.createHref(ee);f.replaceState(ie,"",he),u&&g&&g({action:m,location:$.location,delta:0})}function Y(H){return HS(H)}let $={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,b),g=H,()=>{o.removeEventListener(_v,b),g=null}},createHref(H){return e(o,H)},createURL:Y,encodeLocation(H){let ne=Y(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:L,go(H){return f.go(H)}};return $}function HS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:jl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function iE(r,e,n="/"){return qS(r,e,n,!1)}function qS(r,e,n,s){let o=typeof e=="string"?Zs(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let f=rE(r);FS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=tA(u);m=WS(f[g],y,s)}return m}function rE(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ot(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ir([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),rE(f.children,e,w,b,g)),!(f.path==null&&!f.index)&&e.push({path:b,score:JS(b,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of sE(f.path))u(f,m,!0,g)}),e}function sE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=sE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function FS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ZS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var GS=/^:[\w-]+$/,QS=3,KS=2,YS=1,XS=10,$S=-2,Ev=r=>r==="*";function JS(r,e){let n=r.split("/"),s=n.length;return n.some(Ev)&&(s+=$S),e&&(s+=KS),n.filter(o=>!Ev(o)).reduce((o,u)=>o+(GS.test(u)?QS:u===""?YS:XS),s)}function ZS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function WS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ir([u,b.pathname]),pathnameBase:sA(ir([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ir([u,b.pathnameBase]))}return f}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=eA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let Y=m[w]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const L=m[w];return b&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function eA(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function tA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function iA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Zs(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Tv(n.substring(1),"/"):u=Tv(n,e)):u=e,{pathname:u,search:aA(s),hash:oA(o)}}function Tv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Xd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hm(r){let e=rA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qm(r,e,n,s=!1){let o;typeof r=="string"?o=Zs(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Xd("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Xd("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Xd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=iA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ir=r=>r.join("/").replace(/\/\/+/g,"/"),sA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,lA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function uA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function cA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oE(r,e){let n=r;if(typeof n!="string"||!nA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(aE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=sr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lE=["POST","PUT","PATCH","DELETE"];new Set(lE);var hA=["GET",...lE];new Set(hA);var co=F.createContext(null);co.displayName="DataRouter";var Rh=F.createContext(null);Rh.displayName="DataRouterState";var fA=F.createContext(!1),uE=F.createContext({isTransitioning:!1});uE.displayName="ViewTransition";var dA=F.createContext(new Map);dA.displayName="Fetchers";var mA=F.createContext(null);mA.displayName="Await";var Sn=F.createContext(null);Sn.displayName="Navigation";var Zl=F.createContext(null);Zl.displayName="Location";var Vi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Fm=F.createContext(null);Fm.displayName="RouteError";var cE="REACT_ROUTER_ERROR",pA="REDIRECT",gA="ROUTE_ERROR_RESPONSE";function yA(r){if(r.startsWith(`${cE}:${pA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _A(r){if(r.startsWith(`${cE}:${gA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lA(e.status,e.statusText,e.data)}catch{}}function vA(r,{relative:e}={}){ot(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Sn),{hash:o,pathname:u,search:f}=Wl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ir([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ho(){return F.useContext(Zl)!=null}function cs(){return ot(ho(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Zl).location}var hE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fE(r){F.useContext(Sn).static||F.useLayoutEffect(r)}function Gm(){let{isDataRoute:r}=F.useContext(Vi);return r?OA():EA()}function EA(){ot(ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(co),{basename:e,navigator:n}=F.useContext(Sn),{matches:s}=F.useContext(Vi),{pathname:o}=cs(),u=JSON.stringify(Hm(s)),f=F.useRef(!1);return fE(()=>{f.current=!0}),F.useCallback((g,y={})=>{if(zn(f.current,hE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=qm(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ir([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}F.createContext(null);function Wl(r,{relative:e}={}){let{matches:n}=F.useContext(Vi),{pathname:s}=cs(),o=JSON.stringify(Hm(n));return F.useMemo(()=>qm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function TA(r,e){return dE(r,e)}function dE(r,e,n,s,o){ot(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Sn),{matches:f}=F.useContext(Vi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";pE(y,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let w=cs(),L;if(e){let ee=typeof e=="string"?Zs(e):e;ot(E==="/"||ee.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),L=ee}else L=w;let Y=L.pathname||"/",$=Y;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");$="/"+Y.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=iE(r,{pathname:$});zn(b||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=RA(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:ir([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:ir([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),f,n,s,o);return e&&ne?F.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ne):ne}function bA(){let r=DA(),e=uA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var SA=F.createElement(bA,null),mE=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=_A(r.digest);n&&(r=n)}let e=r!==void 0?F.createElement(Vi.Provider,{value:this.props.routeContext},F.createElement(Fm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(AA,{error:r},e):e}};mE.contextType=fA;var $d=new WeakMap;function AA({children:r,error:e}){let{basename:n}=F.useContext(Sn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=yA(e.digest);if(s){let o=$d.get(e);if(o)throw o;let u=oE(s.location,n);if(aE&&!$d.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw $d.set(e,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function wA({routeContext:r,match:e,children:n}){let s=F.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Vi.Provider,{value:r},n)}function RA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ot(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:w,errors:L}=n,Y=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||Y){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,w)=>{let L,Y=!1,$=null,H=null;n&&(L=f&&b.route.id?f[b.route.id]:void 0,$=b.route.errorElement||SA,m&&(g<0&&w===0?(pE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,H=null):g===w&&(Y=!0,H=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),ee=()=>{let ie;return L?ie=$:Y?ie=H:b.route.Component?ie=F.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=E,F.createElement(wA,{match:b,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?F.createElement(mE,{location:n.location,revalidation:n.revalidation,component:$,error:L,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ee()},null)}function Qm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(r){let e=F.useContext(co);return ot(e,Qm(r)),e}function IA(r){let e=F.useContext(Rh);return ot(e,Qm(r)),e}function xA(r){let e=F.useContext(Vi);return ot(e,Qm(r)),e}function Km(r){let e=xA(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function NA(){return Km("useRouteId")}function DA(){let r=F.useContext(Fm),e=IA("useRouteError"),n=Km("useRouteError");return r!==void 0?r:e.errors?.[n]}function OA(){let{router:r}=CA("useNavigate"),e=Km("useNavigate"),n=F.useRef(!1);return fE(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{zn(n.current,hE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var bv={};function pE(r,e,n){!e&&!bv[r]&&(bv[r]=!0,zn(!1,n))}F.memo(MA);function MA({routes:r,future:e,state:n,onError:s}){return dE(r,void 0,n,s,e)}function VA({to:r,replace:e,state:n,relative:s}){ot(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Sn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Vi),{pathname:f}=cs(),m=Gm(),g=qm(r,Hm(u),f,s==="path"),y=JSON.stringify(g);return F.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function fm(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ot(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Zs(n));let{pathname:y="/",search:E="",hash:b="",state:w=null,key:L="default"}=n,Y=F.useMemo(()=>{let $=sr(y,m);return $==null?null:{location:{pathname:$,search:E,hash:b,state:w,key:L},navigationType:s}},[m,y,E,b,w,L,s]);return zn(Y!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:F.createElement(Sn.Provider,{value:g},F.createElement(Zl.Provider,{children:e,value:Y}))}function LA({children:r,location:e}){return TA(dm(r),e)}function dm(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,dm(s.props.children,u));return}ot(s.type===fm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=dm(s.props.children,u)),n.push(f)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Ch(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function PA(r){return Ch(r)&&r.tagName.toLowerCase()==="button"}function UA(r){return Ch(r)&&r.tagName.toLowerCase()==="form"}function zA(r){return Ch(r)&&r.tagName.toLowerCase()==="input"}function jA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BA(r,e){return r.button===0&&(!e||e==="_self")&&!jA(r)}var jc=null;function HA(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var qA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jd(r){return r!=null&&!qA.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):r}function FA(r,e){let n,s,o,u,f;if(UA(r)){let m=r.getAttribute("action");s=m?sr(m,e):null,n=r.getAttribute("method")||Kc,o=Jd(r.getAttribute("enctype"))||Yc,u=new FormData(r)}else if(PA(r)||zA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?sr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=Jd(r.getAttribute("formenctype"))||Jd(m.getAttribute("enctype"))||Yc,u=new FormData(m,r),!HA()){let{name:y,type:E,value:b}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(Ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ym(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function GA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&sr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function QA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await QA(u,n);return f.links?f.links():[]}return[]}));return ZA(s.flat(1).filter(KA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XA(r,e,{includeHydrateFallback:n}={}){return $A(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $A(r){return[...new Set(r)]}function JA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function ZA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(JA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function gE(){let r=F.useContext(co);return Ym(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function WA(){let r=F.useContext(Rh);return Ym(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xm=F.createContext(void 0);Xm.displayName="FrameworkContext";function yE(){let r=F.useContext(Xm);return Ym(r,"You must render this element inside a <HydratedRouter> element"),r}function ew(r,e){let n=F.useContext(Xm),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ne=>{ne.forEach(ee=>{f(ee.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),F.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Rl(m,L),onBlur:Rl(g,Y),onMouseEnter:Rl(y,L),onMouseLeave:Rl(E,Y),onTouchStart:Rl(b,L)}]:[!1,w,{}]}function Rl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function tw({page:r,...e}){let{router:n}=gE(),s=F.useMemo(()=>iE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(iw,{page:r,matches:s,...e}):null}function nw(r){let{manifest:e,routeModules:n}=yE(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return YA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function iw({page:r,matches:e,...n}){let s=cs(),{future:o,manifest:u,routeModules:f}=yE(),{basename:m}=gE(),{loaderData:g,matches:y}=WA(),E=F.useMemo(()=>Sv(r,e,y,u,s,"data"),[r,e,y,u,s]),b=F.useMemo(()=>Sv(r,e,y,u,s,"assets"),[r,e,y,u,s]),w=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,H=!1;if(e.forEach(ee=>{let ie=u.routes[ee.route.id];!ie||!ie.hasLoader||(!E.some(he=>he.route.id===ee.route.id)&&ee.route.id in g&&f[ee.route.id]?.shouldRevalidate||ie.hasClientLoader?H=!0:$.add(ee.route.id))}),$.size===0)return[];let ne=GA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&$.size>0&&ne.searchParams.set("_routes",e.filter(ee=>$.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),L=F.useMemo(()=>XA(b,u),[b,u]),Y=nw(b);return F.createElement(F.Fragment,null,w.map($=>F.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),L.map($=>F.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Y.map(({key:$,link:H})=>F.createElement("link",{key:$,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function rw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sw&&(window.__reactRouterVersion="7.13.0")}catch{}function aw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=zS({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),g=F.useCallback(y=>{n===!1?m(y):F.startTransition(()=>m(y))},[n]);return F.useLayoutEffect(()=>u.listen(g),[u,g]),F.createElement(kA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vE=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...L},Y){let{basename:$,unstable_useTransitions:H}=F.useContext(Sn),ne=typeof y=="string"&&_E.test(y),ee=oE(y,$);y=ee.to;let ie=vA(y,{relative:o}),[he,ge,Ee]=ew(s,L),I=cw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:H});function A(V){e&&e(V),V.defaultPrevented||I(V)}let C=F.createElement("a",{...L,...Ee,href:ee.absoluteURL||ie,onClick:ee.isExternal||u?e:A,ref:rw(Y,ge),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return he&&!ne?F.createElement(F.Fragment,null,C,F.createElement(tw,{page:ie})):C});vE.displayName="Link";var ow=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let b=Wl(f,{relative:y.relative}),w=cs(),L=F.useContext(Rh),{navigator:Y,basename:$}=F.useContext(Sn),H=L!=null&&pw(b)&&m===!0,ne=Y.encodeLocation?Y.encodeLocation(b).pathname:b.pathname,ee=w.pathname,ie=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&$&&(ie=sr(ie,$)||ie);const he=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ge=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(he)==="/",Ee=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),I={isActive:ge,isPending:Ee,isTransitioning:H},A=ge?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ge?"active":null,Ee?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return F.createElement(vE,{...y,"aria-current":A,className:C,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(I):g)});ow.displayName="NavLink";var lw=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...L},Y)=>{let{unstable_useTransitions:$}=F.useContext(Sn),H=dw(),ne=mw(m,{relative:y}),ee=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&_E.test(m),he=ge=>{if(g&&g(ge),ge.defaultPrevented)return;ge.preventDefault();let Ee=ge.nativeEvent.submitter,I=Ee?.getAttribute("formmethod")||f,A=()=>H(Ee||ge.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w});$&&n!==!1?F.startTransition(()=>A()):A()};return F.createElement("form",{ref:Y,method:ee,action:ne,onSubmit:s?g:he,...L,"data-discover":!ie&&r==="render"?"true":void 0})});lw.displayName="Form";function uw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EE(r){let e=F.useContext(co);return ot(e,uw(r)),e}function cw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Gm(),E=cs(),b=Wl(r,{relative:u});return F.useCallback(w=>{if(BA(w,e)){w.preventDefault();let L=n!==void 0?n:jl(E)===jl(b),Y=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?F.startTransition(()=>Y()):Y()}},[E,y,b,n,s,e,r,o,u,f,m,g])}var hw=0,fw=()=>`__${String(++hw)}__`;function dw(){let{router:r}=EE("useSubmit"),{basename:e}=F.useContext(Sn),n=NA(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:b}=FA(u,e);if(f.navigate===!1){let w=f.fetcherKey||fw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function mw(r,{relative:e}={}){let{basename:n}=F.useContext(Sn),s=F.useContext(Vi);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wl(r||".",{relative:e})},f=cs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ir([n,u.pathname])),jl(u)}function pw(r,{relative:e}={}){let n=F.useContext(uE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=EE("useViewTransitionState"),o=Wl(r,{relative:e});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}var dn;(function(r){r.INITIAL="initial",r.PENDING="pending",r.REJECTED="rejected",r.RESOLVED="resolved"})(dn||(dn={}));var $r;(function(r){r.LOADING_STATUS="setLoadingStatus",r.RESET_OPTIONS="resetOptions",r.SET_BRAINTREE_INSTANCE="braintreeInstance"})($r||($r={}));var Av;(function(r){r.NUMBER="number",r.CVV="cvv",r.EXPIRATION_DATE="expirationDate",r.EXPIRATION_MONTH="expirationMonth",r.EXPIRATION_YEAR="expirationYear",r.POSTAL_CODE="postalCode"})(Av||(Av={}));var Ct=function(){return Ct=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ct.apply(this,arguments)};function TE(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function wv(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}var Bl="data-react-paypal-script-id",qs={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},gw="Failed to load the PayPal JS SDK script.",bE="paypal",yw="usePayPalScriptReducer must be used within a PayPalScriptProvider";function _w(r){return r===void 0&&(r=bE),window[r]}function vw(r){for(var e="",n=0;n<r.length;n++){var s=r[n].charCodeAt(0)*n;r[n+1]&&(s+=r[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(s)%26)}return e}function Ew(r){var e=r.reactComponentName,n=r.sdkComponentKey,s=r.sdkRequestedComponents,o=s===void 0?"":s,u=r.sdkDataNamespace,f=u===void 0?bE:u,m=n.charAt(0).toUpperCase().concat(n.substring(1)),g="Unable to render <".concat(e," /> because window.").concat(f,".").concat(m," is undefined."),y=typeof o=="string"?o:o.join(",");if(!y.includes(n)){var E=[y,n].filter(Boolean).join();g+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(E,"'}}>`.")}return g}function SE(r){var e=r,n=Bl;e[n];var s=TE(e,[n+""]);return"react-paypal-js-".concat(vw(JSON.stringify(s)))}function Tw(r){var e=self.document.querySelector("script[".concat(Bl,'="').concat(r,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function bw(r,e){var n,s;switch(e.type){case $r.LOADING_STATUS:return typeof e.value=="object"?Ct(Ct({},r),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Ct(Ct({},r),{loadingStatus:e.value});case $r.RESET_OPTIONS:return Tw(r.options[Bl]),Ct(Ct({},r),{loadingStatus:dn.PENDING,options:Ct(Ct((n={},n[qs.DATA_SDK_INTEGRATION_SOURCE]=qs.DATA_LIBRARY_VALUE,n),e.value),(s={},s[Bl]="".concat(SE(e.value)),s))});case $r.SET_BRAINTREE_INSTANCE:return Ct(Ct({},r),{braintreePayPalCheckoutInstance:e.value});default:return r}}var AE=F.createContext(null);function Sw(r){if(typeof r?.dispatch=="function"&&r.dispatch.length!==0)return r;throw new Error(yw)}function Aw(){var r=Sw(F.useContext(AE)),e=Ct(Ct({},r),{isInitial:r.loadingStatus===dn.INITIAL,isPending:r.loadingStatus===dn.PENDING,isResolved:r.loadingStatus===dn.RESOLVED,isRejected:r.loadingStatus===dn.REJECTED});return[e,r.dispatch]}F.createContext({});function ww(r){var e=F.useRef(new Proxy({},{get:function(n,s,o){return typeof n[s]=="function"?function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return n[s].apply(n,u)}:Reflect.get(n,s,o)}}));return e.current=Object.assign(e.current,r),e.current}var $m=function(r){var e,n=r.className,s=n===void 0?"":n,o=r.disabled,u=o===void 0?!1:o,f=r.children,m=r.forceReRender,g=m===void 0?[]:m,y=TE(r,["className","disabled","children","forceReRender"]),E=u?{opacity:.38}:{},b="".concat(s," ").concat(u?"paypal-buttons-disabled":"").trim(),w=F.useRef(null),L=F.useRef(null),Y=ww(y),$=Aw()[0],H=$.isResolved,ne=$.options,ee=F.useState(null),ie=ee[0],he=ee[1],ge=F.useState(!0),Ee=ge[0],I=ge[1],A=F.useState(null),C=A[1];function V(){L.current!==null&&L.current.close().catch(function(){})}return!((e=L.current)===null||e===void 0)&&e.updateProps&&L.current.updateProps({message:y.message}),F.useEffect(function(){if(H===!1)return V;var N=_w(ne.dataNamespace);if(N===void 0||N.Buttons===void 0)return C(function(){throw new Error(Ew({reactComponentName:$m.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:ne.components,sdkDataNamespace:ne[qs.DATA_NAMESPACE]}))}),V;var P=function(R,We){he(We),typeof y.onInit=="function"&&y.onInit(R,We)};try{L.current=N.Buttons(Ct(Ct({},Y),{onInit:P}))}catch(R){return C(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(R))})}return L.current.isEligible()===!1?(I(!1),V):(w.current&&L.current.render(w.current).catch(function(R){w.current===null||w.current.children.length===0||C(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(R))})}),V)},wv(wv([H],g,!0),[y.fundingSource],!1)),F.useEffect(function(){ie!==null&&(u===!0?ie.disable().catch(function(){}):ie.enable().catch(function(){}))},[u,ie]),Yr.createElement(Yr.Fragment,null,Ee?Yr.createElement("div",{ref:w,style:E,className:b}):f)};$m.displayName="PayPalButtons";function Rw(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Cw(r,e){var n=document.querySelector('script[src="'.concat(r,'"]'));if(n===null)return null;var s=wE(r,e),o=n.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var u=!0;return Object.keys(o.dataset).forEach(function(f){o.dataset[f]!==s.dataset[f]&&(u=!1)}),u?n:null}function Iw(r){var e=r.url,n=r.attributes,s=r.onSuccess,o=r.onError,u=wE(e,n);u.onerror=o,u.onload=s,document.head.insertBefore(u,document.head.firstElementChild)}function xw(r){var e=r.sdkBaseUrl,n=r.environment,s=Rw(r,["sdkBaseUrl","environment"]),o=e||Ow(n),u=s,f=Object.keys(u).filter(function(y){return typeof u[y]<"u"&&u[y]!==null&&u[y]!==""}).reduce(function(y,E){var b=u[E].toString();return E=Nw(E),E.substring(0,4)==="data"||E==="crossorigin"?y.attributes[E]=b:y.queryParams[E]=b,y},{queryParams:{},attributes:{}}),m=f.queryParams,g=f.attributes;return m["merchant-id"]&&m["merchant-id"].indexOf(",")!==-1&&(g["data-merchant-id"]=m["merchant-id"],m["merchant-id"]="*"),{url:"".concat(o,"?").concat(Dw(m)),attributes:g}}function Nw(r){var e=function(n,s){return(s?"-":"")+n.toLowerCase()};return r.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function Dw(r){var e="";return Object.keys(r).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+r[n]}),e}function Ow(r){return r==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function wE(r,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=r,Object.keys(e).forEach(function(s){n.setAttribute(s,e[s]),s==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function Mw(r,e){if(e===void 0&&(e=Promise),RE(r,e),typeof document>"u")return e.resolve(null);var n=xw(r),s=n.url,o=n.attributes,u=o["data-namespace"]||"paypal",f=Rv(u);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),Cw(s,o)&&f?e.resolve(f):Vw({url:s,attributes:o},e).then(function(){var m=Rv(u);if(m)return m;throw new Error("The window.".concat(u," global variable is not available."))})}function Vw(r,e){e===void 0&&(e=Promise),RE(r,e);var n=r.url,s=r.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new e(function(o,u){if(typeof document>"u")return o();Iw({url:n,attributes:s,onSuccess:function(){return o()},onError:function(){var f=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return u(f)}})})}function Rv(r){return window[r]}function RE(r,e){if(typeof r!="object"||r===null)throw new Error("Expected an options object.");var n=r.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var kw=function(r){var e,n=r.options,s=n===void 0?{clientId:"test"}:n,o=r.children,u=r.deferLoading,f=u===void 0?!1:u,m=F.useReducer(bw,{options:Ct(Ct({},s),(e={},e[qs.DATA_JS_SDK_LIBRARY]=qs.DATA_LIBRARY_VALUE,e[qs.DATA_SDK_INTEGRATION_SOURCE]=qs.DATA_LIBRARY_VALUE,e[Bl]="".concat(SE(s)),e)),loadingStatus:f?dn.INITIAL:dn.PENDING}),g=m[0],y=m[1];return F.useEffect(function(){if(f===!1&&g.loadingStatus===dn.INITIAL)return y({type:$r.LOADING_STATUS,value:dn.PENDING});if(g.loadingStatus===dn.PENDING){var E=!0;return Mw(g.options).then(function(){E&&y({type:$r.LOADING_STATUS,value:dn.RESOLVED})}).catch(function(b){console.error("".concat(gw," ").concat(b)),E&&y({type:$r.LOADING_STATUS,value:{state:dn.REJECTED,message:String(b)}})}),function(){E=!1}}},[g.options,f,g.loadingStatus]),Yr.createElement(AE.Provider,{value:Ct(Ct({},g),{dispatch:y})},o)};function Cv(){}F.createContext({cardFieldsForm:null,fields:{},registerField:Cv,unregisterField:Cv});const Iv=r=>{let e;const n=new Set,s=(y,E)=>{const b=typeof y=="function"?y(e):y;if(!Object.is(b,e)){const w=e;e=E??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(L=>L(e,w))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:y=>(n.add(y),()=>n.delete(y))},g=e=r(s,o,m);return m},Lw=(r=>r?Iv(r):Iv),Pw=r=>r;function Uw(r,e=Pw){const n=Yr.useSyncExternalStore(r.subscribe,Yr.useCallback(()=>e(r.getState()),[r,e]),Yr.useCallback(()=>e(r.getInitialState()),[r,e]));return Yr.useDebugValue(n),n}const xv=r=>{const e=Lw(r),n=s=>Uw(e,s);return Object.assign(n,e),n},CE=(r=>r?xv(r):xv);function zw(r,e){let n;try{n=r()}catch{return}return{getItem:o=>{var u;const f=g=>g===null?null:JSON.parse(g,void 0),m=(u=n.getItem(o))!=null?u:null;return m instanceof Promise?m.then(f):f(m)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const mm=r=>e=>{try{const n=r(e);return n instanceof Promise?n:{then(s){return mm(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return mm(s)(n)}}}},jw=(r,e)=>(n,s,o)=>{let u={storage:zw(()=>window.localStorage),partialize:H=>H,version:0,merge:(H,ne)=>({...ne,...H}),...e},f=!1,m=0;const g=new Set,y=new Set;let E=u.storage;if(!E)return r((...H)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...H)},s,o);const b=()=>{const H=u.partialize({...s()});return E.setItem(u.name,{state:H,version:u.version})},w=o.setState;o.setState=(H,ne)=>(w(H,ne),b());const L=r((...H)=>(n(...H),b()),s,o);o.getInitialState=()=>L;let Y;const $=()=>{var H,ne;if(!E)return;const ee=++m;f=!1,g.forEach(he=>{var ge;return he((ge=s())!=null?ge:L)});const ie=((ne=u.onRehydrateStorage)==null?void 0:ne.call(u,(H=s())!=null?H:L))||void 0;return mm(E.getItem.bind(E))(u.name).then(he=>{if(he)if(typeof he.version=="number"&&he.version!==u.version){if(u.migrate){const ge=u.migrate(he.state,he.version);return ge instanceof Promise?ge.then(Ee=>[!0,Ee]):[!0,ge]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,he.state];return[!1,void 0]}).then(he=>{var ge;if(ee!==m)return;const[Ee,I]=he;if(Y=u.merge(I,(ge=s())!=null?ge:L),n(Y,!0),Ee)return b()}).then(()=>{ee===m&&(ie?.(Y,void 0),Y=s(),f=!0,y.forEach(he=>he(Y)))}).catch(he=>{ee===m&&ie?.(void 0,he)})};return o.persist={setOptions:H=>{u={...u,...H},H.storage&&(E=H.storage)},clearStorage:()=>{E?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>$(),hasHydrated:()=>f,onHydrate:H=>(g.add(H),()=>{g.delete(H)}),onFinishHydration:H=>(y.add(H),()=>{y.delete(H)})},u.skipHydration||$(),Y||L},Bw=jw,is=CE()(Bw(r=>({caffeineMg:240,hydrationL:1.2,streak:5,treeGrowthPercent:75,showRewardPopup:!1,showPremiumShop:!1,showCollectionBook:!1,showQuests:!1,collectedCards:[],currentRewardCard:null,quests:[{id:"q1",title:"Record 2 Coffees",type:"coffee",current:0,target:2,completed:!1,rewardGrowth:10},{id:"q2",title:"Drink 1L Water",type:"water",current:0,target:1,completed:!1,rewardGrowth:10}],addCoffee:e=>r(n=>{const s=Math.min(100,n.treeGrowthPercent+5),o=n.quests.map(g=>{if(g.type==="coffee"&&!g.completed){const y=g.current+1;return{...g,current:y,completed:y>=g.target}}return g}),u=Math.random()<.2;let f=null,m=!1;return u&&(f={id:crypto.randomUUID(),name:"Blue Mountain",rarity:"Legendary",location:"Jamaica"},m=!0),{caffeineMg:n.caffeineMg+e,treeGrowthPercent:s,showRewardPopup:m,currentRewardCard:f,collectedCards:f?[...n.collectedCards,f]:n.collectedCards,quests:o}}),waterPlant:e=>r(n=>{const s=n.quests.map(o=>{if(o.type==="water"&&!o.completed){const u=+(o.current+e).toFixed(1);return{...o,current:u,completed:u>=o.target}}return o});return{hydrationL:+(n.hydrationL+e).toFixed(1),treeGrowthPercent:Math.min(100,n.treeGrowthPercent+2),quests:s}}),closeRewardPopup:()=>r({showRewardPopup:!1,currentRewardCard:null}),togglePremiumShop:e=>r({showPremiumShop:e}),toggleCollectionBook:e=>r({showCollectionBook:e}),toggleQuests:e=>r({showQuests:e}),claimQuestReward:e=>r(n=>{const s=n.quests.find(u=>u.id===e);if(!s||!s.completed||s.rewardGrowth===0)return n;const o=n.quests.map(u=>u.id===e?{...u,rewardGrowth:0}:u);return{treeGrowthPercent:Math.min(100,n.treeGrowthPercent+s.rewardGrowth),quests:o}})}),{name:"coffee-forest-storage"})),Hw=()=>{};var Nv={};const IE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(w=64)),s.push(n[E],n[b],n[w],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(IE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new Fw;const w=u<<2|m>>4;if(s.push(w),y!==64){const L=m<<4&240|y>>2;if(s.push(L),b!==64){const Y=y<<6&192|b;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(r){const e=IE(r);return xE.encodeByteArray(e,!0)},ah=function(r){return Gw(r).replace(/\./g,"")},NE=function(r){try{return xE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Qw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof Nv>"u")return;const r=Nv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&NE(r[1]);return e&&JSON.parse(e)},Ih=()=>{try{return Hw()||Kw()||Yw()||Xw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DE=r=>Ih()?.emulatorHosts?.[r],$w=r=>{const e=DE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OE=()=>Ih()?.config,ME=r=>Ih()?.[`_${r}`];class Jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(r){return(await fetch(r,{credentials:"include"})).ok}function Zw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Ml={};function Ww(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function eR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Dv=!1;function kE(r,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ml[r]===e||Ml[r]||Dv)return;Ml[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Ww().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Dv=!0,f()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=eR(s),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),$=n("learnmore"),H=document.getElementById($)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),E(H,$);const he=y();g(ee,ne),ie.append(ee,Y,H,he),document.body.appendChild(ie)}u?(Y.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function nR(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const cR="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cR,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function hR(r,e){return r.replace(fR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function dR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Ov(u)&&Ov(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ov(r){return r!==null&&typeof r=="object"}function tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mR(r,e){const n=new pR(r,e);return n.subscribe.bind(n)}class pR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Zd),o.error===void 0&&(o.error=Zd),o.complete===void 0&&(o.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Zd(){}function jn(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class yR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Jw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_R(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _R(r){return r===Hs?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const TR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},bR=Me.INFO,SR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},AR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=SR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=bR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const wR=(r,e)=>e.some(n=>r instanceof n);let Mv,Vv;function RR(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,pm=new WeakMap,PE=new WeakMap,Wd=new WeakMap,Zm=new WeakMap;function IR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&LE.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function xR(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||PE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NR(r){gm=r(gm)}function DR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(em(this),e,...n);return PE.set(s,e.sort?e.sort():[e]),Jr(s)}:CR().includes(r)?function(...e){return r.apply(em(this),e),Jr(LE.get(this))}:function(...e){return Jr(r.apply(em(this),e))}}function OR(r){return typeof r=="function"?DR(r):(r instanceof IDBTransaction&&xR(r),wR(r,RR())?new Proxy(r,gm):r)}function Jr(r){if(r instanceof IDBRequest)return IR(r);if(Wd.has(r))return Wd.get(r);const e=OR(r);return e!==r&&(Wd.set(r,e),Zm.set(e,r)),e}const em=r=>Zm.get(r);function MR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Jr(f.result),g.oldVersion,g.newVersion,Jr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],tm=new Map;function kv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return tm.set(e,u),u}NR(r=>({...r,get:(e,n,s)=>kv(e,n)||r.get(e,n,s),has:(e,n)=>!!kv(e,n)||r.has(e,n)}));class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PR(r){return r.getComponent()?.type==="VERSION"}const ym="@firebase/app",Lv="0.14.8";const ar=new Jm("@firebase/app"),UR="@firebase/app-compat",zR="@firebase/analytics-compat",jR="@firebase/analytics",BR="@firebase/app-check-compat",HR="@firebase/app-check",qR="@firebase/auth",FR="@firebase/auth-compat",GR="@firebase/database",QR="@firebase/data-connect",KR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",$R="@firebase/installations",JR="@firebase/installations-compat",ZR="@firebase/messaging",WR="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",i2="@firebase/remote-config-compat",r2="@firebase/storage",s2="@firebase/storage-compat",a2="@firebase/firestore",o2="@firebase/ai",l2="@firebase/firestore-compat",u2="firebase",c2="12.9.0";const _m="[DEFAULT]",h2={[ym]:"fire-core",[UR]:"fire-core-compat",[jR]:"fire-analytics",[zR]:"fire-analytics-compat",[HR]:"fire-app-check",[BR]:"fire-app-check-compat",[qR]:"fire-auth",[FR]:"fire-auth-compat",[GR]:"fire-rtdb",[QR]:"fire-data-connect",[KR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[$R]:"fire-iid",[JR]:"fire-iid-compat",[ZR]:"fire-fcm",[WR]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[i2]:"fire-rc-compat",[r2]:"fire-gcs",[s2]:"fire-gcs-compat",[a2]:"fire-fst",[l2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};const oh=new Map,f2=new Map,vm=new Map;function Pv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function io(r){const e=r.name;if(vm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of oh.values())Pv(n,r);for(const n of f2.values())Pv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}const d2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new eu("app","Firebase",d2);class m2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const mo=c2;function UE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:_m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw Zr.create("no-options");const u=oh.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new ER(o);for(const g of vm.values())f.addComponent(g);const m=new m2(n,s,f);return oh.set(o,m),m}function zE(r=_m){const e=oh.get(r);if(!e&&r===_m&&OE())return UE();if(!e)throw Zr.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=h2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}io(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const p2="firebase-heartbeat-database",g2=1,Hl="firebase-heartbeat-store";let nm=null;function jE(){return nm||(nm=MR(p2,g2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),nm}async function y2(r){try{const n=(await jE()).transaction(Hl),s=await n.objectStore(Hl).get(BE(r));return await n.done,s}catch(e){if(e instanceof cr)ar.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function Uv(r,e){try{const s=(await jE()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,BE(r)),await s.done}catch(n){if(n instanceof cr)ar.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function BE(r){return`${r.name}!${r.options.appId}`}const _2=1024,v2=30;class E2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>v2){const o=S2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zv(),{heartbeatsToSend:n,unsentEntries:s}=T2(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function zv(){return new Date().toISOString().substring(0,10)}function T2(r,e=_2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),jv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jv(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function S2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function A2(r){io(new Ks("platform-logger",e=>new LR(e),"PRIVATE")),io(new Ks("heartbeat",e=>new E2(e),"PRIVATE")),Wr(ym,Lv,r),Wr(ym,Lv,"esm2020"),Wr("fire-js","")}A2("");function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w2=HE,qE=new eu("auth","Firebase",HE());const lh=new Jm("@firebase/auth");function R2(r,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${mo}): ${r}`,...e)}function Xc(r,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${mo}): ${r}`,...e)}function Di(r,...e){throw tp(r,...e)}function Ri(r,...e){return tp(r,...e)}function ep(r,e,n){const s={...w2(),[e]:n};return new eu("auth","Firebase",s).create(e,{appName:r.name})}function es(r){return ep(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Di(r,"argument-error"),ep(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return qE.create(r,...e)}function ve(r,e,...n){if(!r)throw tp(e,...n)}function tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function or(r,e){r||tr(e)}function Em(){return typeof self<"u"&&self.location?.href||""}function I2(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I2()||rR()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=tR()||sR()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new nu(3e4,6e4);function ip(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function po(r,e,n,s,o={}){return GE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return iR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),FE.fetch()(await QE(r,r.config.apiHost,n,m),y)})}async function GE(r,e,n){r._canInitEmulator=!1;const s={...D2,...e};try{const o=new k2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ep(r,E,y);Di(r,E)}}catch(o){if(o instanceof cr)throw o;Di(r,"network-request-failed",{message:String(o)})}}async function V2(r,e,n,s,o={}){const u=await po(r,e,n,s,o);return"mfaPendingCredential"in u&&Di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function QE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?np(r.config,o):`${r.config.apiScheme}://${o}`;return O2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class k2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),M2.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ri(r,e,s);return o.customData._tokenResponse=n,o}async function L2(r,e){return po(r,"POST","/v1/accounts:delete",e)}async function uh(r,e){return po(r,"POST","/v1/accounts:lookup",e)}function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(r,e=!1){const n=jn(r),s=await n.getIdToken(e),o=rp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Vl(im(o.auth_time)),issuedAtTime:Vl(im(o.iat)),expirationTime:Vl(im(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function im(r){return Number(r)*1e3}function rp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=NE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hv(r){const e=rp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&U2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function U2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const e=r.auth,n=await r.getIdToken(),s=await ql(r,uh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?KE(o.providerUserInfo):[],f=B2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function j2(r){const e=jn(r);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function KE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function H2(r,e){const n=await GE(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await QE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(g.credentials="include"),FE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q2(r,e){return po(r,"POST","/v2/accounts:revokeToken",ip(r,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Hv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await H2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Fr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P2(this,e)}reload(){return j2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await ql(this,L2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:L,providerData:Y,stsTokenManager:$}=n;ve(b&&$,e,"internal-error");const H=Za.fromJSON(this.name,$);ve(typeof b=="string",e,"internal-error"),Fr(s,e.name),Fr(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof L=="boolean",e,"internal-error"),Fr(u,e.name),Fr(f,e.name),Fr(m,e.name),Fr(g,e.name),Fr(y,e.name),Fr(E,e.name);const ne=new ei({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(ne.providerData=Y.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const g=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const qv=new Map;function nr(r){or(r instanceof Function,"Expected a class definition");let e=qv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qv.set(r,e),e)}class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YE.type="NONE";const Fv=YE;function $c(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(nr(Fv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||nr(Fv);const f=$c(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const w=await uh(e,{idToken:E}).catch(()=>{});if(!w)break;b=await ei._fromGetAccountInfoResponse(e,w,E)}else b=ei._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Wa(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}function Gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function XE(r=en()){return/firefox\//i.test(r)}function $E(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(r=en()){return/crios\//i.test(r)}function ZE(r=en()){return/iemobile/i.test(r)}function WE(r=en()){return/android/i.test(r)}function eT(r=en()){return/blackberry/i.test(r)}function tT(r=en()){return/webos/i.test(r)}function sp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function F2(r=en()){return sp(r)&&!!window.navigator?.standalone}function G2(){return aR()&&document.documentMode===10}function nT(r=en()){return sp(r)||WE(r)||tT(r)||eT(r)||/windows phone/i.test(r)||ZE(r)}function iT(r,e=[]){let n;switch(r){case"Browser":n=Gv(en());break;case"Worker":n=`${Gv(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}class Q2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function K2(r,e={}){return po(r,"GET","/v2/passwordPolicy",ip(r,e))}const Y2=6;class X2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new Q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(es(this));const n=e?jn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K2(this),n=new X2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await q2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&R2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(r){return jn(r)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J2(r){ap=r}function Z2(r){return ap.loadJS(r)}function W2(){return ap.gapiScript}function eC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function tC(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;Di(o,"already-initialized")}return n.initialize({options:e})}function nC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(nr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function iC(r,e,n){const s=iu(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=rT(e),{host:f,port:m}=rC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Qs(y,s.config.emulator)&&Qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(VE(`${u}//${f}${g}`),kE("Auth",!0)):sC()}function rT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rC(r){const e=rT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Kv(f)}}}function Kv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function sC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function eo(r,e){return V2(r,"POST","/v1/accounts:signInWithIdp",ip(r,e))}const aC="http://localhost";class Ys extends sT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:aC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gr extends ru{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class er extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class Qr extends ru{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";class Kr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),f=Yv(s);return new ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Yv(s);return new ro({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Yv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class hh extends cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hh(e,n,s,o)}}function aT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,u,e,s):u})}async function oC(r,e,n=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ro._forOperation(r,"link",s)}async function lC(r,e,n=!1){const{auth:s}=r;if(Wn(s.app))return Promise.reject(es(s));const o="reauthenticate";try{const u=await ql(r,aT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=rp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),u}}async function uC(r,e,n=!1){if(Wn(r.app))return Promise.reject(es(r));const s="signIn",o=await aT(r,s,e),u=await ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function cC(r,e,n,s){return jn(r).onIdTokenChanged(e,n,s)}function hC(r,e,n){return jn(r).beforeAuthStateChanged(e,n)}function fC(r,e,n,s){return jn(r).onAuthStateChanged(e,n,s)}function dC(r){return jn(r).signOut()}const fh="__sak";class oT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mC=1e3,pC=10;class lT extends oT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);G2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const gC=lT;class uT extends oT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const cT=uT;function yC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await yC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function lp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class _C{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=lp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ci(){return window}function vC(r){Ci().location.href=r}function hT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function EC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TC(){return navigator?.serviceWorker?.controller||null}function bC(){return hT()?self:null}const fT="firebaseLocalStorageDb",SC=1,dh="firebaseLocalStorage",dT="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function AC(){const r=indexedDB.deleteDatabase(fT);return new su(r).toPromise()}function bm(){const r=indexedDB.open(fT,SC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(dh,{keyPath:dT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await AC(),e(await bm()))})})}async function Xv(r,e,n){const s=Nh(r,!0).put({[dT]:e,value:n});return new su(s).toPromise()}async function wC(r,e){const n=Nh(r,!1).get(e),s=await new su(n).toPromise();return s===void 0?null:s.value}function $v(r,e){const n=Nh(r,!0).delete(e);return new su(n).toPromise()}const RC=800,CC=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>CC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(bC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new _C(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await Xv(e,fh,"1"),await $v(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>wC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$v(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Nh(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const IC=mT;new nu(3e4,6e4);function pT(r,e){return e?nr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class up extends sT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xC(r){return uC(r.auth,new up(r),r.bypassAuthState)}function NC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),lC(n,new up(r),r.bypassAuthState)}async function DC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),oC(n,new up(r),r.bypassAuthState)}class gT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:Di(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OC=new nu(2e3,1e4);class Ja extends gT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OC.get())};e()}}Ja.currentPopupAction=null;const MC="pendingRedirect",Jc=new Map;class VC extends gT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await kC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kC(r,e){const n=_T(e),s=yT(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function LC(r,e){return yT(r)._set(_T(e),"true")}function PC(r,e){Jc.set(r._key(),e)}function yT(r){return nr(r._redirectPersistence)}function _T(r){return $c(MC,r.config.apiKey,r.name)}function UC(r,e,n){return zC(r,e,n)}async function zC(r,e,n){if(Wn(r.app))return Promise.reject(es(r));const s=iu(r);C2(r,e,op),await s._initializationPromise;const o=pT(s,n);return await LC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function jC(r,e){return await iu(r)._initializationPromise,vT(r,e,!1)}async function vT(r,e,n=!1){if(Wn(r.app))return Promise.reject(es(r));const s=iu(r),o=pT(s,e),f=await new VC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const BC=600*1e3;class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ET(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ET({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function qC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(r);default:return!1}}async function FC(r,e={}){return po(r,"GET","/v1/projects",e)}const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QC=/^https?/;async function KC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await FC(r);for(const n of e)try{if(YC(n))return}catch{}Di(r,"unauthorized-domain")}function YC(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!QC.test(n))return!1;if(GC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const XC=new nu(3e4,6e4);function Zv(){const r=Ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function $C(r){return new Promise((e,n)=>{function s(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),n(Ri(r,"network-request-failed"))},timeout:XC.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const o=eC("iframefcb");return Ci()[o]=()=>{gapi.load?s():n(Ri(r,"network-request-failed"))},Z2(`${W2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function JC(r){return Zc=Zc||$C(r),Zc}const ZC=new nu(5e3,15e3),WC="__/auth/iframe",eI="emulator/auth/iframe",tI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?np(e,eI):`https://${r.config.authDomain}/${WC}`,s={apiKey:e.apiKey,appName:r.name,v:mo},o=nI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function rI(r){const e=await JC(r),n=Ci().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:iI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ri(r,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},ZC.get());function g(){Ci().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const sI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aI=500,oI=600,lI="_blank",uI="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cI(r,e,n,s=aI,o=oI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...sI,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=JE(y)?lI:n),XE(y)&&(e=e||uI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[L,Y])=>`${w}${L}=${Y},`,"");if(F2(y)&&m!=="_self")return hI(e||"",m),new Wv(null);const b=window.open(e||"",m,E);ve(b,r,"popup-blocked");try{b.focus()}catch{}return new Wv(b)}function hI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const fI="__/auth/handler",dI="emulator/auth/handler",mI=encodeURIComponent("fac");async function e0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof op){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",dR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof ru){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${mI}=${encodeURIComponent(g)}`:"";return`${pI(r)}?${tu(m).slice(1)}${y}`}function pI({config:r}){return r.emulator?np(r,dI):`https://${r.authDomain}/${fI}`}const rm="webStorageSupport";class gI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=vT,this._overrideRedirectResult=PC}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await e0(e,n,s,Em(),o);return cI(e,u,lp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await e0(e,n,s,Em(),o);return vC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rI(e),s=new HC(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},o=>{const u=o?.[0]?.[rm];u!==void 0&&n(!!u),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||$E()||sp()}}const yI=gI;var t0="@firebase/auth",n0="1.12.0";class _I{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EI(r){io(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(r)},y=new $2(s,o,u,g);return nC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),io(new Ks("auth-internal",e=>{const n=iu(e.getProvider("auth").getImmediate());return(s=>new _I(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(t0,n0,vI(r)),Wr(t0,n0,"esm2020")}const TI=300,bI=ME("authIdTokenMaxAge")||TI;let i0=null;const SI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bI)return;const o=n?.token;i0!==o&&(i0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AI(r=zE()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=tC(r,{popupRedirectResolver:yI,persistence:[IC,gC,cT]}),s=ME("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=SI(u.toString());hC(n,f,()=>f(n.currentUser)),cC(n,m=>f(m))}}const o=DE("auth");return o&&iC(n,`http://${o}`),n}function wI(){return document.getElementsByTagName("head")?.[0]??document}J2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",wI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EI("Browser");var RI="firebase",CI="12.9.0";Wr(RI,CI,"app");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,TT;(function(){var r;function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,P){for(var R=Array(arguments.length-2),We=2;We<arguments.length;We++)R[We-2]=arguments[We];return A.prototype[N].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let P=I.g[3],R;R=A+(P^C&(N^P))+V[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=P+(N^A&(C^N))+V[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(C^P&(A^C))+V[2]+606105819&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(A^N&(P^A))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(P^C&(N^P))+V[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=P+(N^A&(C^N))+V[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(C^P&(A^C))+V[6]+2821735955&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(A^N&(P^A))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(P^C&(N^P))+V[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=P+(N^A&(C^N))+V[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(C^P&(A^C))+V[10]+4294925233&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(A^N&(P^A))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(P^C&(N^P))+V[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=P+(N^A&(C^N))+V[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(C^P&(A^C))+V[14]+2792965006&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(A^N&(P^A))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(N^P&(C^N))+V[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(A^C))+V[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(P^A))+V[11]+643717713&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^A&(N^P))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^P&(C^N))+V[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(A^C))+V[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(P^A))+V[15]+3634488961&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^A&(N^P))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^P&(C^N))+V[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(A^C))+V[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(P^A))+V[3]+4107603335&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^A&(N^P))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^P&(C^N))+V[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(A^C))+V[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(P^A))+V[7]+1735328473&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^A&(N^P))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(C^N^P)+V[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=P+(A^C^N)+V[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^C)+V[11]+1839030562&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^A)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^P)+V[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=P+(A^C^N)+V[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^C)+V[7]+4139469664&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^A)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^P)+V[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=P+(A^C^N)+V[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^C)+V[3]+3572445317&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^A)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^P)+V[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=P+(A^C^N)+V[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^C)+V[15]+530742520&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^A)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(N^(C|~P))+V[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=P+(C^(A|~N))+V[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~C))+V[14]+2878612391&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~A))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~P))+V[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=P+(C^(A|~N))+V[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~C))+V[10]+4293915773&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~A))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~P))+V[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=P+(C^(A|~N))+V[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~C))+V[6]+2734768916&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~A))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~P))+V[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=P+(C^(A|~N))+V[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~C))+V[2]+718787259&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<A;){if(N==0)for(;P<=C;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<A;)if(V[N++]=I.charCodeAt(P++),N==this.blockSize){o(this,V),N=0;break}}else for(;P<A;)if(V[N++]=I[P++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function u(I,A){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function f(I,A){this.h=A;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const P=I[N]|0;V&&P==A||(C[N]=P,V=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?u(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return H(y(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new f(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return H(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=b;for(let P=0;P<I.length;P+=8){var N=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var b=g(0),w=g(1),L=g(16777216);r=f.prototype,r.m=function(){if($(this))return-H(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Y(this))return"0";if($(this))return"-"+H(this).toString(I);const A=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=he(C,A).g;C=ne(C,N.j(A));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Y(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Y(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function $(I){return I.h==-1}r.l=function(I){return I=ne(this,I),$(I)?-1:Y(I)?0:1};function H(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new f(C,~I.h).add(w)}r.abs=function(){return $(this)?H(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=A;N++){let P=V+(this.i(N)&65535)+(I.i(N)&65535),R=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,P&=65535,R&=65535,C[N]=R<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(I,A){return I.add(H(A))}r.j=function(I){if(Y(this)||Y(I))return b;if($(this))return $(I)?H(this).j(H(I)):H(H(this).j(I));if($(I))return H(this.j(H(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const P=this.i(V)>>>16,R=this.i(V)&65535,We=I.i(N)>>>16,Nt=I.i(N)&65535;C[2*V+2*N]+=R*Nt,ee(C,2*V+2*N),C[2*V+2*N+1]+=P*Nt,ee(C,2*V+2*N+1),C[2*V+2*N+1]+=R*We,ee(C,2*V+2*N+1),C[2*V+2*N+2]+=P*We,ee(C,2*V+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new f(C,0)};function ee(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function ie(I,A){this.g=I,this.h=A}function he(I,A){if(Y(A))throw Error("division by zero");if(Y(I))return new ie(b,b);if($(I))return A=he(H(I),A),new ie(H(A.g),H(A.h));if($(A))return A=he(I,H(A)),new ie(H(A.g),A.h);if(I.g.length>30){if($(I)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=A;V.l(I)<=0;)C=ge(C),V=ge(V);var N=Ee(C,1),P=Ee(V,1);for(V=Ee(V,2),C=Ee(C,2);!Y(V);){var R=P.add(V);R.l(I)<=0&&(N=N.add(C),P=R),V=Ee(V,1),C=Ee(C,1)}return A=ne(I,N.j(A)),new ie(N,A)}for(N=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(C),R=P.j(A);$(R)||R.l(I)>0;)C-=V,P=y(C),R=P.j(A);Y(P)&&(P=w),N=N.add(P),I=ne(I,R)}return new ie(N,I)}r.B=function(I){return he(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new f(C,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new f(C,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new f(C,this.h^I.h)};function ge(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(C,I.h)}function Ee(I,A){const C=A>>5;A%=32;const V=I.g.length-C,N=[];for(let P=0;P<V;P++)N[P]=A>0?I.i(P+C)>>>A|I.i(P+C+1)<<32-A:I.i(P+C);return new f(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ts=f}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bT,xl,ST,Wc,Sm,AT,wT,RT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return p.prototype[U].apply(S,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function Y(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let re=0;re<q;re++)c[v+re]=U[re]}else c.push(U)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,v){const S=ie.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new $(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Ee=!1,I=new ee,A=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){H(v)}var p=ie;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function We(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(We,N),We.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Ge(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<Z.length;q++)v=Z[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,p,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const re=Ce(c,p,S,U);return re>-1?(p=c[re],v||(p.fa=!1)):(p=new se(p,this.src,q,!!S,U),p.fa=v,c.push(p)),p};function Te(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(me(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,p,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==S)return U}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Dt={};function rt(c,p,v,S,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)rt(c,p[q],v,S,U);return null}return v=bo(v),c&&c[Nt]?c.J(p,v,m(S)?!!S.capture:!1,U):hs(c,p,v,!1,S,U)}function hs(c,p,v,S,U,q){if(!p)throw Error("Invalid event type");const re=m(U)?!!U.capture:!!U;let we=fs(c);if(we||(c[Pe]=we=new le(c)),v=we.add(p,v,S,re,q),v.proxy)return v;if(S=ia(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(U=re),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(ii(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return p.call(c.src,c.listener,v)}const p=Eo;return c}function ra(c,p,v,S,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)ra(c,p[q],v,S,U);else S=m(S)?!!S.capture:!!S,v=bo(v),c&&c[Nt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=Ce(p,v,S,U),v>-1&&(me(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=fs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,v,S,U)),(v=c>-1?p[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Nt])Te(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(ii(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=fs(p))?(Te(v,c),v.h==0&&(v.src=null,p[Pe]=null)):me(c)}}}function ii(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Eo(c,p){if(c.da)c=!0;else{p=new We(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&sa(c),c=v.call(S,p)}return c}function fs(c){return c=c[Pe],c instanceof le?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(p){return c.handleEvent(p)}),c[To])}function yt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}b(yt,V),yt.prototype[Nt]=!0,yt.prototype.removeEventListener=function(c,p,v,S){ra(this,c,p,v,S)};function Ot(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var U=p;p=new N(S,c),ae(p,U)}U=!0;let q,re;if(v)for(re=v.length-1;re>=0;re--)q=p.g=v[re],U=hr(q,S,!0,p)&&U;if(q=p.g=c,U=hr(q,S,!0,p)&&U,U=hr(q,S,!1,p)&&U,v)for(re=0;re<v.length;re++)q=p.g=v[re],U=hr(q,S,!1,p)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[p],c.h--}}this.G=null},yt.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},yt.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function hr(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const re=p[q];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),U=we.call(dt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Fh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function hu(c){c.g=Fh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){V.call(this),this.h=c,this.g={}}b(ds,V);var So=[];function Ao(c){ze(c.g,function(p,v){this.g.hasOwnProperty(v)&&sa(p)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),Ao(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=f.JSON.stringify,Gh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){N.call(this,"d")}b(Bt,N);function An(){N.call(this,"c")}b(An,N);var ft={},pu=null;function aa(){return pu=pu||new yt}ft.Ia="serverreachability";function gu(c){N.call(this,ft.Ia,c)}b(gu,N);function ri(c){const p=aa();Ot(p,new gu(p))}ft.STAT_EVENT="statevent";function ms(c,p){N.call(this,ft.STAT_EVENT,c),this.stat=p}b(ms,N);function _t(c){const p=aa();Ot(p,new ms(p,c))}ft.Ja="timingevent";function si(c,p){N.call(this,ft.Ja,c),this.size=p}b(si,N);function ai(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Qh(c,p,v,S,U,q){c.info(function(){if(c.g)if(q){var re="",we=q.split("&");for(let He=0;He<we.length;He++){var dt=we[He].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const In=st.split("_");re=In.length>=2&&In[1]=="type"?re+(st+"="+dt+"&"):re+(st+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+re})}function yu(c,p,v,S,U,q,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+re})}function oi(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Kh(c,v)+(S?" "+S:"")})}function ps(c,p){c.info(function(){return"TIMEOUT: "+p})}Hn.prototype.info=function(){};function Kh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return fr(q)}catch{return p}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ys(){}b(ys,du),ys.prototype.g=function(){return new XMLHttpRequest},Ro=new ys;function ki(c){return encodeURIComponent(String(c))}function _u(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function qn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var vt={},Lt={};function li(c,p,v){c.M=1,c.A=_s(Tt(p)),c.u=v,c.R=!0,oa(c,null)}function oa(c,p){c.F=Date.now(),ui(c),c.B=Tt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ha(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Fn,c.g=Mu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(So[0]=U.toString()),U=So);for(let q=0;q<U.length;q++){const re=rt(v,U[q],S||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ri(),Qh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Kn(c)==3?p.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||dt==7||(dt==8||He<=0?ri(3):ri(2)),ci(this);var p=this.g.ca();this.X=p;var v=Yh(this);if(this.o=p==200,yu(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var q=S;break t}}q=null}if(c=q)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,_t(12),mn(this),wn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=Eu(this,v),st==Lt){we==4&&(this.m=4,_t(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,_t(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,st,null),hi(this,st);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(re),re.P=!0,_t(11))}}else oi(this.i,this.l,v,null),hi(this,v);we==4&&mn(this),this.o&&!this.K&&(we==4?xu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),mn(this),wn(this)}}}catch{}};function Yh(c){if(!vu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let v="";const S=p.length,U=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Lt:(v=Number(p.substring(v,S)),isNaN(v)?vt:(S+=1,S+v>p.length?Lt:(p=p.slice(S,S+v),c.C=S+v,p)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),p)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(ri(),_t(17)),mn(this),this.m=2,wn(this)):la(this,this.T-c)};function wn(c){c.j.I==0||c.K||xu(c.j,c)}function mn(c){ci(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ao(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function hi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),Er(v);else break e;ws(v),_t(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&ga(v),!R(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let He=U[p];const st=He[0];if(!(st<=v.K))if(v.K=st,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const In=He[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=He[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Yn=He[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=c.g;if(Xn){const Rs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var q=S.h;q.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(S.G){const ya=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(S.wa=ya,Qe(S.J,S.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Ou(S,S.L?S.ba:null,S.W),re.L){No(S.h,re);var we=re,dt=S.O;dt&&(we.H=dt),we.D&&(ci(we),ui(we)),S.g=re}else Cu(S);v.i.length>0&&_i(v)}else He[0]!="stop"&&He[0]!="close"||vi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vi(v,7):zo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ri(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function xo(c,p){c.g?c.g.add(p):c.h=p}function No(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Co.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return L(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,Oo(this,wu(c.i)),this.m=c.m):c&&(p=String(c).match(Tu))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=mi(p[2]||""),this.g=mi(p[3]||"",!0),dr(this,p[4]),this.h=mi(p[5]||"",!0),Oo(this,p[6]||"",!0),this.m=mi(p[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(vs(p,ca,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vs(p,ca,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?Mo:bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,Su)),c.join("")},pn.prototype.resolve=function(c){const p=Tt(this);let v=!!c.j;v?Pt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)dr(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let re=0;re<U.length;){const we=U[re++];we=="."?S&&re==U.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&re==U.length&&q.push("")):(q.push(we),S=!0)}S=q.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Oo(p,wu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Tt(c){return new pn(c)}function Pt(c,p,v){c.j=v?mi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Oo(c,p,v){p instanceof pr?(c.i=p,fa(c.i,c.l)):(v||(p=vs(p,mr)),c.i=new pr(p,c.l))}function Qe(c,p,v){c.i.set(p,v)}function _s(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,bu=/[#\?:]/g,Mo=/[#\?]/g,mr=/[#\?@]/g,Su=/#/g;function pr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(c,p){an(this),this.i=null,c=gr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Au(c,p){an(c),p=gr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Vo(c,p){return an(c),p=gr(c,p),c.g.has(p)}r.forEach=function(c,p){an(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function ko(c,p){an(c);let v=[];if(typeof p=="string")Vo(c,p)&&(v=v.concat(c.g.get(gr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return an(this),this.i=null,c=gr(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=ko(this,c),c.length>0?String(c[0]):p):p};function ha(c,p,v){Au(c,p),v.length>0&&(c.i=null,c.g.set(gr(c,p),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=ki(v);v=ko(this,v);for(let q=0;q<v.length;q++){let re=U;v[q]!==""&&(re+="="+ki(v[q])),c.push(re)}}return this.i=c.join("&")};function wu(c){const p=new pr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function gr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function fa(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Au(this,S),ha(this,U,v))},c)),c.j=p}function Gn(c,p){const v=new Hn;if(f.Image){const S=new Image;S.onload=E(Rn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Rn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(Rn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Lo(c,p){const v=new Hn,S=new AbortController,U=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Rn(v,"TestPingServer: ok",!0,p):Rn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,p)})}function Rn(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function yr(){this.g=new fu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(pi,du),pi.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,p){yt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Es,yt),r=Es.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_r(this):Qn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Na=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let p="";return ze(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Ts(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Cn(v),typeof c=="string"?v!=null&&ki(v):Qe(c,p,v))}function Xe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,yt);var gi=/^https?$/i,Po=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){bs(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Po,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){bs(this,q)}};function bs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Uo(c),Li(c)}function Uo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ss(this):this.Xa())},r.Xa=function(){Ss(this)};function Ss(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=q===0){let re=String(c.D).match(Tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!gi.test(re?re.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Kn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Uo(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Gh(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const p={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var v=_u(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}Ge(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function vr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,S){_t(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ou(this,null,this.W),_i(this)};function zo(c){if(ma(c),c.I==3){var p=c.V++,v=Tt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",p),Qe(v,"TYPE","terminate"),As(c,v),p=new qn(c,c.j,p),p.M=2,p.A=_s(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Mu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ui(p)}Du(c)}function Er(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function ma(c){Er(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Io(c.h)&&!c.m){c.m=!0;var p=c.Ea;ge||A(),Ee||(ge(),Ee=!0),I.add(p,c),c.D=0}}function pa(c,p){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,p),Nu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ru(this,U,p),v=Tt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),As(this,v),q&&(this.R?p="headers="+ki(Cn(q))+"&"+p:this.u&&Ts(v,this.u,q)),xo(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",p),Qe(v,"SID","null"),U.U=!0,li(U,v,null)):li(U,v,p),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Io(this.h)||jo(this))};function jo(c,p){var v;p?v=p.l:v=c.V++;const S=Tt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),As(c,S),c.u&&c.o&&Ts(S,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),li(v,S,p)}function As(c,p){c.H&&ze(c.H,function(v,S){Qe(p,S,v)}),c.l&&ze({},function(v,S){Qe(p,S,v)})}function Ru(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=U[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let He=!0;for(let st=0;st<v;st++){var q=U[st].g;const In=U[st].map;if(q-=we,q<0)we=Math.max(0,U[st].g-100),He=!1;else try{q="req"+q+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[Ei,Yn]of re){let Xn=Yn;m(Yn)&&(Xn=fr(Yn)),dt.push(q+Ei+"="+encodeURIComponent(Xn))}}catch(Ei){throw dt.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{S&&S(In)}}if(He){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),p.G=c,re}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ge||A(),Ee||(ge(),Ee=!0),I.add(p,c),c.A=0}}function ws(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),Nu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Er(this),Iu(this))};function Bo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Tt(c.na);Qe(p,"RID","rpc"),Qe(p,"SID",c.M),Qe(p,"AID",c.K),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(p,"TO",c.ia),Qe(p,"TYPE","xmlhttp"),As(c,p),c.u&&c.o&&Ts(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_s(Tt(p)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),ws(this),_t(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,p){var v=null;if(c.g==p){ga(c),Bo(c),c.g=null;var S=2}else if(di(c.h,p))v=p.G,No(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=aa(),Ot(S,new si(S,v)),_i(c)}else Cu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&pa(c,p)||S==2&&ws(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Nu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function vi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),_s(S),U?Gn(S.toString(),v):Lo(S.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(p),Du(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const p=Do(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Ou(c,p,v){var S=v instanceof pn?Tt(v):new pn(v);if(S.g!="")p&&(S.g=p+"."+S.g),dr(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);S&&Pt(q,S),p&&(q.g=p),U&&dr(q,U),v&&(q.h=v),S=q}return v=c.G,p=c.wa,v&&p&&Qe(S,v,p),Qe(S,"VER",c.ka),As(c,S),S}function Mu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new pi({ab:v})):new Xe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){yt.call(this),this.g=new vr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ui(this)}b(nn,yt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fr(c),c=v);p.i.push(new Et(p.Ya++,c)),p.I==3&&_i(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,nn.Z.N.call(this)};function ku(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(ku,Bt);function Lu(){An.call(this),this.status=1}b(Lu,An);function Ui(c){this.g=c}b(Ui,Vu),Ui.prototype.ra=function(){Ot(this.g,"a")},Ui.prototype.qa=function(c){Ot(this.g,new ku(c))},Ui.prototype.pa=function(c){Ot(this.g,new Lu)},Ui.prototype.oa=function(){Ot(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,RT=function(){return new Tr},wT=function(){return aa()},AT=ft,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Wc=gs,wo.COMPLETE="complete",ST=wo,mu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,xl=mu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,bT=Xe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let go="12.9.0";function II(r){go=r}const Xs=new Jm("@firebase/firestore");function Ka(){return Xs.logLevel}function oe(r,...e){if(Xs.logLevel<=Me.DEBUG){const n=e.map(cp);Xs.debug(`Firestore (${go}): ${r}`,...n)}}function lr(r,...e){if(Xs.logLevel<=Me.ERROR){const n=e.map(cp);Xs.error(`Firestore (${go}): ${r}`,...n)}}function $s(r,...e){if(Xs.logLevel<=Me.WARN){const n=e.map(cp);Xs.warn(`Firestore (${go}): ${r}`,...n)}}function cp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,CT(r,s,n)}function CT(r,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||CT(e,o,s)}function Ae(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class IT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class NI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new IT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class OI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Am(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return sm(o)===sm(u)?Ve(o,u):sm(o)?1:-1}return Ve(r.length,e.length)}const LI=55296,PI=57343;function sm(r){const e=r.charCodeAt(0);return e>=LI&&e<=PI}function so(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const a0="__name__";class wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=wi.isNumericId(e),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class lt extends wi{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const UI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends wi{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return UI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new Yt([a0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(lt.fromString(e))}static fromName(e){return new pe(lt.fromString(e).popFirst(5))}static empty(){return new pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new lt(e.slice()))}}function zI(r,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jI(r,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function o0(r){if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Fl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fp(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function au(r,e){if(!xT(r))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const l0=-62135596800,u0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function BI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new rs(o,pe.empty(),e)}function HI(r){return new rs(r.readTime,r.key,Gl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(be.min(),pe.empty(),Gl)}static max(){return new rs(be.max(),pe.empty(),Gl)}}function qI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==FI)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new W(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function QI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dh.ce=-1;const dp=-1;function Oh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function KI(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const NT="";function YI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=c0(e)),e=XI(r.get(n),e);return c0(e)}function XI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case NT:n+="";break;default:n+=u}}return n}function c0(r){return r+NT+""}function h0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function DT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new ti([])}unionWith(e){let n=new kt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class OT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new OT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=$I.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const MT="server_timestamp",VT="__type__",kT="__previous_value__",LT="__local_write_time__";function mp(r){return(r?.mapValue?.fields||{})[VT]?.stringValue===MT}function Mh(r){const e=r.mapValue.fields[kT];return mp(e)?Mh(e):e}function Ql(r){const e=ss(r.mapValue.fields[LT].timestampValue);return new it(e.seconds,e.nanos)}class JI{constructor(e,n,s,o,u,f,m,g,y,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const ph="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}function ZI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(r.options.projectId,e)}const PT="__type__",WI="__max__",Fc={mapValue:{}},UT="__vector__",gh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mp(r)?4:tx(r)?9007199254740991:ex(r)?10:11:_e(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(h0(f)!==h0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function Yl(r,e){return(r.values||[]).find((n=>Oi(n,e)))!==void 0}function ao(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return d0(r.timestampValue,e.timestampValue);case 4:return d0(Ql(r),Ql(e));case 5:return Am(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),g=as(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ve(m[y],g[y]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return m0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[gh]?.arrayValue,E=g[gh]?.arrayValue,b=Ve(y?.values?.length||0,E?.values?.length||0);return b!==0?b:m0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const w=Am(g[b],E[b]);if(w!==0)return w;const L=ao(m[g[b]],y[E[b]]);if(L!==0)return L}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function d0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ss(r),s=ss(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function m0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function oo(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${wm(n.fields[f])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function eh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ws(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function Rm(r){return!!r&&"integerValue"in r}function pp(r){return!!r&&"arrayValue"in r}function p0(r){return!!r&&"nullValue"in r}function g0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function ex(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===UT}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ws(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(r.arrayValue.values[n]);return e}return{...r}}function tx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Pn(kl(this.value))}}function zT(r){const e=[];return Ws(r.fields,((n,s)=>{const o=new Yt([n]);if(th(s)){const u=zT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ti(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),Pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function y0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function nx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class jT{}class Vt extends jT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rx(e,n,s):n==="array-contains"?new ox(e,s):n==="in"?new lx(e,s):n==="not-in"?new ux(e,s):n==="array-contains-any"?new cx(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sx(e,s):new ax(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends jT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return BT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BT(r){return r.op==="and"}function HT(r){return ix(r)&&BT(r)}function ix(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function Cm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(HT(r))return r.filters.map((e=>Cm(e))).join(",");{const e=r.filters.map((n=>Cm(n))).join(",");return`${r.op}(${e})`}}function qT(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,e):r instanceof Mi?(function(s,o){return o instanceof Mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&qT(f,o.filters[m])),!0):!1})(r,e):void _e(19439)}function FT(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(r):r instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"})(r):"Filter"}class rx extends Vt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class sx extends Vt{constructor(e,n){super(e,"in",n),this.keys=GT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ax extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=GT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function GT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class ox extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pp(n)&&Yl(n.arrayValue,this.value)}}class lx extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class ux extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class cx extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yl(this.value.arrayValue,s)))}}class hx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function v0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new hx(r,e,n,s,o,u,f)}function gp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Cm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>oo(s))).join(",")),e.Te=n}return e.Te}function yp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_0(r.startAt,e.startAt)&&_0(r.endAt,e.endAt)}function Im(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Vh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fx(r,e,n,s,o,u,f,m){return new Vh(r,e,n,s,o,u,f,m)}function _p(r){return new Vh(r)}function E0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dx(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function mx(r){return r.collectionGroup!==null}function Ll(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _h(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new _h(Yt.keyField(),s))}return e.Ie}function Ii(r){const e=Ae(r);return e.Ee||(e.Ee=px(e,Ll(r))),e.Ee}function px(r,e){if(r.limitType==="F")return v0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)}));const n=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return v0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function xm(r,e,n){return new Vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return yp(Ii(r),Ii(e))&&r.limitType===e.limitType}function QT(r){return`${gp(Ii(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>FT(o))).join(", ")}]`),Oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=y0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ll(s),o)||s.endAt&&!(function(f,m,g){const y=y0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ll(s),o))})(r,e)}function gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KT(r){return(e,n)=>{let s=!1;for(const o of Ll(r)){const u=yx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yx(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ao(g,y):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}const _x=new ut(pe.comparator);function ur(){return _x}const YT=new ut(pe.comparator);function Nl(...r){let e=YT;for(const n of r)e=e.insert(n.key,n);return e}function XT(r){let e=YT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Fs(){return Pl()}function $T(){return Pl()}function Pl(){return new ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const vx=new ut(pe.comparator),Ex=new kt(pe.comparator);function ke(...r){let e=Ex;for(const n of r)e=e.add(n);return e}const Tx=new kt(Ve);function bx(){return Tx}function vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function JT(r){return{integerValue:""+r}}function Sx(r,e){return KI(e)?JT(e):vp(r,e)}class Ph{constructor(){this._=void 0}}function Ax(r,e,n){return r instanceof vh?(function(o,u){const f={fields:{[VT]:{stringValue:MT},[LT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=Mh(u)),u&&(f.fields[kT]=u),{mapValue:f}})(n,e):r instanceof Xl?WT(r,e):r instanceof $l?e1(r,e):(function(o,u){const f=ZT(o,u),m=T0(f)+T0(o.Ae);return Rm(f)&&Rm(o.Ae)?JT(m):vp(o.serializer,m)})(r,e)}function wx(r,e,n){return r instanceof Xl?WT(r,e):r instanceof $l?e1(r,e):n}function ZT(r,e){return r instanceof Eh?(function(s){return Rm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vh extends Ph{}class Xl extends Ph{constructor(e){super(),this.elements=e}}function WT(r,e){const n=t1(e);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class $l extends Ph{constructor(e){super(),this.elements=e}}function e1(r,e){let n=t1(e);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class Eh extends Ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T0(r){return gt(r.integerValue||r.doubleValue)}function t1(r){return pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Rx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof $l&&o instanceof $l?so(s.elements,o.elements,Oi):s instanceof Eh&&o instanceof Eh?Oi(s.Ae,o.Ae):s instanceof vh&&o instanceof vh})(r.transform,e.transform)}class Cx{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function n1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new r1(r.key,rr.none()):new ou(r.key,r.data,rr.none());{const n=r.data,s=Pn.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ta(r.key,s,new ti(o.toArray()),rr.none())}}function Ix(r,e,n){r instanceof ou?(function(o,u,f){const m=o.value.clone(),g=S0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ta?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=S0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(i1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ul(r,e,n,s){return r instanceof ou?(function(u,f,m,g){if(!nh(u.precondition,f))return m;const y=u.value.clone(),E=A0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ta?(function(u,f,m,g){if(!nh(u.precondition,f))return m;const y=A0(u.fieldTransforms,g,f),E=f.data;return E.setAll(i1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function xx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ZT(s.transform,o||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,u))}return n||null}function b0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,((u,f)=>Rx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Uh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends Uh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function i1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function S0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,wx(f,m,n[o]))}return s}function A0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Ax(u,f,e))}return s}class r1 extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Ix(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$T();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=n1(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((n,s)=>b0(n,s)))&&so(this.baseMutations,e.baseMutations,((n,s)=>b0(n,s)))}}class Ep{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return vx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ep(e,n,s,o)}}class Ox{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ue;function Vx(r){switch(r){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function s1(r){if(r===void 0)return lr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Rt.OK:return te.OK;case Rt.CANCELLED:return te.CANCELLED;case Rt.UNKNOWN:return te.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return te.INTERNAL;case Rt.UNAVAILABLE:return te.UNAVAILABLE;case Rt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rt.NOT_FOUND:return te.NOT_FOUND;case Rt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rt.ABORTED:return te.ABORTED;case Rt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:r})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function kx(){return new TextEncoder}const Lx=new ts([4294967295,4294967295],0);function w0(r){const e=kx().encode(r),n=new TT;return n.update(e),new Uint8Array(n.digest())}function R0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class Tp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(Lx)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w0(e),[s,o]=R0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Tp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=w0(e),[s,o]=R0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new zh(be.min(),o,new ut(Ve),ur(),ke())}}class lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lu(s,n,ke(),ke(),ke())}}class ih{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class a1{constructor(e,n){this.targetId=e,this.Ce=n}}class o1{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class C0{constructor(){this.ve=0,this.Fe=I0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new lu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=I0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Px{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.He=Gc(),this.Je=Gc(),this.Ze=new ut(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(s===0){const f=new pe(u.path);this.et(n,f,Wt.newNoDocument(f,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(g){if(g instanceof OT)return $s("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tp(f,o,u)}catch(g){return $s(g instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Im(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new zh(e,n,this.Ze,this.je,s);return this.je=ur(),this.He=Gc(),this.Je=Gc(),this.Ze=new ut(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new C0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ut(pe.comparator)}function I0(){return new ut(pe.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class Bx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function Th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(r,e){return Th(r,e.toTimestamp())}function xi(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=ss(n);return new it(s.seconds,s.nanos)})(r))}function bp(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function u1(r){const e=lt.fromString(r);return Fe(m1(e),10190,{key:e.toString()}),e}function Om(r,e){return bp(r.databaseId,e.path)}function am(r,e){const n=u1(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(h1(n))}function c1(r,e){return bp(r.databaseId,e)}function qx(r){const e=u1(r);return e.length===4?lt.emptyPath():h1(e)}function Mm(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h1(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x0(r,e,n){return{name:Om(r,e),fields:n.value.mapValue.fields}}function Fx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?te.UNKNOWN:s1(y.code);return new fe(E,y.message||"")})(f);n=new o1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=am(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):be.min(),m=new Pn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=am(r,s.document),u=s.readTime?xi(s.readTime):be.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=am(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Mx(o,u),m=s.targetId;n=new a1(m,f)}}return n}function Gx(r,e){let n;if(e instanceof ou)n={update:x0(r,e.key,e.value)};else if(e instanceof r1)n={delete:Om(r,e.key)};else if(e instanceof ta)n={update:x0(r,e.key,e.data),updateMask:eN(e.fieldMask)};else{if(!(e instanceof Nx))return _e(16599,{dt:e.type});n={verify:Om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Hx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function Qx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(be.min())&&(f=xi(u)),new Cx(f,o.transformResults||[])})(n,e)))):[]}function Kx(r,e){return{documents:[c1(r,e.path)]}}function Yx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=c1(r,o);const u=(function(y){if(y.length!==0)return d1(Mi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Xa(w.field),direction:Jx(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Xx(r){let e=qx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const w=f1(b);return w instanceof Mi&&HT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((w=>(function(Y){return new _h($a(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Oh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,L=b.values||[];return new yh(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const w=!b.before,L=b.values||[];return new yh(L,w)})(n.endAt)),fx(e,o,f,u,m,"F",g,y)}function $x(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((s=>f1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function Jx(r){return Ux[r]}function Zx(r){return zx[r]}function Wx(r){return jx[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Yt.fromServerFormat(r.fieldPath)}function d1(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(g0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:Zx(n.op),value:n.value}}})(r):r instanceof Mi?(function(n){const s=n.getFilters().map((o=>d1(o)));return s.length===1?s[0]:{compositeFilter:{op:Wx(n.op),filters:s}}})(r):_e(54877,{filter:r})}function eN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function m1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function p1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Xr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tN{constructor(e){this.yt=e}}function nN(r){const e=Xx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(e,e.limit,"L"):e}class iN{constructor(){this.Sn=new rN}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(rs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class rN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(lt.comparator)).toArray()}}const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(g1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const D0="LruGarbageCollector",sN=1048576;function O0([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class aN{constructor(e){this.Pr=e,this.buffer=new kt(O0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();O0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(D0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?oe(D0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class lN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Dh.ce);const s=new aN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(N0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Ka()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function uN(r,e){return new lN(r,e)}class cN{constructor(){this.changes=new ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ul(s.mutation,o,ti.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Fs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Nl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=Pl(),m=(function(){return Pl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ta)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ul(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new hN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Pl();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||ti.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=$T();E.forEach((w=>{if(!u.has(w)){const L=n1(n.get(w),s.get(w));L!==null&&b.set(w,L),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return dx(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Fs());let m=Gl,g=u;return f.next((y=>W.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((E=>({batchId:m,changes:XT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(g=>{const y=(function(b,w){return new Vh(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,w)=>{f=f.insert(b,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Nl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ul(E.mutation,y,ti.empty(),it.now()),Lh(n,y)&&(m=m.insert(g,y))})),m}))}}class dN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:nN(o.bundledQuery),readTime:xi(o.readTime)}})(n)),W.resolve()}}class mN{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Fs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ox(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class pN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class Sp{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new pe(new lt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new lt([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class gN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Dx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?dp:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new zt(new pe(u),0);let m=new kt(Ve);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),W.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yN{constructor(e){this.ti=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||qI(HI(E),s)<=0||(o.has(E.key)||Lh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ni(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _N(this)}getSize(e){return W.resolve(this.size)}}class _N extends cN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class vN{constructor(e){this.persistence=e,this.ri=new ea((n=>gp(n)),yp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Sp,this.targetCount=0,this.oi=lo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class y1{constructor(e,n){this._i={},this.overlays={},this.ai=new Dh(0),this.ui=!1,this.ui=!0,this.ci=new pN,this.referenceDelegate=e(this),this.li=new vN(this),this.indexManager=new iN,this.remoteDocumentCache=(function(o){return new yN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new tN(n),this.Pi=new dN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new gN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new EN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class EN extends GI{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Ri=new Sp,this.Ai=null}static Vi(e){return new Ap(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const o=pe.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.fi=new ea((s=>YI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=uN(this,n)}static Vi(e,n){return new bh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}wr(e,n,s){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(e,n.fromCache,s,o)}}class TN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oR()?8:QI(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new TN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Ka()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Ka()<=Me.DEBUG&&oe("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ka()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):W.resolve())}gs(e,n){if(E0(n))return W.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,xm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return E0(n)||o.isEqual(be.min())?W.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?W.resolve(null):(Ka()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.Ds(e,f,n,BI(o,Gl)).next((m=>m)))}))}bs(e,n){let s=new kt(KT(e));return n.forEach(((o,u)=>{Lh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Ka()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(e,n,rs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Rp="LocalStore",SN=3e8;class AN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ve),this.Fs=new ea((u=>gp(u)),yp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function wN(r,e,n,s){return new AN(r,e,n,s)}async function _1(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function RN(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const b=y.batch,w=b.keys();let L=W.resolve();return w.forEach((Y=>{L=L.next((()=>E.getEntry(g,Y))).next(($=>{const H=y.docVersions.get(Y);Fe(H!==null,48541),$.version.compareTo(H)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function v1(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function CN(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function($,H,ne){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=SN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,L,E)&&m.push(n.li.updateTargetData(u,L))}));let g=ur(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(IN(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function IN(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):oe(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function xN(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NN(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Vm(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!_o(f))throw f;oe(Rp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function M0(r,e,n){const s=Ae(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const b=Ae(g),w=b.Fs.get(E);return w!==void 0?W.resolve(b.vs.get(w)):b.li.getTargetData(y,E)})(s,f,Ii(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke()))).next((m=>(DN(s,gx(e),m),{documents:m,ks:u})))))}function DN(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class V0{constructor(){this.activeTargetIds=bx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ON{constructor(){this.vo=new V0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new V0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MN{Mo(e){}shutdown(){}}const k0="ConnectivityMonitor";class L0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function km(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const om="RestConnection",VN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=km(),m=this.Qo(e,n.toUriEncodedString());oe(om,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=fo(y);return this.zo(e,m,g,s,E).then((b=>(oe(om,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw $s(om,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=VN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class LN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Cl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class to extends kN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!to.c_){const e=wT();Cl(e,AT.STAT_EVENT,(n=>{n.stat===Sm.PROXY?oe(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Sm.NOPROXY&&oe(Jt,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(e,n,s,o,u){const f=km();return new Promise(((m,g)=>{const y=new bT;y.setWithCredentials(!0),y.listenOnce(ST.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wc.NO_ERROR:const b=y.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Wc.TIMEOUT:oe(Jt,`RPC '${e}' ${f} timed out`),g(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const w=y.getStatus();if(oe(Jt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L?.error;if(Y&&Y.status&&Y.message){const $=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ee)>=0?ee:te.UNKNOWN})(Y.status);g(new fe($,Y.message))}else g(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);oe(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=km(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");oe(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let b=!1,w=!1;const L=new LN({Ho:Y=>{w?oe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(b||(oe(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),oe(Jt,`RPC '${e}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return Cl(E,xl.EventType.OPEN,(()=>{w||(oe(Jt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Cl(E,xl.EventType.CLOSE,(()=>{w||(w=!0,oe(Jt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Cl(E,xl.EventType.ERROR,(Y=>{w||(w=!0,$s(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),L.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),Cl(E,xl.EventType.MESSAGE,(Y=>{if(!w){const $=Y.data[0];Fe(!!$,16349);const H=$,ne=H?.error||H[0]?.error;if(ne){oe(Jt,`RPC '${e}' stream ${o} received error:`,ne);const ee=ne.status;let ie=(function(Ee){const I=Rt[Ee];if(I!==void 0)return s1(I)})(ee),he=ne.message;ee==="NOT_FOUND"&&he.includes("database")&&he.includes("does not exist")&&he.includes(this.databaseId.database)&&$s(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ie===void 0&&(ie=te.INTERNAL,he="Unknown error status: "+ee+" with message "+ne.message),w=!0,L.o_(new fe(ie,he)),E.close()}else oe(Jt,`RPC '${e}' stream ${o} received:`,$),L.__($)}})),to.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RT()}}function PN(r){return new to(r)}function lm(){return typeof document<"u"?document:null}function jh(r){return new Bx(r,!0)}to.c_=!1;class E1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const P0="PersistentStream";class T1{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(oe(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UN extends T1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?xi(f.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Im(g)?{documents:Kx(u,g)}:{query:Yx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=l1(u,f.resumeToken);const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Th(u,f.snapshotVersion.toTimestamp());const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=$x(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.K_(n)}}class zN extends T1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Qx(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Gx(this.serializer,s)))};this.K_(n)}}class jN{}class BN extends jN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Dm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Dm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HN(r,e,n,s){return new BN(r,e,n,s)}class qN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class FN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{na(this)&&(oe(Js,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await uu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Bh(y)})(this))}))})),this.Va=new qN(s,o)}}async function Bh(r){if(na(r))for(const e of r.Ra)await e(!0)}async function uu(r){for(const e of r.Ra)await e(!1)}function b1(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Np(n)?xp(n):vo(n).O_()&&Ip(n,e))}function Cp(r,e){const n=Ae(r),s=vo(n);n.Ia.delete(e),s.O_()&&S1(n,e),n.Ia.size===0&&(s.O_()?s.L_():na(n)&&n.Va.set("Unknown"))}function Ip(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(r).Z_(e)}function S1(r,e){r.da.$e(e),vo(r).X_(e)}function xp(r){r.da=new Px({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Va.ua()}function Np(r){return na(r)&&!vo(r).x_()&&r.Ia.size>0}function na(r){return Ae(r).Ea.size===0}function A1(r){r.da=void 0}async function GN(r){r.Va.set("Online")}async function QN(r){r.Ia.forEach(((e,n)=>{Ip(r,e)}))}async function KN(r,e){A1(r),Np(r)?(r.Va.ha(e),xp(r)):r.Va.set("Unknown")}async function YN(r,e,n){if(r.Va.set("Online"),e instanceof o1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){oe(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ih?r.da.Xe(e):e instanceof a1?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await v1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),S1(u,g);const b=new Xr(E.target,g,y,E.sequenceNumber);Ip(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(Js,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!_o(e))throw e;r.Ea.add(1),await uu(r),r.Va.set("Offline"),n||(n=()=>v1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)}))}function w1(r,e){return e().catch((n=>Sh(r,n,e)))}async function Hh(r){const e=Ae(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;XN(e);)try{const o=await xN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$N(e,o)}catch(o){await Sh(e,o)}R1(e)&&C1(e)}function XN(r){return na(r)&&r.Ta.length<10}function $N(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function R1(r){return na(r)&&!ls(r).x_()&&r.Ta.length>0}function C1(r){ls(r).start()}async function JN(r){ls(r).ra()}async function ZN(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function WN(r,e,n){const s=r.Ta.shift(),o=Ep.from(s,e,n);await w1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Hh(r)}async function eD(r,e){e&&ls(r).Y_&&await(async function(s,o){if((function(f){return Vx(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await w1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Hh(s)}})(r,e),R1(r)&&C1(r)}async function U0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),oe(Js,"RemoteStore received new credentials");const s=na(n);n.Ea.add(3),await uu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function tD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await uu(n),n.Va.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new UN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:GN.bind(null,r),Yo:QN.bind(null,r),t_:KN.bind(null,r),J_:YN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Np(r)?xp(r):r.Va.set("Unknown")):(await r.ma.stop(),A1(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new zN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JN.bind(null,r),t_:eD.bind(null,r),ta:ZN.bind(null,r),na:WN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Dp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Dp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(r,e){if(lr("AsyncQueue",`${e}: ${r}`),_o(r))return new fe(te.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class z0{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class uo{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class nD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class iD{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=j0(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function j0(){return new ea((r=>QT(r)),kh)}async function rD(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new nD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Op(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Mp(n)}async function sD(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Mp(n)}function oD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Mp(r){r.Ca.forEach((e=>{e.next()}))}var Lm,B0;(B0=Lm||(Lm={})).Ma="default",B0.Cache="cache";class lD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}class I1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class uD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=KT(e),this.tu=new no(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new z0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),L=Lh(this.query,b)?b:null,Y=!!w&&this.mutatedKeys.has(w.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;w&&L?w.data.isEqual(L.data)?Y!==$&&(s.track({type:3,doc:L}),H=!0):this.su(w,L)||(s.track({type:2,doc:L}),H=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),H=!0):w&&!L&&(s.track({type:1,doc:w}),H=!0,(g||y)&&(m=!0)),H&&(L?(f=f.add(L),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(L,Y){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:H})}};return $(L)-$(Y)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new uo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new x1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new I1(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vp="SyncEngine";class cD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class hD{constructor(e){this.key=e,this.hu=!1}}class fD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea((m=>QT(m)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new Sp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dD(r,e,n=!0){const s=k1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await N1(s,e,n,!0),o}async function mD(r,e){const n=k1(r);await N1(n,e,!0,!1)}async function N1(r,e,n,s){const o=await NN(r.localStore,Ii(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await pD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&b1(r.remoteStore,o),m}async function pD(r,e,n,s,o){r.pu=(b,w,L)=>(async function($,H,ne,ee){let ie=H.view.ru(ne);ie.Ss&&(ie=await M0($.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,ie))));const he=ee&&ee.targetChanges.get(H.targetId),ge=ee&&ee.targetMismatches.get(H.targetId)!=null,Ee=H.view.applyChanges(ie,$.isPrimaryClient,he,ge);return q0($,H.targetId,Ee.au),Ee.snapshot})(r,b,w,L);const u=await M0(r.localStore,e,!0),f=new uD(e,u.ks),m=f.ru(u.documents),g=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);q0(r,n,y.au);const E=new cD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function gD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!kh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cp(s.remoteStore,o.targetId),Pm(s,o.targetId)})).catch(yo)):(Pm(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function yD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cp(n.remoteStore,s.targetId))}async function _D(r,e,n){const s=wD(r);try{const o=await(function(f,m){const g=Ae(f),y=it.now(),E=m.reduce(((L,Y)=>L.add(Y.key)),ke());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=ur(),$=ke();return g.xs.getEntries(L,E).next((H=>{Y=H,Y.forEach(((ne,ee)=>{ee.isValidDocument()||($=$.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,Y))).next((H=>{b=H;const ne=[];for(const ee of m){const ie=xx(ee,b.get(ee.key).overlayedDocument);ie!=null&&ne.push(new ta(ee.key,ie,zT(ie.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,ne,m)})).next((H=>{w=H;const ne=H.applyToLocalDocumentSet(b,$);return g.documentOverlayCache.saveOverlays(L,H.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:XT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await cu(s,o.changes),await Hh(s.remoteStore)}catch(o){const u=Op(o,"Failed to persist write");n.reject(u)}}async function D1(r,e){const n=Ae(r);try{const s=await CN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await cu(n,s,e)}catch(s){await yo(s)}}function H0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,b)=>{for(const w of b.ba)w.va(m)&&(y=!0)})),y&&Mp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const m=ke().add(u),g=new zh(be.min(),new Map,new ut(Ve),f,m);await D1(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),kp(s)}else await Vm(s.localStore,e,!1).then((()=>Pm(s,e,n))).catch(yo)}async function ED(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await RN(n.localStore,e);M1(n,s,null),O1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await yo(o)}}async function TD(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((b=>(Fe(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);M1(s,e,n),O1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cu(s,o)}catch(o){await yo(o)}}function O1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function M1(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Pm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||V1(r,s)}))}function V1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Cp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),kp(r))}function q0(r,e,n){for(const s of n)s instanceof I1?(r.Vu.addReference(s.key,e),bD(r,s)):s instanceof x1?(oe(Vp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||V1(r,s.key)):_e(19791,{wu:s})}function bD(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(oe(Vp,"New document in limbo: "+n),r.Eu.add(s),kp(r))}function kp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(lt.fromString(e)),s=r.fu.next();r.Au.set(s,new hD(n)),r.Ru=r.Ru.insert(n,s),b1(r.remoteStore,new Xr(Ii(_p(n.path)),s,"TargetPurposeLimboResolution",Dh.ce))}}async function cu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=wp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(w=>W.forEach(w.Ts,(L=>E.persistence.referenceDelegate.addReference(b,w.targetId,L))).next((()=>W.forEach(w.Is,(L=>E.persistence.referenceDelegate.removeReference(b,w.targetId,L)))))))))}catch(b){if(!_o(b))throw b;oe(Rp,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const L=E.vs.get(w),Y=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(w,$)}}})(s.localStore,u))}async function SD(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){oe(Vp,"User change. New user:",e.toKey());const s=await _1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Ns)}}function AD(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function k1(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=D1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vD.bind(null,e),e.Pu.J_=aD.bind(null,e.eventManager),e.Pu.yu=oD.bind(null,e.eventManager),e}function wD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wN(this.persistence,new bN,e.initialUser,this.serializer)}Cu(e){return new y1(Ap.Vi,this.serializer)}Du(e){return new ON}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class RD extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new y1((s=>bh.Vi(s,n)),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iD})()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),s=PN(e.databaseInfo);return HN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new FN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>H0(this.syncEngine,n,0)),(function(){return L0.v()?new L0:new MN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const b=new fD(o,u,f,m,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);oe(Js,"RemoteStore shutting down."),s.Ea.add(5),await uu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class CD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const us="FirestoreClient";class ID{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Op(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function um(r,e){r.asyncQueue.verifyOperationInProgress(),oe(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function F0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await xD(r);oe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>U0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>U0(e.remoteStore,o))),r._onlineComponents=e}async function xD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(us,"Using user provided OfflineComponentProvider");try{await um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await um(r,new Ah)}}else oe(us,"Using default OfflineComponentProvider"),await um(r,new RD(void 0));return r._offlineComponents}async function L1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(us,"Using user provided OnlineComponentProvider"),await F0(r,r._uninitializedComponentsProvider._online)):(oe(us,"Using default OnlineComponentProvider"),await F0(r,new Um))),r._onlineComponents}function ND(r){return L1(r).then((e=>e.syncEngine))}async function DD(r){const e=await L1(r),n=e.eventManager;return n.onListen=dD.bind(null,e.syncEngine),n.onUnlisten=gD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yD.bind(null,e.syncEngine),n}function OD(r,e,n={}){const s=new ns;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new CD({next:w=>{E.Nu(),f.enqueueAndForget((()=>sD(u,b)));const L=w.docs.has(m);!L&&w.fromCache?y.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&g&&g.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new lD(_p(m.path),E,{includeMetadataChanges:!0,Ka:!0});return rD(u,b)})(await DD(r),r.asyncQueue,e,n,s))),s.promise}function MD(r,e){const n=new ns;return r.asyncQueue.enqueueAndForget((async()=>_D(await ND(r),e,n))),n.promise}function P1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const VD="ComponentProvider",G0=new Map;function kD(r,e,n,s,o){return new JI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,P1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const U1="firestore.googleapis.com",Q0=!0;class K0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U1,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sN)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xI;switch(s.type){case"firstParty":return new MI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=G0.get(n);s&&(oe(VD,"Removing Datastore"),G0.delete(n),s.terminate())})(this),Promise.resolve()}}function LD(r,e,n,s={}){r=Fl(r,Lp);const o=fo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(VE(`https://${m}`),kE("Firestore",!0)),u.host!==U1&&u.host!==m&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Qs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=Zw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(b)}r._authCredentials=new NI(new IT(y,E))}}class Pp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pp(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(au(n,jt._jsonSchema))return new jt(e,s||null,new pe(lt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:It("string",jt._jsonSchemaVersion),referencePath:It("string")};class Jl extends Pp{constructor(e,n,s){super(e,n,_p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new pe(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function Y0(r,e,...n){if(r=jn(r),arguments.length===1&&(e=hp.newId()),zI("doc","path",e),r instanceof Lp){const s=lt.fromString(e,...n);return o0(s),new jt(r,null,new pe(s))}{if(!(r instanceof jt||r instanceof Jl))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return o0(s),new jt(r.firestore,r instanceof Jl?r.converter:null,new pe(s))}}const X0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E1(this,"async_queue_retry"),this._c=()=>{const s=lm();s&&oe(X0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;oe(X0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",J0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Up extends Lp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function PD(r,e){const n=typeof r=="object"?r:zE(),s=typeof r=="string"?r:ph,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$w("firestore");u&&LD(o,...u)}return o}function z1(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UD(r),r._firestoreClient}function UD(r){const e=r._freezeSettings(),n=kD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ID(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Xt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:It("string",Un._jsonSchemaVersion),bytes:It("string")};class j1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class B1{constructor(e){this._methodName=e}}class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(au(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:It("string",Ni._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ni(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:It("string",ni._jsonSchemaVersion),vectorValues:It("object")};const zD=/^__.*__$/;class jD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}function H1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:r})}}class zp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(H1(this.dataSource)&&zD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class BD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||jh(e)}createContext(e,n,s,o=!1){return new zp({dataSource:e,methodName:n,targetDoc:s,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HD(r){const e=r._freezeSettings(),n=jh(r._databaseId);return new BD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function qD(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Q1("Data must be an object, but it was:",f,s);const m=F1(s,f);let g,y;if(u.merge)g=new ti(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=jp(e,b,n);if(!f.contains(w))throw new fe(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);QD(E,w)||E.push(w)}g=new ti(E),y=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=f.fieldTransforms;return new jD(new Pn(m),g,y)}function q1(r,e){if(G1(r=jn(r)))return Q1("Unsupported field value:",e,r),F1(r,e);if(r instanceof B1)return(function(s,o){if(!H1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=q1(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Sx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Th(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:l1(o.serializer,s._byteString)};if(s instanceof jt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ni)return(function(f,m){const g=f instanceof ni?f.toArray():f;return{mapValue:{fields:{[PT]:{stringValue:UT},[gh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return vp(m.serializer,E)}))}}}}}})(s,o);if(p1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${fp(s)}`)})(r,e)}function F1(r,e){const n={};return DT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(r,((s,o)=>{const u=q1(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function G1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ni||r instanceof Un||r instanceof jt||r instanceof B1||r instanceof ni||p1(r))}function Q1(r,e,n){if(!G1(n)||!xT(n)){const s=fp(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function jp(r,e,n){if((e=jn(e))instanceof j1)return e._internalPath;if(typeof e=="string")return GD(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const FD=new RegExp("[~\\*/\\[\\]]");function GD(r,e,n){if(e.search(FD)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new j1(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new fe(te.INVALID_ARGUMENT,m+r+g)}function QD(r,e){return r.some((n=>n.isEqual(e)))}class KD{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new ni(n)}convertGeoPoint(e){return new Ni(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Fe(m1(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class YD extends KD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}const Z0="@firebase/firestore",W0="4.11.0";class K1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(jp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XD extends K1{data(){return super.data()}}function $D(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends K1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:It("string",Gs._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class rh extends Gs{data(e={}){return super.data(e)}}class zl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:JD(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:It("string",zl._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};function ZD(r){r=Fl(r,jt);const e=Fl(r.firestore,Up),n=z1(e);return OD(n,r._key).then((s=>t4(e,r,s)))}function WD(r,e,n){r=Fl(r,jt);const s=Fl(r.firestore,Up),o=$D(r.converter,e,n),u=HD(s);return e4(s,[qD(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,rr.none())])}function e4(r,e){const n=z1(r);return MD(n,e)}function t4(r,e,n){const s=n.docs.get(e._key),o=new YD(r);return new Gs(r,o,e._key,s,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){II(mo),io(new Ks("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Up(new DI(s.getProvider("auth-internal")),new VI(f,s.getProvider("app-check-internal")),ZI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(Z0,W0,e),Wr(Z0,W0,"esm2020")})();const n4={apiKey:"AIzaSyB3hjJmXP4cROp2k2OQPhdK1m62jY_hBbc",authDomain:"coffee-forest.firebaseapp.com",projectId:"coffee-forest",storageBucket:"coffee-forest.firebasestorage.app",messagingSenderId:"214424555745",appId:"1:214424555745:web:f7cf2d1bc1e2eec4e4e7a0",measurementId:"G-QLBTFENJL3"},Y1=UE(n4),Il=AI(Y1),i4=new er,eE=PD(Y1),qh=CE(r=>(fC(Il,e=>{r({user:e,isLoading:!1})}),jC(Il).then(e=>{e?.user&&r({user:e.user,isLoading:!1})}).catch(e=>{console.error("Redirect login result error:",e),r({isLoading:!1})}),{user:Il.currentUser,isLoading:!0,loginWithGoogle:async()=>{r({isLoading:!0});try{await UC(Il,i4)}catch(e){console.error("Login redirect failed:",e),r({isLoading:!1})}},logout:async()=>{try{await dC(Il)}catch(e){console.error("Logout failed:",e)}}}));const X1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const r4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const s4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const tE=r=>{const e=s4(r);return e.charAt(0).toUpperCase()+e.slice(1)};var a4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const l4=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>F.createElement("svg",{ref:g,...a4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:X1("lucide",o),...!u&&!o4(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>F.createElement(y,E)),...Array.isArray(u)?u:[u]]));const xt=(r,e)=>{const n=F.forwardRef(({className:s,...o},u)=>F.createElement(l4,{ref:u,iconNode:e,className:X1(`lucide-${r4(tE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=tE(r),n};const u4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],c4=xt("arrow-right",u4);const h4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$1=xt("book-open",h4);const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],d4=xt("circle-check",f4);const m4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],zm=xt("coffee",m4);const p4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],jm=xt("droplets",p4);const g4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M20 11v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"1sqzm4"}],["path",{d:"M7.5 7a1 1 0 0 1 0-5A4.8 8 0 0 1 12 7a4.8 8 0 0 1 4.5-5 1 1 0 0 1 0 5",key:"kc0143"}],["rect",{x:"3",y:"7",width:"18",height:"4",rx:"1",key:"1hberx"}]],y4=xt("gift",g4);const _4=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],v4=xt("inbox",_4);const E4=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],T4=xt("leaf",E4);const b4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],S4=xt("loader-circle",b4);const A4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],w4=xt("lock",A4);const R4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C4=xt("log-out",R4);const I4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],x4=xt("map-pin",I4);const N4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],D4=xt("package",N4);const O4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],M4=xt("shopping-cart",O4);const V4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],k4=xt("sparkles",V4);const L4=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],P4=xt("sprout",L4);const U4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nE=xt("star",U4);const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],J1=xt("target",z4);const j4=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],B4=xt("tree-pine",j4);const H4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bp=xt("x",H4);function q4(){const{caffeineMg:r,hydrationL:e,treeGrowthPercent:n,addCoffee:s,waterPlant:o,togglePremiumShop:u,toggleCollectionBook:f,toggleQuests:m}=is(),{user:g,logout:y}=qh(),E=()=>{s(80),navigator.vibrate&&navigator.vibrate(50)},b=()=>{o(.25),navigator.vibrate&&navigator.vibrate(50)},w=r>=400&&e<1.5,Y=n>=100?{emoji:"",label:"Coffee Tree (Max)"}:n>=70?{emoji:"",label:"Mature Tree"}:n>=40?{emoji:"",label:"Small Plant"}:n>=20?{emoji:"",label:"Seedling"}:{emoji:"",label:"Sprout"};return O.jsxs("div",{className:"relative w-full max-w-[390px] mx-auto bg-background-light min-h-screen sm:min-h-[844px] sm:h-[844px] sm:rounded-[2.5rem] sm:shadow-float sm:border-[8px] sm:border-white overflow-hidden flex flex-col",children:[O.jsxs("div",{className:"px-6 py-6 flex justify-between items-center",children:[O.jsxs("div",{children:[O.jsx("p",{className:"text-sm text-espresso/60",children:"Welcome back,"}),O.jsx("h3",{className:"text-xl font-bold text-espresso",children:"My Coffee Forest"})]}),O.jsx("div",{className:"flex items-center gap-3",children:g&&O.jsxs("div",{className:"flex items-center gap-2",children:[g.photoURL&&O.jsx("img",{src:g.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full border border-white/20"}),O.jsx("button",{title:"Click to Logout",onClick:y,className:"w-8 h-8 rounded-full bg-red-500/10 text-red-500 flex items-center justify-center hover:bg-red-500 hover:text-white transition-colors",children:O.jsx(C4,{className:"w-4 h-4"})})]})})]}),O.jsxs("div",{className:"flex-1 px-6 flex flex-col items-center justify-center relative",children:[O.jsxs("div",{className:"relative z-10 mb-8 w-full flex flex-col items-center justify-center",children:[O.jsx("div",{className:"w-48 h-48 bg-gradient-to-t from-primary/20 to-transparent rounded-full absolute bottom-0 left-1/2 -translate-x-1/2 blur-2xl z-0"}),O.jsx("div",{className:`text-9xl relative z-10 select-none transition-all duration-700
                            ${w?"grayscale contrast-50 sepia-[.30] opacity-80 animate-none":"drop-shadow-2xl animate-[bounce_3s_infinite]"}
                        `,style:{animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)"},children:Y.emoji}),w&&O.jsx("div",{className:"mt-4 bg-red-500/10 text-red-600 px-4 py-2 rounded-full text-xs font-bold border border-red-500/20 backdrop-blur-md animate-pulse z-20",children:" Your tree is dehydrated! Drink water!"})]}),O.jsxs("div",{className:"w-full mb-8",children:[O.jsxs("div",{className:"flex justify-between text-xs font-bold text-espresso/60 mb-2 uppercase tracking-wide",children:[O.jsx("span",{children:Y.label}),O.jsxs("span",{className:"text-primary",children:[n,"%"]})]}),O.jsx("div",{className:"w-full bg-white h-4 rounded-full p-1 shadow-inner",children:O.jsx("div",{className:"bg-gradient-to-r from-primary to-[#4c9a5f] h-full rounded-full relative transition-all duration-1000 ease-out",style:{width:`${n}%`},children:O.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-3 bg-white/50 rounded-full mr-1"})})})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full mb-8",children:[O.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-foam flex flex-col items-center gap-1",children:[O.jsx(zm,{className:"text-crema w-6 h-6"}),O.jsxs("span",{className:"text-xl font-bold text-espresso",children:[r,"mg"]}),O.jsx("span",{className:"text-[10px] text-espresso/50 uppercase font-bold tracking-wider",children:"Caffeine"})]}),O.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-foam flex flex-col items-center gap-1",children:[O.jsx(jm,{className:"text-primary w-6 h-6"}),O.jsxs("span",{className:"text-xl font-bold text-espresso",children:[e,"L"]}),O.jsx("span",{className:"text-[10px] text-espresso/50 uppercase font-bold tracking-wider",children:"Hydration"})]})]}),O.jsxs("div",{className:"flex gap-3 w-full",children:[O.jsxs("button",{onClick:b,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-lg shadow-blue-500/20 active:scale-95 transition-all flex flex-col items-center justify-center gap-1 group",children:[O.jsx(jm,{className:"w-5 h-5 group-active:translate-y-1 transition-transform"}),O.jsx("span",{className:"text-sm",children:"+250ml"})]}),O.jsxs("button",{onClick:E,className:"flex-[2] bg-espresso hover:bg-[#3A2A1A] text-white font-bold py-4 rounded-2xl shadow-lg shadow-espresso/20 active:scale-95 transition-all flex items-center justify-center gap-2 group",children:[O.jsx(zm,{className:"w-5 h-5 group-active:translate-y-1 transition-transform"}),O.jsx("span",{children:"Record Coffee"})]})]})]}),O.jsxs("div",{className:"h-20 bg-white sm:rounded-b-[2.5rem] rounded-t-3xl shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.05)] mt-auto flex justify-around items-center px-4 pb-2 z-20",children:[O.jsxs("button",{className:"p-2 text-primary flex flex-col items-center gap-1",children:[O.jsx(B4,{className:"w-6 h-6"}),O.jsx("span",{className:"text-[10px] font-bold",children:"Forest"})]}),O.jsxs("button",{onClick:()=>f(!0),className:"p-2 text-espresso/40 flex flex-col items-center gap-1 hover:text-espresso transition-colors",children:[O.jsx($1,{className:"w-6 h-6"}),O.jsx("span",{className:"text-[10px] font-bold",children:"Cards"})]}),O.jsxs("button",{onClick:()=>u(!0),className:"p-2 text-espresso/40 flex flex-col items-center gap-1 hover:text-yellow-600 transition-colors",children:[O.jsx(M4,{className:"w-6 h-6"}),O.jsx("span",{className:"text-[10px] font-bold",children:"Shop"})]}),O.jsxs("button",{onClick:()=>m(!0),className:"p-2 text-espresso/40 flex flex-col items-center gap-1 hover:text-espresso transition-colors",children:[O.jsx(J1,{className:"w-6 h-6"}),O.jsx("span",{className:"text-[10px] font-bold",children:"Quests"})]})]})]})}function F4(){const{currentRewardCard:r,closeRewardPopup:e}=is();return r?O.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[O.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-0",onClick:e}),O.jsxs("div",{className:"relative z-10 w-full max-w-[375px] h-[700px] max-h-[90vh] bg-background-dark rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-white/10 ring-8 ring-white/5 animate-in fade-in zoom-in duration-300",children:[O.jsx("div",{className:"flex-none pt-8 px-6 text-center z-20",children:O.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-bold tracking-wide mb-2 uppercase",children:[O.jsx(nE,{className:"w-3 h-3"}),"Tree Level Up!"]})}),O.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative p-6 z-20",children:[O.jsxs("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden pointer-events-none",children:[O.jsx("div",{className:"w-[600px] h-[600px] god-rays animate-spin-slow opacity-60"}),O.jsx("div",{className:"absolute w-[300px] h-[300px] bg-primary/20 blur-[60px] rounded-full"})]}),O.jsxs("div",{className:"relative w-full aspect-[3/4] max-w-[280px] animate-float",children:[O.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-primary via-purple-500 to-blue-500 rounded-xl blur opacity-40"}),O.jsxs("div",{className:"relative h-full w-full holographic-card rounded-xl flex flex-col p-1 shadow-2xl",children:[O.jsxs("div",{className:"p-3 flex justify-between items-start absolute top-0 left-0 right-0 z-20",children:[O.jsx("div",{className:"bg-black/40 backdrop-blur-md text-white text-[10px] font-bold px-2 py-1 rounded border border-white/10 uppercase tracking-wider",children:r.rarity}),O.jsx(nE,{className:"text-yellow-400 fill-yellow-400 w-5 h-5 drop-shadow-[0_0_8px_rgba(250,204,21,0.8)]"})]}),O.jsxs("div",{className:"flex-1 bg-[#1a120b] rounded-lg overflow-hidden relative group",children:[O.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-orange-900 via-[#1a120b] to-black"}),O.jsx("img",{alt:"Legendary Bean",className:"w-full h-full object-cover mix-blend-overlay opacity-80",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBV6wWsJPdtgLJjDUc85wXobsnfOQ6Pdj78-E0MlcRAcevKluho_tjOcGskuhM-8Gbk-WGXlR_qxSytj05FFG065y2mDor_er9b_zZJEuxv4VWFO9H4K9l6VzzOUB9jQinN2WTv2exbobXBxyEQ5l3c5CsF4iNduof0mSQepf_GR2TZWi6cki7dTdwAEtx6BGtcs3gYuPNh-6IQzWSx_EPreuGl4XzShIVs4qhBLYm1LCVfJMdu4yWLRi-NG87t8CLTgblHja-RJ2XO"})]}),O.jsxs("div",{className:"p-4 bg-gradient-to-b from-[#2a2016] to-[#1c140d] mt-1 rounded-b-lg border-t border-white/5 relative z-20",children:[O.jsx("h3",{className:"text-white text-xl font-bold leading-tight mb-1",children:r.name}),O.jsxs("div",{className:"flex items-center gap-1 text-[#cbad90] text-xs font-bold uppercase tracking-wider",children:[O.jsx(x4,{className:"w-3 h-3"}),r.location]})]})]}),O.jsx("div",{className:"absolute -top-3 -right-3 bg-red-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-full shadow-lg transform rotate-6 border-2 border-[#231a10] z-30 flex items-center gap-1 tracking-wider uppercase",children:"Limited Edition"})]})]}),O.jsxs("div",{className:"flex-none p-6 pb-8 bg-gradient-to-t from-[#150f08] to-transparent z-20",children:[O.jsxs("div",{className:"text-center mb-6",children:[O.jsx("h2",{className:"text-2xl font-extrabold text-white mb-2 tracking-tight flex-col",children:"Rare Find!"}),O.jsx("p",{className:"text-[#cbad90] text-sm leading-relaxed max-w-[280px] mx-auto",children:"You discovered a rare bean variant while nurturing your tree. Add it to your collection."})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{className:"w-full group relative overflow-hidden rounded-xl bg-orange-500 hover:bg-orange-400 transition-colors duration-300 p-4 shadow-[0_0_20px_rgba(244,140,37,0.3)]",children:O.jsxs("div",{className:"flex items-center justify-center gap-2",children:[O.jsx(D4,{className:"text-white w-5 h-5"}),O.jsx("span",{className:"text-white font-bold text-base tracking-wide uppercase",children:"Get it for real"}),O.jsx("span",{className:"bg-white/20 text-white text-[10px] font-bold px-1.5 py-0.5 rounded backdrop-blur-sm",children:"OFFER"})]})}),O.jsxs("button",{onClick:e,className:"w-full py-3 text-[#cbad90] hover:text-white text-sm font-medium transition-colors flex items-center justify-center gap-1",children:[O.jsx(v4,{className:"w-4 h-4"}),"Keep collecting"]})]})]})]})]}):null}function G4(){const{togglePremiumShop:r}=is(),e=n=>{alert(`Transaction completed by ${n.payer.name.given_name}. Your tree has received premium fertilizer!`),r(!1)};return O.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-[fadeIn_0.3s_ease-out]",children:[O.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-6 shadow-2xl relative animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)]",children:[O.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-200 hover:text-gray-800 transition-colors",children:O.jsx(Bp,{className:"w-5 h-5"})}),O.jsxs("div",{className:"text-center mb-6",children:[O.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-2xl mx-auto flex items-center justify-center shadow-lg shadow-yellow-500/30 mb-4 animate-[bounce_3s_infinite]",children:O.jsx(k4,{className:"w-8 h-8 text-white"})}),O.jsx("h2",{className:"text-2xl font-bold text-espresso mb-1",children:"Premium Shop"}),O.jsx("p",{className:"text-sm text-espresso/60",children:"Support your forest and unlock exclusive cosmetic items."})]}),O.jsx("div",{className:"space-y-4 mb-6",children:O.jsxs("div",{className:"border border-yellow-200 bg-yellow-50/50 rounded-2xl p-4 flex gap-4 items-center",children:[O.jsx("div",{className:"bg-yellow-100 p-2 rounded-xl",children:O.jsx(P4,{className:"w-6 h-6 text-yellow-600"})}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h4",{className:"font-bold text-sm text-espresso",children:"Golden Fertilizer"}),O.jsx("p",{className:"text-xs text-espresso/60",children:"Instantly boosts growth +50%"})]}),O.jsx("div",{className:"font-bold text-lg text-primary",children:"$0.99"})]})}),O.jsx("div",{className:"w-full relative z-10",children:O.jsx($m,{style:{layout:"vertical",shape:"pill",label:"pay",color:"gold"},createOrder:(n,s)=>s.order.create({intent:"CAPTURE",purchase_units:[{description:"Golden Fertilizer",amount:{currency_code:"USD",value:"0.99"}}]}),onApprove:async(n,s)=>{if(!s.order)return;const o=await s.order.capture();e(o)},onError:n=>{console.error("PayPal Error:",n),alert("Payment could not be processed.")}})}),O.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-4",children:"Secure checkout provided by PayPal. In sandbox mode, no real money will be charged."})]}),O.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(40px) scale(0.95); }
                    to { opacity: 1; transform: translateY(0) scale(1); }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}const cm=[{id:"1",name:"Arabica",rarity:"Common",location:"Ethiopia",icon:"",description:"The foundation of modern coffee."},{id:"2",name:"Robusta",rarity:"Common",location:"Vietnam",icon:"",description:"Strong, earthy, and highly caffeinated."},{id:"3",name:"Liberica",rarity:"Rare",location:"Liberia",icon:"",description:"A rare bean with a unique floral and fruity aroma."},{id:"4",name:"Geisha",rarity:"Legendary",location:"Panama",icon:"",description:"The world's most coveted coffee bean."},{id:"5",name:"Blue Mountain",rarity:"Legendary",location:"Jamaica",icon:"",description:"Exceptionally smooth, mild, and lacking bitterness."}];function Q4(){const{toggleCollectionBook:r,collectedCards:e}=is(),n=new Set(e.map(s=>s.name));return O.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-[fadeIn_0.3s_ease-out]",children:O.jsxs("div",{className:"bg-[#fcfaf7] w-full max-w-[390px] h-[80vh] max-h-[700px] rounded-[2rem] shadow-2xl relative animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)] flex flex-col overflow-hidden",children:[O.jsxs("div",{className:"bg-espresso text-white p-6 pb-8 rounded-b-[2rem] shadow-md relative z-10 shrink-0",children:[O.jsx("button",{onClick:()=>r(!1),className:"absolute top-6 right-6 w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:bg-white/20 transition-colors",children:O.jsx(Bp,{className:"w-5 h-5"})}),O.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[O.jsx($1,{className:"w-8 h-8 text-crema"}),O.jsx("h2",{className:"text-2xl font-black",children:"Bean Collection"})]}),O.jsx("p",{className:"text-sm text-white/70",children:"Collect rare beans by recording your coffee daily!"}),O.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[O.jsxs("div",{className:"text-xs font-bold w-12 text-right",children:[n.size," / ",cm.length]}),O.jsx("div",{className:"flex-1 bg-black/40 h-2 rounded-full overflow-hidden",children:O.jsx("div",{className:"bg-crema h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n.size/cm.length*100}%`}})})]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-2 gap-4 pb-12 content-start",children:cm.map((s,o)=>{const u=n.has(s.name),f=s.rarity==="Legendary";return O.jsxs("div",{className:`relative group rounded-2xl p-4 flex flex-col items-center justify-center transition-all duration-500
                                    ${u?"bg-white shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-espresso/10 cursor-pointer hover:-translate-y-1":"bg-gray-100 border border-gray-200 opacity-60 grayscale"}
                                `,style:{animationDelay:`${o*100}ms`},children:[u&&f&&O.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-[9px] font-black tracking-widest uppercase px-2 py-0.5 rounded-full shadow-sm",children:"Rare"}),O.jsx("div",{className:`text-4xl mb-3 ${u?"":"opacity-20"}`,children:u?s.icon:O.jsx(w4,{className:"w-8 h-8 text-gray-400"})}),O.jsx("h4",{className:`text-sm font-bold text-center mb-1 ${u?"text-espresso":"text-gray-500"}`,children:u?s.name:"Unknown"}),u&&O.jsx("span",{className:"text-[10px] text-espresso/50 uppercase font-bold tracking-wider text-center",children:s.location})]},s.id)})})]})})}function K4(){const{quests:r,toggleQuests:e,claimQuestReward:n}=is();return O.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-[fadeIn_0.3s_ease-out]",children:O.jsxs("div",{className:"bg-[#fcfaf7] w-full max-w-[390px] rounded-[2rem] shadow-2xl relative animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)] flex flex-col overflow-hidden",children:[O.jsxs("div",{className:"bg-espresso text-white p-6 pb-8 rounded-b-[2rem] shadow-md relative z-10 shrink-0",children:[O.jsx("button",{onClick:()=>e(!1),className:"absolute top-6 right-6 w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:bg-white/20 transition-colors",children:O.jsx(Bp,{className:"w-5 h-5"})}),O.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[O.jsx(J1,{className:"w-8 h-8 text-primary"}),O.jsx("h2",{className:"text-2xl font-black",children:"Daily Quests"})]}),O.jsx("p",{className:"text-sm text-white/70",children:"Complete tasks to earn extra growth for your tree!"})]}),O.jsx("div",{className:"p-6 space-y-4",children:r.map(s=>{const o=Math.min(100,s.current/s.target*100),u=s.completed&&s.rewardGrowth===0;return O.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-espresso/10",children:[O.jsxs("div",{className:"flex justify-between items-start mb-3",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-espresso",children:s.title}),O.jsxs("p",{className:"text-xs text-espresso/60 font-medium",children:["Reward: +",s.rewardGrowth||10,"% Growth"]})]}),u?O.jsxs("div",{className:"bg-gray-100 text-gray-400 p-2 rounded-xl flex items-center gap-1 text-xs font-bold",children:[O.jsx(d4,{className:"w-4 h-4"})," Claimed"]}):s.completed?O.jsxs("button",{onClick:()=>n(s.id),className:"bg-primary hover:bg-green-600 text-white p-2 px-3 rounded-xl flex items-center gap-1 text-xs font-bold shadow-lg shadow-primary/30 transition-colors animate-[bounce_2s_infinite]",children:[O.jsx(y4,{className:"w-4 h-4"})," Claim"]}):O.jsxs("div",{className:"bg-primary/10 text-primary px-2 py-1 flex items-center justify-center rounded-lg text-xs font-bold",children:[s.current," / ",s.target]})]}),O.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:O.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${s.completed?"bg-primary":"bg-espresso"}`,style:{width:`${o}%`}})})]},s.id)})})]})})}function Y4(){const{user:r,isLoading:e,loginWithGoogle:n}=qh(),s=Gm();return F.useEffect(()=>{!e&&r&&s("/dashboard")},[r,e,s]),e?O.jsxs("div",{className:"w-full max-w-[390px] mx-auto bg-[#1a1412] h-screen sm:h-[844px] flex flex-col items-center justify-center text-white",children:[O.jsx(S4,{className:"w-12 h-12 text-primary animate-spin mb-4"}),O.jsx("p",{className:"text-espresso-lighest opacity-70",children:"Verifying session..."})]}):O.jsxs("div",{className:"relative w-full max-w-[390px] mx-auto bg-gradient-to-b from-[#1a1412] to-[#0a0807] min-h-screen sm:min-h-[844px] sm:h-[844px] sm:rounded-[2.5rem] sm:shadow-float sm:border-[8px] sm:border-white overflow-hidden flex flex-col items-center justify-between text-white px-6 py-12",children:[O.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 opacity-40",children:[O.jsx("div",{className:"absolute -top-[10%] -left-[20%] w-[150%] h-[50%] bg-primary/20 blur-[120px] rounded-[100%]"}),O.jsx("div",{className:"absolute bottom-[0%] right-[0%] w-[100%] h-[50%] bg-[#4c9a5f]/10 blur-[100px] rounded-[100%]"})]}),O.jsxs("div",{className:"z-10 w-full flex flex-col items-center mt-8 animate-[fadeIn_1s_ease-out]",children:[O.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-[#2e5d39] rounded-2xl shadow-[0_0_30px_rgba(17,212,66,0.5)] flex items-center justify-center mb-6",children:O.jsx(T4,{className:"w-8 h-8 text-white"})}),O.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-center mb-4",children:["My Coffee ",O.jsx("br",{}),O.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-green-300",children:"Forest"})]}),O.jsx("p",{className:"text-espresso-lighest text-center opacity-80 mb-8 max-w-[280px]",children:"Track your caffeine, stay hydrated, and grow a beautiful, lush digital forest."})]}),O.jsxs("div",{className:"z-10 flex flex-col gap-4 w-full animate-[slideUp_1s_ease-out_0.2s_both]",children:[O.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex items-center gap-4",children:[O.jsx("div",{className:"p-3 bg-espresso/80 rounded-full",children:O.jsx(zm,{className:"w-5 h-5 text-crema"})}),O.jsxs("div",{children:[O.jsx("h4",{className:"font-bold text-sm",children:"Log Intelligently"}),O.jsx("p",{className:"text-xs text-white/50",children:"Keep your caffeine in check."})]})]}),O.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex items-center gap-4",children:[O.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:O.jsx(jm,{className:"w-5 h-5 text-blue-400"})}),O.jsxs("div",{children:[O.jsx("h4",{className:"font-bold text-sm",children:"Stay Hydrated"}),O.jsx("p",{className:"text-xs text-white/50",children:"Cure your tree by drinking water."})]})]})]}),O.jsxs("div",{className:"z-10 w-full mt-auto mb-6 animate-[slideUp_1s_ease-out_0.4s_both]",children:[O.jsxs("button",{onClick:n,disabled:e,className:"w-full bg-white hover:bg-gray-100 text-[#1a1412] font-extrabold py-5 rounded-2xl shadow-[0_10px_40px_rgba(255,255,255,0.2)] active:scale-95 transition-all flex items-center justify-center gap-3 group disabled:opacity-50",children:[O.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),O.jsx("span",{className:"text-lg",children:"Continue with Google"}),O.jsx(c4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform opacity-50"})]}),O.jsx("p",{className:"text-center text-[10px] text-white/40 mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Syncs across all devices automatically."})]}),O.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}function X4(){const{user:r}=qh(),e=F.useRef(!1);F.useEffect(()=>{if(!r)return;(async()=>{e.current=!0;try{const s=Y0(eE,"users",r.uid),o=await ZD(s);if(o.exists()){const u=o.data();is.setState({caffeineMg:u.caffeineMg??0,hydrationL:u.hydrationL??0,streak:u.streak??0,treeGrowthPercent:u.treeGrowthPercent??0,collectedCards:u.collectedCards??[]})}}catch(s){console.error("Failed to sync from Firestore",s)}finally{setTimeout(()=>{e.current=!1},500)}})()},[r]),F.useEffect(()=>{if(!r)return;const n=is.subscribe(async s=>{if(e.current)return;const o=Y0(eE,"users",r.uid);try{await WD(o,{caffeineMg:s.caffeineMg,hydrationL:s.hydrationL,streak:s.streak,treeGrowthPercent:s.treeGrowthPercent,collectedCards:s.collectedCards,lastUpdated:new Date().toISOString()},{merge:!0})}catch(u){console.error("Failed to save to Firestore",u)}});return()=>n()},[r])}function $4({children:r}){const{user:e}=qh();return e?O.jsx(O.Fragment,{children:r}):O.jsx(VA,{to:"/",replace:!0})}function J4(){const{showRewardPopup:r,showPremiumShop:e,showCollectionBook:n,showQuests:s}=is();X4();const o={clientId:"test",currency:"USD"};return O.jsx(kw,{options:o,children:O.jsx(aw,{children:O.jsxs("div",{className:"bg-slate-200 min-h-screen flex items-center justify-center sm:p-4 font-sans",children:[O.jsxs(LA,{children:[O.jsx(fm,{path:"/",element:O.jsx(Y4,{})}),O.jsx(fm,{path:"/dashboard",element:O.jsx($4,{children:O.jsx(q4,{})})})]}),r&&O.jsx(F4,{}),e&&O.jsx(G4,{}),n&&O.jsx(Q4,{}),s&&O.jsx(K4,{})]})})})}US.createRoot(document.getElementById("root")).render(O.jsx(F.StrictMode,{children:O.jsx(J4,{})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function DS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gd={exports:{}},Rl={};var uv;function OS(){if(uv)return Rl;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var cv;function MS(){return cv||(cv=1,Gd.exports=OS()),Gd.exports}var N=MS(),Qd={exports:{}},Se={};var hv;function VS(){if(hv)return Se;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function ne(M,Z,ae){this.props=M,this.context=Z,this.refs=H,this.updater=ae||Y}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function ie(M,Z,ae){this.props=M,this.context=Z,this.refs=H,this.updater=ae||Y}var he=ie.prototype=new ee;he.constructor=ie,$(he,ne.prototype),he.isPureReactComponent=!0;var ge=Array.isArray;function Ee(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,Z,ae){var le=ae.ref;return{$$typeof:r,type:M,key:Z,ref:le!==void 0?le:null,props:ae}}function V(M,Z){return C(M.type,Z,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var R=/\/+/g;function We(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Z.toString(36)}function Nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,Z,ae,le,Te){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=M._init,K(Pe(M._payload),Z,ae,le,Te)}}if(Pe)return Te=Te(M),Pe=le===""?"."+We(M,0):le,ge(Te)?(ae="",Pe!=null&&(ae=Pe.replace(R,"$&/")+"/"),K(Te,Z,ae,"",function(hs){return hs})):Te!=null&&(D(Te)&&(Te=V(Te,ae+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Pe)),Z.push(Te)),1;Pe=0;var Dt=le===""?".":le+":";if(ge(M))for(var rt=0;rt<M.length;rt++)le=M[rt],Ce=Dt+We(le,rt),Pe+=K(le,Z,ae,Ce,Te);else if(rt=L(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(le=M.next()).done;)le=le.value,Ce=Dt+We(le,rt++),Pe+=K(le,Z,ae,Ce,Te);else if(Ce==="object"){if(typeof M.then=="function")return K(Nt(M),Z,ae,le,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(M,Z,ae){if(M==null)return M;var le=[],Te=0;return K(M,le,"","",function(Ce){return Z.call(ae,Ce,Te++)}),le}function me(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,Z,ae){se(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return se(M,function(){Z++}),Z},toArray:function(M){return se(M,function(Z){return Z})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=b,Se.Children=Ge,Se.Component=ne,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=$({},M.props),Te=M.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Te=""+Z.key),Z)!w.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(le[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ae;else if(1<Ce){for(var Pe=Array(Ce),Dt=0;Dt<Ce;Dt++)Pe[Dt]=arguments[Dt+2];le.children=Pe}return C(M.type,Te,le)},Se.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,Z,ae){var le,Te={},Ce=null;if(Z!=null)for(le in Z.key!==void 0&&(Ce=""+Z.key),Z)w.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=Z[le]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var Dt=Array(Pe),rt=0;rt<Pe;rt++)Dt[rt]=arguments[rt+2];Te.children=Dt}if(M&&M.defaultProps)for(le in Pe=M.defaultProps,Pe)Te[le]===void 0&&(Te[le]=Pe[le]);return C(M,Ce,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=D,Se.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Se.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},Se.startTransition=function(M){var Z=I.T,ae={};I.T=ae;try{var le=M(),Te=I.S;Te!==null&&Te(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,je)}catch(Ce){je(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),I.T=Z}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(M){return I.H.use(M)},Se.useActionState=function(M,Z,ae){return I.H.useActionState(M,Z,ae)},Se.useCallback=function(M,Z){return I.H.useCallback(M,Z)},Se.useContext=function(M){return I.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Z){return I.H.useDeferredValue(M,Z)},Se.useEffect=function(M,Z){return I.H.useEffect(M,Z)},Se.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(M,Z,ae){return I.H.useImperativeHandle(M,Z,ae)},Se.useInsertionEffect=function(M,Z){return I.H.useInsertionEffect(M,Z)},Se.useLayoutEffect=function(M,Z){return I.H.useLayoutEffect(M,Z)},Se.useMemo=function(M,Z){return I.H.useMemo(M,Z)},Se.useOptimistic=function(M,Z){return I.H.useOptimistic(M,Z)},Se.useReducer=function(M,Z,ae){return I.H.useReducer(M,Z,ae)},Se.useRef=function(M){return I.H.useRef(M)},Se.useState=function(M){return I.H.useState(M)},Se.useSyncExternalStore=function(M,Z,ae){return I.H.useSyncExternalStore(M,Z,ae)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.4",Se}var fv;function qm(){return fv||(fv=1,Qd.exports=VS()),Qd.exports}var q=qm();const Yr=DS(q);var Kd={exports:{}},Cl={},Yd={exports:{}},Xd={};var dv;function kS(){return dv||(dv=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var je=me-1>>>1,Ge=K[je];if(0<o(Ge,se))K[je]=se,K[me]=Ge,me=je;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var je=0,Ge=K.length,M=Ge>>>1;je<M;){var Z=2*(je+1)-1,ae=K[Z],le=Z+1,Te=K[le];if(0>o(ae,me))le<Ge&&0>o(Te,ae)?(K[je]=Te,K[le]=me,je=le):(K[je]=ae,K[Z]=me,je=Z);else if(le<Ge&&0>o(Te,me))K[je]=Te,K[le]=me,je=le;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,A=3,L=!1,Y=!1,$=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=K)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function ge(K){if($=!1,he(K),!Y)if(n(g)!==null)Y=!0,Ee||(Ee=!0,P());else{var se=n(y);se!==null&&Nt(ge,se.startTime-K)}}var Ee=!1,I=-1,w=5,C=-1;function V(){return H?!0:!(r.unstable_now()-C<w)}function D(){if(H=!1,Ee){var K=r.unstable_now();C=K;var se=!0;try{e:{Y=!1,$&&($=!1,ee(I),I=-1),L=!0;var me=A;try{t:{for(he(K),b=n(g);b!==null&&!(b.expirationTime>K&&V());){var je=b.callback;if(typeof je=="function"){b.callback=null,A=b.priorityLevel;var Ge=je(b.expirationTime<=K);if(K=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,he(K),se=!0;break t}b===n(g)&&s(g),he(K)}else s(g);b=n(g)}if(b!==null)se=!0;else{var M=n(y);M!==null&&Nt(ge,M.startTime-K),se=!1}}break e}finally{b=null,A=me,L=!1}se=void 0}}finally{se?P():Ee=!1}}}var P;if(typeof ie=="function")P=function(){ie(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,We=R.port2;R.port1.onmessage=D,P=function(){We.postMessage(null)}}else P=function(){ne(D,0)};function Nt(K,se){I=ne(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var me=A;A=se;try{return K()}finally{A=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=A;A=K;try{return se()}finally{A=me}},r.unstable_scheduleCallback=function(K,se,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,K={id:E++,callback:se,priorityLevel:K,startTime:me,expirationTime:Ge,sortIndex:-1},me>je?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&($?(ee(I),I=-1):$=!0,Nt(ge,me-je))):(K.sortIndex=Ge,e(g,K),Y||L||(Y=!0,Ee||(Ee=!0,P()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var se=A;return function(){var me=A;A=se;try{return K.apply(this,arguments)}finally{A=me}}}})(Xd)),Xd}var mv;function LS(){return mv||(mv=1,Yd.exports=kS()),Yd.exports}var $d={exports:{}},$t={};var pv;function PS(){if(pv)return $t;pv=1;var r=qm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},$t.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var gv;function US(){if(gv)return $d.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=PS(),$d.exports}var yv;function jS(){if(yv)return Cl;yv=1;var r=LS(),e=qm(),n=US();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case ge:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ie:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:We(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return We(t(i))}catch{}}return null}var Nt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function Z(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var le=M(null),Te=M(null),Ce=M(null),Pe=M(null);function Dt(t,i){switch(ae(Ce,i),ae(Te,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=O_(i),t=M_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(le),ae(le,t)}function rt(){Z(le),Z(Te),Z(Ce)}function hs(t){t.memoizedState!==null&&ae(Pe,t);var i=le.current,a=M_(i,t.type);i!==a&&(ae(Te,t),ae(le,a))}function ra(t){Te.current===t&&(Z(le),Z(Te)),Pe.current===t&&(Z(Pe),bl._currentValue=me)}var sa,aa;function ri(t){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+t+aa}var bo=!1;function fs(t,i){if(!t||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var B=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){B=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){B=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),z=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===z.length)for(l=x.length-1,h=z.length-1;1<=l&&0<=h&&x[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==z[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function So(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return fs(t.type,!1);case 11:return fs(t.type.render,!1);case 1:return fs(t.type,!0);case 31:return ri("Activity");default:return""}}function wo(t){try{var i="",a=null;do i+=So(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,hr=r.unstable_cancelCallback,Qh=r.unstable_shouldYield,hu=r.unstable_requestPaint,tn=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,Ro=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,Hn=null,Bt=null;function wn(t){if(typeof du=="function"&&mu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,t)}catch{}}var dt=Math.clz32?Math.clz32:gu,pu=Math.log,oa=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/oa|0)|0}var si=256,ms=262144,vt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ai(l):(_&=T,_!==0?h=ai(_):a||(a=T&~t,a!==0&&(h=ai(a))))):(T=l&~d,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Yh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ps(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-dt(a),J=1<<Q;T[Q]=0,x[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&gs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function gs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Co(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Io(t,i){var a=i&-i;return a=(a&42)!==0?1:ys(a),(a&(t.suspendedLanes|i))!==0?0:a}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,ui="__reactContainer$"+Gn,la="__reactEvents$"+Gn,$h="__reactListeners$"+Gn,vu="__reactHandles$"+Gn,Eu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function ua(t){delete t[Et],delete t[Lt],delete t[la],delete t[$h],delete t[vu]}function hi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[Et])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function An(t){if(t=t[Et]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[ci]=!0}var xo=new Set,No={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(No[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function Tu(t){return _t.call(Mo,t)?!0:_t.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function ca(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=dr(t)?"checked":"value";t._valueTracker=Vo(t,i,""+t[i])}}function _s(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=dr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vs=/[\n"\\]/g;function sn(t){return t.replace(vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ko(t,_,Pt(i)):a!=null?ko(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function bu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function ko(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function pr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Po(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Uo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,gi=null;function Es(t){var i=An(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_s(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&mr(t,!!a.multiple,i,!1)}}}var ma=!1;function _r(t,i,a){if(ma)return t(i,a);ma=!0;try{var l=t(i);return l}finally{if(ma=!1,(yr!==null||gi!==null)&&(_c(),yr&&(i=yr,t=gi,gi=yr=null,Es(i),t)))for(i=0;i<t.length;i++)Es(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ts=!1}var yi=null,jo=null,bs=null;function zo(){if(bs)return bs;var t,i=jo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function Ss(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ht(Pi),vr=b({},Pi,{view:0,detail:0}),Bo=Ht(vr),Er,pa,vi,ga=b({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Er=t.screenX-vi.screenX,pa=t.screenY-vi.screenY):pa=Er=0,vi=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Ho=Ht(ga),ws=b({},ga,{dataTransfer:0}),Ru=Ht(ws),Cu=b({},vr,{relatedTarget:0}),As=Ht(Cu),qo=b({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Ht(qo),ya=b({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Ht(ya),Nu=b({},Pi,{data:0}),Ei=Ht(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function Tr(){return Vu}var nn=b({},vr,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Ht(nn),Lu=b({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ht(Lu),c=b({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),p=Ht(c),v=b({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),U=b({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(U),re=b({},Pi,{newState:0,oldState:0}),Ae=Ht(re),mt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,st=null;Cn&&"documentMode"in document&&(st=document.documentMode);var In=Cn&&"TextEvent"in window&&!st,Ti=Cn&&(!He||st&&8<st&&11>=st),Xn=" ",$n=!1;function Rs(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function tb(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function nb(t,i){if(va)return t==="compositionend"||!He&&Rs(t,i)?(t=zo(),bs=jo=yi=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ib[t.type]:i==="textarea"}function Fp(t,i,a,l){yr?gi?gi.push(l):gi=[l]:yr=l,i=Ac(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Fo=null,Go=null;function rb(t){R_(t,0)}function Pu(t){var i=mn(t);if(_s(i))return t}function Gp(t,i){if(t==="change")return i}var Qp=!1;if(Cn){var Jh;if(Cn){var Zh="oninput"in document;if(!Zh){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),Zh=typeof Kp.oninput=="function"}Jh=Zh}else Jh=!1;Qp=Jh&&(!document.documentMode||9<document.documentMode)}function Yp(){Fo&&(Fo.detachEvent("onpropertychange",Xp),Go=Fo=null)}function Xp(t){if(t.propertyName==="value"&&Pu(Go)){var i=[];Fp(i,Go,t,Rn(t)),_r(rb,i)}}function sb(t,i,a){t==="focusin"?(Yp(),Fo=i,Go=a,Fo.attachEvent("onpropertychange",Xp)):t==="focusout"&&Yp()}function ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Go)}function ob(t,i){if(t==="click")return Pu(i)}function lb(t,i){if(t==="input"||t==="change")return Pu(i)}function ub(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:ub;function Qo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,i){var a=$p(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$p(a)}}function Zp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Zp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function Wh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cb=Cn&&"documentMode"in document&&11>=document.documentMode,Ea=null,ef=null,Ko=null,tf=!1;function eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||Ea==null||Ea!==pi(l)||(l=Ea,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=Ac(ef,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},nf={},tg={};Cn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Is(t){if(nf[t])return nf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return nf[t]=i[a];return t}var ng=Is("animationend"),ig=Is("animationiteration"),rg=Is("animationstart"),hb=Is("transitionrun"),fb=Is("transitionstart"),db=Is("transitioncancel"),sg=Is("transitionend"),ag=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Jn(t,i){ag.set(t,i),di(i,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],ba=0,sf=0;function ju(){for(var t=ba,i=sf=ba=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&og(a,h,d)}}function zu(t,i,a,l){xn[ba++]=t,xn[ba++]=i,xn[ba++]=a,xn[ba++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function af(t,i,a,l){return zu(t,i,a,l),Bu(t)}function xs(t,i){return zu(t,null,null,i),Bu(t)}function og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<pl)throw pl=0,pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={};function mb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new mb(t,i,a,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")of(t)&&(_=1);else if(typeof t=="string")_=vS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,h),t.elementType=C,t.lanes=d,t;case $:return Ns(a.children,h,d,i);case H:_=8,h|=24;break;case ne:return t=yn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case ge:return t=yn(13,a,i,h),t.elementType=ge,t.lanes=d,t;case Ee:return t=yn(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ee:_=9;break e;case he:_=11;break e;case I:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ns(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function lf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function ug(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function uf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var cg=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:wo(i)},cg.set(t,i),i)}return{value:t,source:i,stack:wo(i)}}var wa=[],Aa=0,qu=null,Yo=0,Dn=[],On=0,br=null,bi=1,Si="";function zi(t,i){wa[Aa++]=Yo,wa[Aa++]=qu,qu=t,Yo=i}function hg(t,i,a){Dn[On++]=bi,Dn[On++]=Si,Dn[On++]=br,br=t;var l=bi;t=Si;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-dt(i)+h|a<<h|l,Si=d+t}else bi=1<<d|a<<h|l,Si=t}function cf(t){t.return!==null&&(zi(t,1),hg(t,1,0))}function hf(t){for(;t===qu;)qu=wa[--Aa],wa[Aa]=null,Yo=wa[--Aa],wa[Aa]=null;for(;t===br;)br=Dn[--On],Dn[On]=null,Si=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null}function fg(t,i){Dn[On++]=bi,Dn[On++]=Si,Dn[On++]=br,bi=i.id,Si=i.overflow,br=t}var qt=null,tt=null,Le=!1,Sr=null,Mn=!1,ff=Error(s(519));function wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Nn(i,t)),ff}function dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)Ne(yl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),pr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||N_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||wr(t,!0)}function mg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Ra(t){if(t!==qt)return!1;if(!Le)return mg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nd(t.type,t.memoizedProps)),a=!a),a&&tt&&wr(t),mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=j_(t)}else i===27?(i=tt,Ur(t.type)?(t=kd,kd=null,tt=t):tt=i):tt=qt?kn(t.stateNode.nextSibling):null;return!0}function Ds(){tt=qt=null,Le=!1}function df(){var t=Sr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Sr=null),t}function Xo(t){Sr===null?Sr=[t]:Sr.push(t)}var mf=M(null),Os=null,Bi=null;function Ar(t,i,a){ae(mf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=mf.current,Z(mf)}function pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function gf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),pf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&gf(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Os=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return pg(Os,t)}function Gu(t,i){return Os===null&&Ms(t),pg(t,i)}function pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var pb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gb=r.unstable_scheduleCallback,yb=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new pb,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&gb(yb,function(){t.controller.abort()})}var Jo=null,_f=0,Ia=0,xa=null;function _b(t,i){if(Jo===null){var a=Jo=[];_f=0,Ia=Td(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,i.then(gg,gg),i}function gg(){if(--_f===0&&Jo!==null){xa!==null&&(xa.status="fulfilled");var t=Jo;Jo=null,Ia=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=K.S;K.S=function(t,i){e_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_b(t,i),yg!==null&&yg(t,i)};var Vs=M(null);function vf(){var t=Vs.current;return t!==null?t:et.pooledCache}function Qu(t,i){i===null?ae(Vs,Vs.current):ae(Vs,i.pool)}function _g(){var t=vf();return t===null?null:{parent:St._currentValue,pool:t}}var Na=Error(s(460)),Ef=Error(s(474)),Ku=Error(s(542)),Yu={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t}throw Ls=i,Na}}function ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Na):a}}var Ls=null;function Tg(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function bg(t){if(t===Na||t===Ku)throw Error(s(483))}var Da=null,Zo=0;function Xu(t){var i=Zo;return Zo+=1,Da===null&&(Da=[]),Eg(Da,t,i)}function Wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sg(t){function i(k,O){if(t){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ji(k,O),k.index=0,k.sibling=null,k}function d(k,O,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,j,X){return O===null||O.tag!==6?(O=lf(j,k.mode,X),O.return=k,O):(O=h(O,j),O.return=k,O)}function x(k,O,j,X){var de=j.type;return de===$?Q(k,O,j.props.children,X,j.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&ks(de)===O.type)?(O=h(O,j.props),Wo(O,j),O.return=k,O):(O=Hu(j.type,j.key,j.props,null,k.mode,X),Wo(O,j),O.return=k,O)}function z(k,O,j,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=uf(j,k.mode,X),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function Q(k,O,j,X,de){return O===null||O.tag!==7?(O=Ns(j,k.mode,X,de),O.return=k,O):(O=h(O,j),O.return=k,O)}function J(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=lf(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return j=Hu(O.type,O.key,O.props,null,k.mode,j),Wo(j,O),j.return=k,j;case Y:return O=uf(O,k.mode,j),O.return=k,O;case w:return O=ks(O),J(k,O,j)}if(Nt(O)||P(O))return O=Ns(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return J(k,Xu(O),j);if(O.$$typeof===ie)return J(k,Gu(k,O),j);$u(k,O)}return null}function B(k,O,j,X){var de=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:T(k,O,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===de?x(k,O,j,X):null;case Y:return j.key===de?z(k,O,j,X):null;case w:return j=ks(j),B(k,O,j,X)}if(Nt(j)||P(j))return de!==null?null:Q(k,O,j,X,null);if(typeof j.then=="function")return B(k,O,Xu(j),X);if(j.$$typeof===ie)return B(k,O,Gu(k,j),X);$u(k,j)}return null}function G(k,O,j,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(j)||null,T(O,k,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return k=k.get(X.key===null?j:X.key)||null,x(O,k,X,de);case Y:return k=k.get(X.key===null?j:X.key)||null,z(O,k,X,de);case w:return X=ks(X),G(k,O,j,X,de)}if(Nt(X)||P(X))return k=k.get(j)||null,Q(O,k,X,de,null);if(typeof X.then=="function")return G(k,O,j,Xu(X),de);if(X.$$typeof===ie)return G(k,O,j,Gu(O,X),de);$u(O,X)}return null}function ue(k,O,j,X){for(var de=null,ze=null,ce=O,Ie=O=0,Oe=null;ce!==null&&Ie<j.length;Ie++){ce.index>Ie?(Oe=ce,ce=null):Oe=ce.sibling;var Be=B(k,ce,j[Ie],X);if(Be===null){ce===null&&(ce=Oe);break}t&&ce&&Be.alternate===null&&i(k,ce),O=d(Be,O,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be,ce=Oe}if(Ie===j.length)return a(k,ce),Le&&zi(k,Ie),de;if(ce===null){for(;Ie<j.length;Ie++)ce=J(k,j[Ie],X),ce!==null&&(O=d(ce,O,Ie),ze===null?de=ce:ze.sibling=ce,ze=ce);return Le&&zi(k,Ie),de}for(ce=l(ce);Ie<j.length;Ie++)Oe=G(ce,k,Ie,j[Ie],X),Oe!==null&&(t&&Oe.alternate!==null&&ce.delete(Oe.key===null?Ie:Oe.key),O=d(Oe,O,Ie),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&ce.forEach(function(qr){return i(k,qr)}),Le&&zi(k,Ie),de}function ye(k,O,j,X){if(j==null)throw Error(s(151));for(var de=null,ze=null,ce=O,Ie=O=0,Oe=null,Be=j.next();ce!==null&&!Be.done;Ie++,Be=j.next()){ce.index>Ie?(Oe=ce,ce=null):Oe=ce.sibling;var qr=B(k,ce,Be.value,X);if(qr===null){ce===null&&(ce=Oe);break}t&&ce&&qr.alternate===null&&i(k,ce),O=d(qr,O,Ie),ze===null?de=qr:ze.sibling=qr,ze=qr,ce=Oe}if(Be.done)return a(k,ce),Le&&zi(k,Ie),de;if(ce===null){for(;!Be.done;Ie++,Be=j.next())Be=J(k,Be.value,X),Be!==null&&(O=d(Be,O,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be);return Le&&zi(k,Ie),de}for(ce=l(ce);!Be.done;Ie++,Be=j.next())Be=G(ce,k,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Ie:Be.key),O=d(Be,O,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&ce.forEach(function(NS){return i(k,NS)}),Le&&zi(k,Ie),de}function Ze(k,O,j,X){if(typeof j=="object"&&j!==null&&j.type===$&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:e:{for(var de=j.key;O!==null;){if(O.key===de){if(de=j.type,de===$){if(O.tag===7){a(k,O.sibling),X=h(O,j.props.children),X.return=k,k=X;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&ks(de)===O.type){a(k,O.sibling),X=h(O,j.props),Wo(X,j),X.return=k,k=X;break e}a(k,O);break}else i(k,O);O=O.sibling}j.type===$?(X=Ns(j.props.children,k.mode,X,j.key),X.return=k,k=X):(X=Hu(j.type,j.key,j.props,null,k.mode,X),Wo(X,j),X.return=k,k=X)}return _(k);case Y:e:{for(de=j.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),X=h(O,j.children||[]),X.return=k,k=X;break e}else{a(k,O);break}else i(k,O);O=O.sibling}X=uf(j,k.mode,X),X.return=k,k=X}return _(k);case w:return j=ks(j),Ze(k,O,j,X)}if(Nt(j))return ue(k,O,j,X);if(P(j)){if(de=P(j),typeof de!="function")throw Error(s(150));return j=de.call(j),ye(k,O,j,X)}if(typeof j.then=="function")return Ze(k,O,Xu(j),X);if(j.$$typeof===ie)return Ze(k,O,Gu(k,j),X);$u(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),X=h(O,j),X.return=k,k=X):(a(k,O),X=lf(j,k.mode,X),X.return=k,k=X),_(k)):a(k,O)}return function(k,O,j,X){try{Zo=0;var de=Ze(k,O,j,X);return Da=null,de}catch(ce){if(ce===Na||ce===Ku)throw ce;var ze=yn(29,ce,null,k.mode);return ze.lanes=X,ze.return=k,ze}}}var Ps=Sg(!0),wg=Sg(!1),Rr=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),og(t,null,a),i}return zu(t,l,i,a),Bu(t)}function el(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}function Sf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wf=!1;function tl(){if(wf){var t=xa;if(t!==null)throw t}}function nl(t,i,a,l){wf=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,z=x.next;x.next=null,_===null?d=z:_.next=z,_=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=x))}if(d!==null){var J=h.baseState;_=0,Q=z=x=null,T=d;do{var B=T.lane&-536870913,G=B!==T.lane;if(G?(De&B)===B:(l&B)===B){B!==0&&B===Ia&&(wf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ye=T;B=i;var Ze=a;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){J=ue.call(Ze,J,B);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,B=typeof ue=="function"?ue.call(Ze,J,B):ue,B==null)break e;J=b({},J,B);break e;case 2:Rr=!0}}B=T.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=G,x=J):Q=Q.next=G,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(x=J),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Mr|=_,t.lanes=_,t.memoizedState=J}}function Ag(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ag(a[t],i)}var Oa=M(null),Ju=M(0);function Cg(t,i){t=Ji,ae(Ju,t),ae(Oa,i),Ji=t|i.baseLanes}function Af(){ae(Ju,Ji),ae(Oa,Oa.current)}function Rf(){Ji=Ju.current,Z(Oa),Z(Ju)}var _n=M(null),Vn=null;function xr(t){var i=t.alternate;ae(pt,pt.current&1),ae(_n,t),Vn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(Vn=t)}function Cf(t){ae(pt,pt.current),ae(_n,t),Vn===null&&(Vn=t)}function Ig(t){t.tag===22?(ae(pt,pt.current),ae(_n,t),Vn===null&&(Vn=t)):Nr()}function Nr(){ae(pt,pt.current),ae(_n,_n.current)}function vn(t){Z(_n),Vn===t&&(Vn=null),Z(pt)}var pt=M(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Md(a)||Vd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Re=null,$e=null,wt=null,Wu=!1,Ma=!1,Us=!1,ec=0,il=0,Va=null,Eb=0;function ct(){throw Error(s(321))}function If(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function xf(t,i,a,l,h,d){return qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?hy:Ff,Us=!1,d=a(l,h),Us=!1,Ma&&(d=Ng(i,a,l,h)),xg(t),d}function xg(t){K.H=al;var i=$e!==null&&$e.next!==null;if(qi=0,wt=$e=Re=null,Wu=!1,il=0,Va=null,i)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&Fu(t)&&(At=!0))}function Ng(t,i,a,l){Re=t;var h=0;do{if(Ma&&(Va=null),il=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,wt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=fy,d=i(a,l)}while(Ma);return d}function Tb(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?rl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function Nf(){var t=ec!==0;return ec=0,t}function Df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Of(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}qi=0,wt=$e=Re=null,Ma=!1,il=ec=0,Va=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var i=il;return il+=1,Va===null&&(Va=[]),t=Eg(Va,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?hy:Ff),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ie)return Ft(t)}throw Error(s(438,String(t)))}function Mf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=gt();return Vf(i,$e,t)}function Vf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,x=null,z=i,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(De&J)===J:(qi&J)===J){var B=z.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Ia&&(Q=!0);else if((qi&B)===B){z=z.next,B===Ia&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=J,_=d):x=x.next=J,Re.lanes|=B,Mr|=B;J=z.action,Us&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=B,_=d):x=x.next=B,Re.lanes|=J,Mr|=J;z=z.next}while(z!==null&&z!==i);if(x===null?_=d:x.next=T,!gn(d,t.memoizedState)&&(At=!0,Q&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(At=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(t,i,a){var l=Re,h=gt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,At=!0),h=h.queue,Uf(Vg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Mg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(qi&127)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=tc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mg(t,i,a,l){i.value=a,i.getSnapshot=l,kg(i)&&Lg(t)}function Vg(t,i,a){return a(function(){kg(i)&&Lg(t)})}function kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Lg(t){var i=xs(t,2);i!==null&&hn(i,t,2)}function Lf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Us){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function Pg(t,i,a,l){return t.baseState=a,Vf(t,$e,typeof l=="function"?l:Fi)}function bb(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),x=K.S;x!==null&&x(_,T),jg(t,i,T)}catch(z){Pf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(z){Pf(t,i,z)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return Pf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Pf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hg(t,i){return i}function qg(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=kn(h.nextSibling),l=h.data==="F!";break e}}wr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Re,l),l.dispatch=a,l=Lf(!1),d=qf.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bb.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=gt();return Gg(i,$e,t)}function Gg(t,i,a){if(i=Vf(t,i,Hg)[0],t=ic(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=rl(i)}catch(_){throw _===Na?Ku:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,ka(9,{destroy:void 0},Sb.bind(null,h,a),null)),[l,d,t]}function Sb(t,i){t.action=i}function Qg(t){var i=gt(),a=$e;if(a!==null)return Gg(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=tc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Kg(){return gt().memoizedState}function rc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&If(l,$e.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Re.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function Yg(t,i){rc(8390656,8,t,i)}function Uf(t,i){sc(2048,8,t,i)}function wb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=tc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Xg(t){var i=gt().memoizedState;return wb({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function $g(t,i){return sc(4,2,t,i)}function Jg(t,i){return sc(4,4,t,i)}function Zg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Wg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Zg.bind(null,i,t),a)}function jf(){}function ey(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),Us){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function zf(t,i,a){return a===void 0||(qi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=n_(),Re.lanes|=t,Mr|=t,a)}function ny(t,i,a,l){return gn(a,i)?a:Oa.current!==null?(t=zf(t,a,l),gn(t,i)||(At=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(De&261930)===0?(At=!0,t.memoizedState=a):(t=n_(),Re.lanes|=t,Mr|=t,i)}function iy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,qf(t,!1,i,a);try{var x=h(),z=K.S;if(z!==null&&z(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=vb(x,l);sl(t,i,Q,bn(t))}else sl(t,i,l,bn(t))}catch(J){sl(t,i,{then:function(){},status:"rejected",reason:J},bn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function Ab(){}function Bf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ry(t).queue;iy(t,h,i,me,a===null?Ab:function(){return sy(t),a(l)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=ry(t);i.next===null&&(i=t.alternate.memoizedState),sl(t,i.next.queue,{},bn())}function Hf(){return Ft(bl)}function ay(){return gt().memoizedState}function oy(){return gt().memoizedState}function Rb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Cr(a);var l=Ir(i,t,a);l!==null&&(hn(l,i,a),el(l,i,a)),i={cache:yf()},t.payload=i;return}i=i.return}}function Cb(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?uy(i,a):(a=af(t,i,a,l),a!==null&&(hn(a,t,l),cy(a,i,l)))}function ly(t,i,a){var l=bn();sl(t,i,a,l)}function sl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))uy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return zu(t,i,h,0),et===null&&ju(),!1}catch{}if(a=af(t,i,h,l),a!==null)return hn(a,t,l),cy(a,i,l),!0}return!1}function qf(t,i,a,l){if(l={lane:2,revertLane:Td(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=af(t,a,l,2),i!==null&&hn(i,t,2)}function ac(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function uy(t,i){Ma=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}var al={readContext:Ft,use:nc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};al.useEffectEvent=ct;var hy={readContext:Ft,use:nc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Yg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,Zg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Us){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Us){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Cb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Lf(t);var i=t.queue,a=ly.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=rn();return zf(a,t,i)},useTransition:function(){var t=Lf(!1);return t=iy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Vg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Mg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Le){var a=Si,l=bi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Eb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Mf,useCacheRefresh:function(){return rn().memoizedState=Rb.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:Ft,use:nc,useCallback:ey,useContext:Ft,useEffect:Uf,useImperativeHandle:Wg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:ic,useRef:Kg,useState:function(){return ic(Fi)},useDebugValue:jf,useDeferredValue:function(t,i){var a=gt();return ny(a,$e.memoizedState,t,i)},useTransition:function(){var t=ic(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Hf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=gt();return Pg(a,$e,t,i)},useMemoCache:Mf,useCacheRefresh:oy};Ff.useEffectEvent=Xg;var fy={readContext:Ft,use:nc,useCallback:ey,useContext:Ft,useEffect:Uf,useImperativeHandle:Wg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:kf,useRef:Kg,useState:function(){return kf(Fi)},useDebugValue:jf,useDeferredValue:function(t,i){var a=gt();return $e===null?zf(a,t,i):ny(a,$e.memoizedState,t,i)},useTransition:function(){var t=kf(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Hf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var a=gt();return $e!==null?Pg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:oy};fy.useEffectEvent=Xg;function Gf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Cr(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(hn(i,t,l),el(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(hn(i,t,l),el(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Cr(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(t,l,a),i!==null&&(hn(i,t,a),el(i,t,a))}};function dy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function my(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function py(t){Uu(t)}function gy(t){console.error(t)}function yy(t){Uu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(t,i,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function vy(t){return t=Cr(t),t.tag=3,t}function Ey(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_y(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){_y(i,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ib(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?vc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),_d(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),_d(t,l,h)),!1}throw Error(s(435,a.tag))}return _d(t,l,h),vc(),!1}if(Le)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(t=Error(s(422),{cause:l}),Xo(Nn(t,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),Xo(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=Kf(t.stateNode,l,h),Sf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),ml===null?ml=[d]:ml.push(d),ht!==4&&(ht=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kf(a.stateNode,l,t),Sf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vr===null||!Vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,t,a,l),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(s(461)),At=!1;function Gt(t,i,a,l){i.child=t===null?wg(i,null,a,l):Ps(i,t.child,a,l)}function Ty(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ms(i),l=xf(t,i,a,_,d,h),T=Nf(),t!==null&&!At?(Df(t,i,h),Gi(t,i,h)):(Le&&T&&cf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function by(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=Hu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!nd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(At=!1,i.pendingProps=l=d,nd(t,h))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return Xf(t,i,a,l,h)}function wy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ay(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?Cg(i,d):Af(),Ig(i);else return l=i.lanes=536870912,Ay(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qu(i,d.cachePool),Cg(i,d),Nr(),i.memoizedState=null):(t!==null&&Qu(i,null),Af(),Nr());return Gt(t,i,h,a),i.child}function ol(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(t,i,a,l,h){var d=vf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Qu(i,null),Af(),Ig(i),t!==null&&Ca(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ry(t,i,a){return Ps(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function xb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,ol(null,t);if(Cf(i),(t=tt)?(t=U_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:br!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw wr(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Cf(i),h)if(i.flags&256)i.flags&=-257,i=Ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(At||Ca(t,i,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=et,l!==null&&(_=Io(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(t,_),hn(l,t,_),Yf;vc(),i=Ry(t,i,a)}else t=d.treeContext,tt=kn(_.nextSibling),qt=i,Le=!0,Sr=null,Mn=!1,t!==null&&fg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Xf(t,i,a,l,h){return Ms(i),a=xf(t,i,a,l,void 0,h),l=Nf(),t!==null&&!At?(Df(t,i,h),Gi(t,i,h)):(Le&&l&&cf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Cy(t,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=Ng(i,l,a,h),xg(t),l=Nf(),t!==null&&!At?(Df(t,i,d),Gi(t,i,d)):(Le&&l&&cf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Iy(t,i,a,l,h){if(Ms(i),i.stateNode===null){var d=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Tf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Sa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qf.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=js(a,T);d.props=x;var z=d.context,Q=a.contextType;_=Sa,typeof Q=="object"&&Q!==null&&(_=Ft(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&my(i,d,l,_),Rr=!1;var B=i.memoizedState;d.state=B,nl(i,l,d,h),tl(),z=i.memoizedState,T||B!==z||Rr?(typeof J=="function"&&(Gf(i,a,J,l),z=i.memoizedState),(x=Rr||dy(i,a,x,l,B,z,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(t,i),_=i.memoizedProps,Q=js(a,_),d.props=Q,J=i.pendingProps,B=d.context,z=a.contextType,x=Sa,typeof z=="object"&&z!==null&&(x=Ft(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||B!==x)&&my(i,d,l,x),Rr=!1,B=i.memoizedState,d.state=B,nl(i,l,d,h),tl();var G=i.memoizedState;_!==J||B!==G||Rr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(Gf(i,a,T,l),G=i.memoizedState),(Q=Rr||dy(i,a,Q,l,B,G,x)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=x,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ps(i,t.child,null,h),i.child=Ps(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function xy(t,i,a,l){return Ds(),i.flags|=256,Gt(t,i,a,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:_g()}}function Zf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Ny(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?xr(i):Nr(),(t=tt)?(t=U_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:br!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw wr(i);return Vd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Nr(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=Ns(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Jf(a),l.childLanes=Zf(t,_,a),i.memoizedState=$f,ol(null,l)):(xr(i),Wf(i,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=ed(t,i,a)):i.memoizedState!==null?(Nr(),i.child=t.child,i.flags|=128,i=null):(Nr(),T=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),T=Ns(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ps(i,t.child,null,a),l=i.child,l.memoizedState=Jf(a),l.childLanes=Zf(t,_,a),i.memoizedState=$f,i=ol(null,l));else if(xr(i),Vd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Xo({value:l,source:null,stack:null}),i=ed(t,i,a)}else if(At||Ca(t,i,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=et,_!==null&&(l=Io(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,xs(t,l),hn(_,t,l),Yf;Md(T)||vc(),i=ed(t,i,a)}else Md(T)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,tt=kn(T.nextSibling),qt=i,Le=!0,Sr=null,Mn=!1,t!==null&&fg(i,t),i=Wf(i,l.children),i.flags|=4096);return i}return h?(Nr(),T=l.fallback,h=i.mode,x=t.child,z=x.sibling,l=ji(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,z!==null?T=ji(z,T):(T=Ns(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ol(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Jf(a):(h=T.cachePool,h!==null?(x=St._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=_g(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Zf(t,_,a),i.memoizedState=$f,ol(t.child,l)):(xr(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Wf(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function ed(t,i,a){return Ps(i,t.child,null,a),t=Wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),pf(t.return,i,a)}function td(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Gt(t,i,l,a),l=Le?Yo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,a,i);else if(t.tag===19)Dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),td(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}td(i,!0,a,null,d,l);break;case"together":td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ca(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function nd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Nb(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Ar(i,St,t.memoizedState.cache),Ds();break;case 27:case 5:hs(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ny(t,i,a):(xr(i),t=Gi(t,i,a),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,wy(t,i,a,i.pendingProps);case 24:Ar(i,St,t.memoizedState.cache)}return Gi(t,i,a)}function My(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!nd(t,a)&&(i.flags&128)===0)return At=!1,Nb(t,i,a);At=(t.flags&131072)!==0}else At=!1,Le&&(i.flags&1048576)!==0&&hg(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ks(i.elementType),i.type=t,typeof t=="function")of(t)?(l=js(t,l),i.tag=1,i=Iy(null,i,t,l,a)):(i.tag=0,i=Xf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===he){i.tag=11,i=Ty(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=by(null,i,t,l,a);break e}}throw i=We(t)||t,Error(s(306,i,""))}}return i;case 0:return Xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),Iy(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bf(t,i),nl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ar(i,St,l),l!==d.cache&&gf(i,[St],a,!0),tl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xy(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),Xo(h),i=xy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=kn(t.firstChild),qt=i,Le=!0,Sr=null,Mn=!0,a=wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ds(),l===h){i=Gi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=F_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Rc(Ce.current).createElement(a),l[Et]=i,l[Lt]=t,Qt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=F_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return hs(i),t===null&&Le&&(l=i.stateNode=B_(i.type,i.pendingProps,Ce.current),qt=i,Mn=!0,h=tt,Ur(i.type)?(kd=h,tt=kn(l.firstChild)):tt=h),Gt(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=aS(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,tt=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||wr(i)),hs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Nd(h,d)?l=null:_!==null&&Nd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,Tb,null,null,a),bl._currentValue=h),uc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=oS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||wr(i)),null;case 13:return Ny(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ps(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ar(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return by(t,i,i.type,i.pendingProps,a);case 15:return Sy(t,i,i.type,i.pendingProps,a);case 19:return Oy(t,i,a);case 31:return xb(t,i,a);case 22:return wy(t,i,a,i.pendingProps);case 24:return Ms(i),l=Ft(St),t===null?(h=vf(),h===null&&(h=et,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Tf(i),Ar(i,St,h)):((t.lanes&a)!==0&&(bf(t,i),nl(i,null,null,a),tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,St,l)):(l=d.cache,Ar(i,St,l),l!==h.cache&&gf(i,[St],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function id(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw Ls=Yu,Ef}else t.flags&=-16777217}function Vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X_(i))if(a_())t.flags|=8192;else throw Ls=Yu,Ef}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,ja|=i)}function ll(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Db(t,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(St),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,df())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(nt(i),Vy(i,d)):(nt(i),id(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),nt(i),Vy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),nt(i),id(i,h,t,l,a)),null;case 27:if(ra(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=le.current,Ra(i)?dg(i):(t=B_(h,l,a),i.stateNode=t,Qi(i))}return nt(i),null;case 5:if(ra(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=le.current,Ra(i))dg(i);else{var _=Rc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return nt(i),id(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N_(t.nodeValue,a)),t||wr(i,!0)}else t=Rc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ra(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),nt(i),null);case 4:return rt(),t===null&&Ad(i.stateNode.containerInfo),nt(i),null;case 10:return Hi(i.type),nt(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ll(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,ll(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)lg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Le&&zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>gc&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*tn()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),Le&&zi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return vn(i),Rf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ob(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(St),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Ds()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ds()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return rt(),null;case 10:return Hi(i.type),null;case 22:case 23:return vn(i),Rf(),t!==null&&Z(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(St),null;case 25:return null;default:return null}}function ky(t,i){switch(hf(i),i.tag){case 3:Hi(St),rt();break;case 26:case 27:case 5:ra(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Z(pt);break;case 10:Hi(i.type);break;case 22:case 23:vn(i),Rf(),t!==null&&Z(Vs);break;case 24:Hi(St)}}function ul(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function Dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var x=a,z=T;try{z()}catch(Q){Ye(h,x,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ye(i,i.return,Q)}}function Ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Rg(i,a)}catch(l){Ye(t,t.return,l)}}}function Py(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function rd(t,i,a){try{var l=t.stateNode;eS(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ad(t,i,a),t=t.sibling;t!==null;)ad(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[Et]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var Ki=!1,Rt=!1,od=!1,By=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Mb(t,i){if(t=t.containerInfo,Id=Mc,t=Wp(t),Wh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,z=0,Q=0,J=t,B=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(x=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)B=J,J=G;for(;;){if(J===t)break t;if(B===a&&++z===h&&(T=_),B===d&&++Q===l&&(x=_),(G=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=G}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Mc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=js(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Od(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Hy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&ul(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Ly(a),l&512&&cl(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Xi(t,a),i===null&&l&4&&Uy(a),l&512&&cl(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&Gy(t,a);break;case 13:Xi(t,a),l&4&&Qy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Hb.bind(null,a),lS(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Ki;var d=Rt;Ki=l,(Rt=i)&&!d?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Ki=h,Rt=d}break;case 30:break;default:Xi(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,on=!1;function Yi(t,i,a){for(a=a.child;a!==null;)Fy(t,i,a),a=a.sibling}function Fy(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Rt||wi(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||wi(a,i);var l=at,h=on;Ur(a.type)&&(at=a.stateNode,on=!1),Yi(t,i,a),vl(a.stateNode),at=l,on=h;break;case 5:Rt||wi(a,i);case 6:if(l=at,h=on,at=null,Yi(t,i,a),at=l,on=h,at!==null)if(on)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:at!==null&&(on?(t=at,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):L_(at,a.stateNode));break;case 4:l=at,h=on,at=a.stateNode.containerInfo,on=!0,Yi(t,i,a),at=l,on=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),Rt||Dr(4,a,i),Yi(t,i,a);break;case 1:Rt||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Yi(t,i,a),Rt=l;break;default:Yi(t,i,a)}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ye(i,i.return,a)}}}function Qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ye(i,i.return,a)}}function Vb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(s(435,t.tag))}}function dc(t,i){var a=Vb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=qb.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ur(T.type)){at=T.stateNode,on=!1;break e}break;case 5:at=T.stateNode,on=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(at===null)throw Error(s(160));Fy(d,_,h),at=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ky(i,t),i=i.sibling}var Zn=null;function Ky(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Dr(3,t,t.return),ul(3,t),Dr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=K_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=K_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Y_(h,t.type,t.stateNode);else t.stateNode=Q_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Y_(h,t.type,t.stateNode):Q_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),a!==null&&l&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ue){Ye(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Ye(t,t.return,ue)}}break;case 3:if(xc=null,h=Zn,Zn=Cc(i.containerInfo),ln(i,t),Zn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(ue){Ye(t,t.return,ue)}od&&(od=!1,Yy(t));break;case 4:l=Zn,Zn=Cc(t.stateNode.containerInfo),ln(i,t),un(t),Zn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,z=Ki,Q=Rt;if(Ki=z||h,Rt=Q||x,ln(i,t),Rt=Q,Ki=z,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Ki||Rt||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var J=x.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Ye(x,x.return,ue)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ue){Ye(x,x.return,ue)}}}else if(i.tag===18){if(a===null){x=i;try{var G=x.stateNode;h?P_(G,!0):P_(x.stateNode,!1)}catch(ue){Ye(x,x.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=sd(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=sd(t);fc(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,z=sd(t);ad(t,z,x);break;default:throw Error(s(161))}}catch(Q){Ye(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),zs(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),zs(i);break;case 27:vl(i.stateNode);case 26:case 5:wi(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function $i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),ul(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ag(x[h],T)}catch(z){Ye(l,l.return,z)}}a&&_&64&&Ly(d),cl(d,d.return);break;case 27:zy(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&Uy(d),cl(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&Gy(h,d);break;case 13:$i(h,d,a),a&&_&4&&Qy(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),cl(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function ld(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(t,i,a,l),i=i.sibling}function Xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&ul(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ye(i,i.return,x)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):hl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ld(_,i);break;case 24:Wn(t,i,a,l),h&2048&&ud(i.alternate,i);break;default:Wn(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,x=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,T,x,h),ul(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?La(d,_,T,x,h):hl(d,_):(Q._visibility|=2,La(d,_,T,x,h)),h&&z&2048&&ld(_.alternate,_);break;case 24:La(d,_,T,x,h),h&&z&2048&&ud(_.alternate,_);break;default:La(d,_,T,x,h)}i=i.sibling}}function hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&ld(l.alternate,l);break;case 24:hl(a,l),h&2048&&ud(l.alternate,l);break;default:hl(a,l)}i=i.sibling}}var fl=8192;function Pa(t,i,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)$y(t,i,a),t=t.sibling}function $y(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&fl&&t.memoizedState!==null&&ES(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var l=Zn;Zn=Cc(t.stateNode.containerInfo),Pa(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,Pa(t,i,a),fl=l):Pa(t,i,a));break;default:Pa(t,i,a)}}function Jy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Wy(l,t)}Jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zy(t),t=t.sibling}function Zy(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):dl(t);break;default:dl(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Wy(l,t)}Jy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function Wy(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(qy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var kb={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},Lb=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,xe=null,De=0,Ke=0,En=null,Or=!1,Ua=!1,cd=!1,Ji=0,ht=0,Mr=0,Bs=0,hd=0,Tn=0,ja=0,ml=null,cn=null,fd=!1,pc=0,e_=0,gc=1/0,yc=null,Vr=null,Mt=0,kr=null,za=null,Zi=0,dd=0,md=null,t_=null,pl=0,pd=null;function bn(){return(qe&2)!==0&&De!==0?De&-De:K.T!==null?Td():_u()}function n_(){if(Tn===0)if((De&536870912)===0||Le){var t=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Lr(t,De,Tn,!1)),ps(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(Bs|=a),ht===4&&Lr(t,De,Tn,!1)),Ai(t))}function i_(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?jb(t,i):yd(t,i,!0),d=l;do{if(h===0){Ua&&!l&&Lr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Pb(a)){h=yd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ml;var x=T.current.memoizedState.isDehydrated;if(x&&(Ba(T,_).flags|=256),_=yd(T,_,!1),_!==2){if(cd&&!x){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Lr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Lr(l,i,Tn,!Or);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-tn(),10<h)){if(Lr(l,i,Tn,!Or),oi(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=V_(r_.bind(null,l,a,cn,yc,fd,i,Tn,Bs,ja,Or,d,"Throttled",-0,0),h);break e}r_(l,a,cn,yc,fd,i,Tn,Bs,ja,Or,d,null,-0,0)}}break}while(!0);Ai(t)}function r_(t,i,a,l,h,d,_,T,x,z,Q,J,B,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},$y(i,d,J);var ue=(d&62914560)===d?pc-tn():(d&4194048)===d?e_-tn():0;if(ue=TS(J,ue),ue!==null){Zi=d,t.cancelPendingCommit=ue(f_.bind(null,t,i,d,a,l,h,_,T,x,Q,J,null,B,G)),Lr(t,d,_,!z);return}}f_(t,i,d,a,l,h,_,T,x)}function Pb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Lr(t,i,a,l){i&=~hd,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&gs(t,a,i)}function _c(){return(qe&6)===0?(gl(0),!1):!0}function gd(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,Bi=Os=null,Of(t),Da=null,Zo=0,t=xe;for(;t!==null;)ky(t.alternate,t),t=t.return;xe=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,gd(),et=t,xe=a=ji(t.current,null),De=i,Ke=0,En=null,Or=!1,Ua=qn(t,i),cd=!1,ja=Tn=hd=Bs=Mr=ht=0,cn=ml=null,fd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,ju(),a}function s_(t,i){Re=null,K.H=al,i===Na||i===Ku?(i=Tg(),Ke=3):i===Ef?(i=Tg(),Ke=4):Ke=i===Yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,xe===null&&(ht=1,oc(t,Nn(i,t.current)))}function a_(){var t=_n.current;return t===null?!0:(De&4194048)===De?Vn===null:(De&62914560)===De||(De&536870912)!==0?t===Vn:!1}function o_(){var t=K.H;return K.H=al,t===null?al:t}function l_(){var t=K.A;return K.A=kb,t}function vc(){ht=4,Or||(De&4194048)!==De&&_n.current!==null||(Ua=!0),(Mr&134217727)===0&&(Bs&134217727)===0||et===null||Lr(et,De,Tn,!1)}function yd(t,i,a){var l=qe;qe|=2;var h=o_(),d=l_();(et!==t||De!==i)&&(yc=null,Ba(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&xe!==null){var T=xe,x=En;switch(Ke){case 8:gd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var z=Ke;if(Ke=0,En=null,Ha(t,T,x,z),a&&Ua){_=0;break e}break;default:z=Ke,Ke=0,En=null,Ha(t,T,x,z)}}Ub(),_=ht;break}catch(Q){s_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Bi=Os=null,qe=l,K.H=h,K.A=d,xe===null&&(et=null,De=0,ju()),_}function Ub(){for(;xe!==null;)u_(xe)}function jb(t,i){var a=qe;qe|=2;var l=o_(),h=l_();et!==t||De!==i?(yc=null,gc=tn()+500,Ba(t,i)):Ua=qn(t,i);e:do try{if(Ke!==0&&xe!==null){i=xe;var d=En;t:switch(Ke){case 1:Ke=0,En=null,Ha(t,i,d,1);break;case 2:case 9:if(vg(d)){Ke=0,En=null,c_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ai(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:vg(d)?(Ke=0,En=null,c_(i)):(Ke=0,En=null,Ha(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var T=xe;if(_?X_(_):T.stateNode.complete){Ke=0,En=null;var x=T.sibling;if(x!==null)xe=x;else{var z=T.return;z!==null?(xe=z,Ec(z)):xe=null}break t}}Ke=0,En=null,Ha(t,i,d,5);break;case 6:Ke=0,En=null,Ha(t,i,d,6);break;case 8:gd(),ht=6;break e;default:throw Error(s(462))}}zb();break}catch(Q){s_(t,Q)}while(!0);return Bi=Os=null,K.H=l,K.A=h,qe=a,xe!==null?0:(et=null,De=0,ju(),ht)}function zb(){for(;xe!==null&&!Qh();)u_(xe)}function u_(t){var i=My(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Ec(t):xe=i}function c_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Of(i);default:ky(a,i),i=xe=lg(i,Ji),i=My(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Ec(t):xe=i}function Ha(t,i,a,l){Bi=Os=null,Of(i),Da=null,Zo=0;var h=i.return;try{if(Ib(t,h,i,a,De)){ht=1,oc(t,Nn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ht=1,oc(t,Nn(a,t.current)),xe=null;return}i.flags&32768?(Le||l===1?t=!0:Ua||(De&536870912)!==0?t=!1:(Or=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){h_(i,Or);return}t=i.return;var a=Db(i.alternate,i,Ji);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ht===0&&(ht=5)}function h_(t,i){do{var a=Ob(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ht=6,xe=null}function f_(t,i,a,l,h,d,_,T,x){t.cancelPendingCommit=null;do Tc();while(Mt!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sf,Xh(t,a,d,_,T,x),t===et&&(xe=et=null,De=0),za=i,kr=t,Zi=a,dd=d,md=h,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Fb(fr,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,_=qe,qe|=4;try{Mb(t,i,a)}finally{qe=_,se.p=h,K.T=l}}Mt=1,d_(),m_(),p_()}}function d_(){if(Mt===1){Mt=0;var t=kr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{Ky(i,t);var d=xd,_=Wp(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Zp(T.ownerDocument.documentElement,T)){if(x!==null&&Wh(T)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var G=B.getSelection(),ue=T.textContent.length,ye=Math.min(x.start,ue),Ze=x.end===void 0?ye:Math.min(x.end,ue);!G.extend&&ye>Ze&&(_=Ze,Ze=ye,ye=_);var k=Jp(T,ye),O=Jp(T,Ze);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var j=J.createRange();j.setStart(k.node,k.offset),G.removeAllRanges(),ye>Ze?(G.addRange(j),G.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),G.addRange(j))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mc=!!Id,xd=Id=null}finally{qe=h,se.p=l,K.T=a}}t.current=i,Mt=2}}function m_(){if(Mt===2){Mt=0;var t=kr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{Hy(t,i.alternate,i)}finally{qe=h,se.p=l,K.T=a}}Mt=3}}function p_(){if(Mt===4||Mt===3){Mt=0,hu();var t=kr,i=za,a=Zi,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,za=kr=null,g_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),ki(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,se.p=h}}(Zi&3)!==0&&Tc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===pd?pl++:(pl=0,pd=t):pl=0,gl(0)}}function g_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function Tc(){return d_(),m_(),p_(),y_()}function y_(){if(Mt!==5)return!1;var t=kr,i=dd;dd=0;var a=ki(Zi),l=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=md,md=null;var d=kr,_=Zi;if(Mt=0,za=kr=null,Zi=0,(qe&6)!==0)throw Error(s(331));var T=qe;if(qe|=4,Zy(d.current),Xy(d,d.current,_,a),qe=T,gl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=h,K.T=l,g_(t,i)}}function __(t,i,a){i=Nn(a,i),i=Kf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(ps(t,2),Ai(t))}function Ye(t,i,a){if(t.tag===3)__(t,t,a);else for(;i!==null;){if(i.tag===3){__(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){t=Nn(a,t),a=vy(2),l=Ir(i,a,2),l!==null&&(Ey(a,l,i,t),ps(l,2),Ai(l));break}}i=i.return}}function _d(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Lb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cd=!0,h.add(a),t=Bb.bind(null,t,i,a),i.then(t,t))}function Bb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>tn()-pc?(qe&2)===0&&Ba(t,0):hd|=a,ja===De&&(ja=0)),Ai(t)}function v_(t,i){i===0&&(i=yu()),t=xs(t,i),t!==null&&(ps(t,i),Ai(t))}function Hb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),v_(t,a)}function qb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),v_(t,a)}function Fb(t,i){return Ot(t,i)}var bc=null,qa=null,vd=!1,Sc=!1,Ed=!1,Pr=0;function Ai(t){t!==qa&&t.next===null&&(qa===null?bc=qa=t:qa=qa.next=t),Sc=!0,vd||(vd=!0,Qb())}function gl(t,i){if(!Ed&&Sc){Ed=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=De,d=oi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,S_(l,d));l=l.next}while(a);Ed=!1}}function Gb(){E_()}function E_(){Sc=vd=!1;var t=0;Pr!==0&&nS()&&(t=Pr);for(var i=tn(),a=null,l=bc;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Mt!==0&&Mt!==5||gl(t),Pr!==0&&(Pr=0)}function T_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Yh(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=De,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hr(l),ki(a)){case 2:case 8:a=Ro;break;case 32:a=fr;break;case 268435456:a=fu;break;default:a=fr}return l=b_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hr(l),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=De;return l=oi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,i),T_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function S_(t,i){if(Tc())return null;i_(t,i,!0)}function Qb(){rS(function(){(qe&6)!==0?Ot(Ao,Gb):E_()})}function Td(){if(Pr===0){var t=Ia;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Pr=t}return Pr}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function A_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Kb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?w_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _i("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var x=_?A_(h,_):new FormData(h);Bf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?A_(h,_):new FormData(h),Bf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var bd=0;bd<rf.length;bd++){var Sd=rf[bd],Yb=Sd.toLowerCase(),Xb=Sd[0].toUpperCase()+Sd.slice(1);Jn(Yb,"on"+Xb)}Jn(ng,"onAnimationEnd"),Jn(ig,"onAnimationIteration"),Jn(rg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(hb,"onTransitionRun"),Jn(fb,"onTransitionStart"),Jn(db,"onTransitionCancel"),Jn(sg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function R_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,z=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Uu(Q)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,z=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Uu(Q)}h.currentTarget=null,d=x}}}}function Ne(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=t+"__bubble";a.has(l)||(C_(i,t,2,!1),a.add(l))}function wd(t,i,a){var l=0;i&&(l|=4),C_(a,t,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[wc]){t[wc]=!0,xo.forEach(function(a){a!=="selectionchange"&&($b.has(a)||wd(a,!1,t),wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wc]||(i[wc]=!0,wd("selectionchange",!1,i))}}function C_(t,i,a,l){switch(nv(i)){case 2:var h=wS;break;case 8:h=AS;break;default:h=zd}a=h.bind(null,i,a,t),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hi(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}_r(function(){var z=d,Q=Rn(a),J=[];e:{var B=ag.get(t);if(B!==void 0){var G=_i,ue=t;switch(t){case"keypress":if(Ss(a)===0)break e;case"keydown":case"keyup":G=ku;break;case"focusin":ue="focus",G=As;break;case"focusout":ue="blur",G=As;break;case"beforeblur":case"afterblur":G=As;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case ng:case ig:case rg:G=Iu;break;case sg:G=S;break;case"scroll":case"scrollend":G=Bo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ui;break;case"toggle":case"beforetoggle":G=Ae}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),k=ye?B!==null?B+"Capture":null:B;ye=[];for(var O=z,j;O!==null;){var X=O;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||k===null||(X=Kn(O,k),X!=null&&ye.push(_l(O,X,j))),Ze)break;O=O.return}0<ye.length&&(B=new G(B,ue,null,a,Q),J.push({event:B,listeners:ye}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Uo&&(ue=a.relatedTarget||a.fromElement)&&(hi(ue)||ue[ui]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ue=a.relatedTarget||a.toElement,G=z,ue=ue?hi(ue):null,ue!==null&&(Ze=u(ue),ye=ue.tag,ue!==Ze||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(G=null,ue=z),G!==ue)){if(ye=Ho,X="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ui,X="onPointerLeave",k="onPointerEnter",O="pointer"),Ze=G==null?B:mn(G),j=ue==null?B:mn(ue),B=new ye(X,O+"leave",G,a,Q),B.target=Ze,B.relatedTarget=j,X=null,hi(Q)===z&&(ye=new ye(k,O+"enter",ue,a,Q),ye.target=j,ye.relatedTarget=Ze,X=ye),Ze=X,G&&ue)t:{for(ye=Jb,k=G,O=ue,j=0,X=k;X;X=ye(X))j++;X=0;for(var de=O;de;de=ye(de))X++;for(;0<j-X;)k=ye(k),j--;for(;0<X-j;)O=ye(O),X--;for(;j--;){if(k===O||O!==null&&k===O.alternate){ye=k;break t}k=ye(k),O=ye(O)}ye=null}else ye=null;G!==null&&I_(J,B,G,ye,!1),ue!==null&&Ze!==null&&I_(J,Ze,ue,ye,!0)}}e:{if(B=z?mn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var ze=Gp;else if(qp(B))if(Qp)ze=lb;else{ze=ab;var ce=sb}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&fa(z.elementType)&&(ze=Gp):ze=ob;if(ze&&(ze=ze(t,z))){Fp(J,ze,a,Q);break e}ce&&ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(ce=z?mn(z):window,t){case"focusin":(qp(ce)||ce.contentEditable==="true")&&(Ea=ce,ef=z,Ko=null);break;case"focusout":Ko=ef=Ea=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,eg(J,a,Q);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":eg(J,a,Q)}var Ie;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else va?Rs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ti&&a.locale!=="ko"&&(va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&va&&(Ie=zo()):(yi=Q,jo="value"in yi?yi.value:yi.textContent,va=!0)),ce=Ac(z,Oe),0<ce.length&&(Oe=new Ei(Oe,t,null,a,Q),J.push({event:Oe,listeners:ce}),Ie?Oe.data=Ie:(Ie=_a(a),Ie!==null&&(Oe.data=Ie)))),(Ie=In?tb(t,a):nb(t,a))&&(Oe=Ac(z,"onBeforeInput"),0<Oe.length&&(ce=new Ei("onBeforeInput","beforeinput",null,a,Q),J.push({event:ce,listeners:Oe}),ce.data=Ie)),Kb(J,t,z,a,Q)}R_(J,i)})}function _l(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,a),h!=null&&l.unshift(_l(t,h,d)),h=Kn(t,i),h!=null&&l.push(_l(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Jb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,z=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||z===null||(x=z,h?(z=Kn(a,d),z!=null&&_.unshift(_l(a,z,x))):h||(z=Kn(a,d),z!=null&&_.push(_l(a,z,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Zb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(Zb,`
`).replace(Wb,"")}function N_(t,i){return i=x_(i),x_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,ca(t,a,l))}}function Cd(t,i,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,x=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}bu(t,d,T,x,z,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?mr(t,!!l,i,!1):a!=null&&mr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}pr(t,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,x,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Ne(yl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,z,l,a,null)}return;default:if(fa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Cd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function eS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,z=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,J)}}for(var B in l){var G=l[B];if(J=a[B],l.hasOwnProperty(B)&&(G!=null||J!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Je(t,i,B,G,l,J)}}ha(t,_,T,x,z,Q,d,h);return;case"select":G=_=T=B=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&Je(t,i,h,d,l,x)}i=T,a=_,l=G,B!=null?mr(t,!!a,B,!1):!!l!=!!a&&(i!=null?mr(t,!!a,i,!0):mr(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Su(t,B,G);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:Je(t,i,ue,null,l,B));for(x in l)B=l[x],G=a[x],l.hasOwnProperty(x)&&B!==G&&(B!=null||G!=null)&&(x==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,i,x,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!l.hasOwnProperty(ye)&&Je(t,i,ye,null,l,B);for(z in l)if(B=l[z],G=a[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(t,i,z,B,l,G)}return;default:if(fa(i)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&Cd(t,i,Ze,void 0,l,B);for(Q in l)B=l[Q],G=a[Q],!l.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||Cd(t,i,Q,B,l,G);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,B);for(J in l)B=l[J],G=a[J],!l.hasOwnProperty(J)||B===G||B==null&&G==null||Je(t,i,J,B,l,G)}function D_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&D_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],z=x.startTime;if(z>T)break;var Q=x.transferSize,J=x.initiatorType;Q&&D_(J)&&(x=x.responseEnd,_+=Q*(x<T?1:(T-z)/(x-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,xd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dd=null;function nS(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(t){return k_.resolve(null).then(t).catch(sS)}:V_;function sS(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function L_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);Ka(i)}function P_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Od(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Od(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function oS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$?"||t.data==="$~"}function Vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var kd=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var Ln=new Map,H_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=se.d;se.d={f:uS,r:cS,D:hS,C:fS,L:dS,m:mS,X:gS,S:pS,M:yS};function uS(){var t=Wi.f(),i=_c();return t||i}function cS(t){var i=An(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):Wi.r(t)}var Fa=typeof document>"u"?null:document;function q_(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function hS(t){Wi.D(t),q_("dns-prefetch",t,null)}function fS(t,i){Wi.C(t,i),q_("preconnect",t,i)}function dS(t,i,a){Wi.L(t,i,a);var l=Fa;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Qa(t)}Ln.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),Qt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function mS(t,i){Wi.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Ln.has(d)&&(t=b({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),Qt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function pS(t,i,a){Wi.S(t,i,a);var l=Fa;if(l&&t){var h=fi(l).hoistableStyles,d=Ga(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(El(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Ld(t,a);var x=_=l.createElement("link");Tt(x),Qt(x,"link",t),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function gS(t,i){Wi.X(t,i);var a=Fa;if(a&&t){var l=fi(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=b({src:t,async:!0},i),(i=Ln.get(h))&&Pd(t,i),d=a.createElement("script"),Tt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yS(t,i){Wi.M(t,i);var a=Fa;if(a&&t){var l=fi(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Pd(t,i),d=a.createElement("script"),Tt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function F_(t,i,a,l){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(El(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||_S(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+sn(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function _S(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),Tt(i),t.head.appendChild(i))}function Qa(t){return'[src="'+sn(t)+'"]'}function Tl(t){return"script[async]"+t}function Q_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Qt(l,"style",h),Ic(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=G_(a),(h=Ln.get(h))&&Ld(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Qt(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(Tl(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Ln.get(d))&&(l=b({},a),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,t));return i.instance}function Ic(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function K_(t,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Y_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ES(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(El(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=G_(l),(h=Ln.get(h))&&Ld(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ud=0;function TS(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Ud===0&&(Ud=62500*tS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Ud?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(bS,t),Dc=null,Nc.call(t))}function bS(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function SS(t,i,a,l,h,d,_,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function $_(t,i,a,l,h,d,_,T,x,z,Q,J){return t=new SS(t,i,a,_,x,z,Q,J,T),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=yf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Tf(d),t}function J_(t){return t?(t=Sa,t):Sa}function Z_(t,i,a,l,h,d){h=J_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,i),a!==null&&(hn(a,t,i),el(a,t,i))}function W_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jd(t,i){W_(t,i),(t=t.alternate)&&W_(t,i)}function ev(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&hn(i,t,67108864),jd(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var i=bn();i=ys(i);var a=xs(t,i);a!==null&&hn(a,t,i),jd(t,i)}}var Mc=!0;function wS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,zd(t,i,a,l)}finally{se.p=d,K.T=h}}function AS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,zd(t,i,a,l)}finally{se.p=d,K.T=h}}function zd(t,i,a,l){if(Mc){var h=Bd(l);if(h===null)Rd(t,i,l,Vc,a),iv(t,l);else if(CS(h,t,i,a,l))l.stopPropagation();else if(iv(t,l),i&4&&-1<RS.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-dt(_);T.entanglements[1]|=x,_&=~x}Ai(d),(qe&6)===0&&(gc=tn()+500,gl(0))}}break;case 31:case 13:T=xs(d,2),T!==null&&hn(T,d,2),_c(),jd(d,2)}if(d=Bd(l),d===null&&Rd(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rd(t,i,l,null,a)}}function Bd(t){return t=Rn(t),Hd(t)}var Vc=null;function Hd(t){if(Vc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Ao:return 2;case Ro:return 8;case fr:case Kh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var qd=!1,jr=null,zr=null,Br=null,Sl=new Map,wl=new Map,Hr=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,i){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Al(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=An(i),i!==null&&ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function CS(t,i,a,l,h){switch(i){case"focusin":return jr=Al(jr,t,i,a,l,h),!0;case"dragenter":return zr=Al(zr,t,i,a,l,h),!0;case"mouseover":return Br=Al(Br,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Al(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Al(wl.get(d)||null,t,i,a,l,h)),!0}return!1}function rv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Bd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return i=An(a),i!==null&&ev(i),t.blockedOn=a,!1;i.shift()}return!0}function sv(t,i,a){kc(t)&&a.delete(i)}function IS(){qd=!1,jr!==null&&kc(jr)&&(jr=null),zr!==null&&kc(zr)&&(zr=null),Br!==null&&kc(Br)&&(Br=null),Sl.forEach(sv),wl.forEach(sv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,qd||(qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IS)))}var Pc=null;function av(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(i,3),i-=3,Bf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function i(x){return Lc(x,t)}jr!==null&&Lc(jr,t),zr!==null&&Lc(zr,t),Br!==null&&Lc(Br,t),Sl.forEach(i),wl.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)rv(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||av(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(Hd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),av(a)}}}function ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Fd(t){this._internalRoot=t}Uc.prototype.render=Fd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();Z_(a,l,t,i,null,null)},Uc.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Z_(t.current,2,null,t,null,null),_c(),i[ui]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&rv(t)}};var lv=e.version;if(lv!=="19.2.4")throw Error(s(527,lv,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var xS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Hn=jc.inject(xS),Bt=jc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=py,d=gy,_=yy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$_(t,1,!1,null,null,a,l,null,h,d,_,ov),t[ui]=i.current,Ad(t),new Fd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=py,_=gy,T=yy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=$_(t,1,!0,i,a??null,l,h,x,d,_,T,ov),i.context=J_(null),a=i.current,l=bn(),l=ys(l),h=Cr(l),h.callback=null,Ir(a,h,l),a=l,i.current.lanes=a,ps(i,a),Ai(i),t[ui]=i.current,Ad(t),new Uc(i)},Cl.version="19.2.4",Cl}var _v;function zS(){if(_v)return Kd.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=jS(),Kd.exports}var BS=zS();var vv="popstate";function HS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=Ws(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),dm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Bl(u))}function s(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return FS(e,n,s,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qS(){return Math.random().toString(36).substring(2,10)}function Ev(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:n,key:e&&e.key||s||qS()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ws(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function FS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=E(),ne=H==null?null:H-y;y=H,g&&g({action:m,location:$.location,delta:ne})}function A(H,ne){m="PUSH";let ee=dm($.location,H,ne);n&&n(ee,H),y=E()+1;let ie=Ev(ee,y),he=$.createHref(ee);try{f.pushState(ie,"",he)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(he)}u&&g&&g({action:m,location:$.location,delta:1})}function L(H,ne){m="REPLACE";let ee=dm($.location,H,ne);n&&n(ee,H),y=E();let ie=Ev(ee,y),he=$.createHref(ee);f.replaceState(ie,"",he),u&&g&&g({action:m,location:$.location,delta:0})}function Y(H){return GS(H)}let $={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(vv,b),g=H,()=>{o.removeEventListener(vv,b),g=null}},createHref(H){return e(o,H)},createURL:Y,encodeLocation(H){let ne=Y(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:L,go(H){return f.go(H)}};return $}function GS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Bl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function aE(r,e,n="/"){return QS(r,e,n,!1)}function QS(r,e,n,s){let o=typeof e=="string"?Ws(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let f=oE(r);KS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=rw(u);m=nw(f[g],y,s)}return m}function oE(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ot(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ir([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),oE(f.children,e,A,b,g)),!(f.path==null&&!f.index)&&e.push({path:b,score:ew(b,f.index),routesMeta:A})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of lE(f.path))u(f,m,!0,g)}),e}function lE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=lE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function KS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var YS=/^:[\w-]+$/,XS=3,$S=2,JS=1,ZS=10,WS=-2,Tv=r=>r==="*";function ew(r,e){let n=r.split("/"),s=n.length;return n.some(Tv)&&(s+=WS),e&&(s+=$S),n.filter(o=>!Tv(o)).reduce((o,u)=>o+(YS.test(u)?XS:u===""?JS:ZS),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ir([u,b.pathname]),pathnameBase:lw(ir([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=ir([u,b.pathnameBase]))}return f}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=iw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},A)=>{if(E==="*"){let Y=m[A]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const L=m[A];return b&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function iw(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function aw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ws(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=bv(n.substring(1),"/"):u=bv(n,e)):u=e,{pathname:u,search:uw(s),hash:cw(o)}}function bv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fm(r){let e=ow(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gm(r,e,n,s=!1){let o;typeof r=="string"?o=Ws(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let g=aw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ir=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,hw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function dw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cE(r,e){let n=r;if(typeof n!="string"||!sw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(uE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=sr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var mw=["GET",...hE];new Set(mw);var ho=q.createContext(null);ho.displayName="DataRouter";var Rh=q.createContext(null);Rh.displayName="DataRouterState";var pw=q.createContext(!1),fE=q.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var gw=q.createContext(new Map);gw.displayName="Fetchers";var yw=q.createContext(null);yw.displayName="Await";var Sn=q.createContext(null);Sn.displayName="Navigation";var Wl=q.createContext(null);Wl.displayName="Location";var Vi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Qm=q.createContext(null);Qm.displayName="RouteError";var dE="REACT_ROUTER_ERROR",_w="REDIRECT",vw="ROUTE_ERROR_RESPONSE";function Ew(r){if(r.startsWith(`${dE}:${_w}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Tw(r){if(r.startsWith(`${dE}:${vw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new hw(e.status,e.statusText,e.data)}catch{}}function bw(r,{relative:e}={}){ot(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Sn),{hash:o,pathname:u,search:f}=eu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ir([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fo(){return q.useContext(Wl)!=null}function cs(){return ot(fo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Wl).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(r){q.useContext(Sn).static||q.useLayoutEffect(r)}function Km(){let{isDataRoute:r}=q.useContext(Vi);return r?kw():Sw()}function Sw(){ot(fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(ho),{basename:e,navigator:n}=q.useContext(Sn),{matches:s}=q.useContext(Vi),{pathname:o}=cs(),u=JSON.stringify(Fm(s)),f=q.useRef(!1);return pE(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(zn(f.current,mE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Gm(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ir([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}q.createContext(null);function eu(r,{relative:e}={}){let{matches:n}=q.useContext(Vi),{pathname:s}=cs(),o=JSON.stringify(Fm(n));return q.useMemo(()=>Gm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ww(r,e){return gE(r,e)}function gE(r,e,n,s,o){ot(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Sn),{matches:f}=q.useContext(Vi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";_E(y,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=cs(),L;if(e){let ee=typeof e=="string"?Ws(e):e;ot(E==="/"||ee.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),L=ee}else L=A;let Y=L.pathname||"/",$=Y;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");$="/"+Y.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=aE(r,{pathname:$});zn(b||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=xw(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:ir([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:ir([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),f,n,s,o);return e&&ne?q.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ne):ne}function Aw(){let r=Vw(),e=fw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var Rw=q.createElement(Aw,null),yE=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Tw(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(Vi.Provider,{value:this.props.routeContext},q.createElement(Qm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(Cw,{error:r},e):e}};yE.contextType=pw;var Zd=new WeakMap;function Cw({children:r,error:e}){let{basename:n}=q.useContext(Sn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Ew(e.digest);if(s){let o=Zd.get(e);if(o)throw o;let u=cE(s.location,n);if(uE&&!Zd.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Zd.set(e,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Iw({routeContext:r,match:e,children:n}){let s=q.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Vi.Provider,{value:r},n)}function xw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ot(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:A,errors:L}=n,Y=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||Y){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:dw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,A)=>{let L,Y=!1,$=null,H=null;n&&(L=f&&b.route.id?f[b.route.id]:void 0,$=b.route.errorElement||Rw,m&&(g<0&&A===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,H=null):g===A&&(Y=!0,H=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),ee=()=>{let ie;return L?ie=$:Y?ie=H:b.route.Component?ie=q.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=E,q.createElement(Iw,{match:b,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?q.createElement(yE,{location:n.location,revalidation:n.revalidation,component:$,error:L,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ee()},null)}function Ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(r){let e=q.useContext(ho);return ot(e,Ym(r)),e}function Dw(r){let e=q.useContext(Rh);return ot(e,Ym(r)),e}function Ow(r){let e=q.useContext(Vi);return ot(e,Ym(r)),e}function Xm(r){let e=Ow(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Mw(){return Xm("useRouteId")}function Vw(){let r=q.useContext(Qm),e=Dw("useRouteError"),n=Xm("useRouteError");return r!==void 0?r:e.errors?.[n]}function kw(){let{router:r}=Nw("useNavigate"),e=Xm("useNavigate"),n=q.useRef(!1);return pE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{zn(n.current,mE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Sv={};function _E(r,e,n){!e&&!Sv[r]&&(Sv[r]=!0,zn(!1,n))}q.memo(Lw);function Lw({routes:r,future:e,state:n,onError:s}){return gE(r,void 0,n,s,e)}function Pw({to:r,replace:e,state:n,relative:s}){ot(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Sn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Vi),{pathname:f}=cs(),m=Km(),g=Gm(r,Fm(u),f,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function mm(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ot(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ws(n));let{pathname:y="/",search:E="",hash:b="",state:A=null,key:L="default"}=n,Y=q.useMemo(()=>{let $=sr(y,m);return $==null?null:{location:{pathname:$,search:E,hash:b,state:A,key:L},navigationType:s}},[m,y,E,b,A,L,s]);return zn(Y!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:q.createElement(Sn.Provider,{value:g},q.createElement(Wl.Provider,{children:e,value:Y}))}function jw({children:r,location:e}){return ww(pm(r),e)}function pm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,pm(s.props.children,u));return}ot(s.type===mm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=pm(s.props.children,u)),n.push(f)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Ch(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function zw(r){return Ch(r)&&r.tagName.toLowerCase()==="button"}function Bw(r){return Ch(r)&&r.tagName.toLowerCase()==="form"}function Hw(r){return Ch(r)&&r.tagName.toLowerCase()==="input"}function qw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Fw(r,e){return r.button===0&&(!e||e==="_self")&&!qw(r)}var zc=null;function Gw(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var Qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(r){return r!=null&&!Qw.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):r}function Kw(r,e){let n,s,o,u,f;if(Bw(r)){let m=r.getAttribute("action");s=m?sr(m,e):null,n=r.getAttribute("method")||Kc,o=Wd(r.getAttribute("enctype"))||Yc,u=new FormData(r)}else if(zw(r)||Hw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?sr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=Wd(r.getAttribute("formenctype"))||Wd(m.getAttribute("enctype"))||Yc,u=new FormData(m,r),!Gw()){let{name:y,type:E,value:b}=r;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,b)}}else{if(Ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&sr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Xw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $w(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Jw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Xw(u,n);return f.links?f.links():[]}return[]}));return tA(s.flat(1).filter($w).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Zw(r,e,{includeHydrateFallback:n}={}){return Ww(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ww(r){return[...new Set(r)]}function eA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function tA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(eA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function vE(){let r=q.useContext(ho);return $m(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nA(){let r=q.useContext(Rh);return $m(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jm=q.createContext(void 0);Jm.displayName="FrameworkContext";function EE(){let r=q.useContext(Jm);return $m(r,"You must render this element inside a <HydratedRouter> element"),r}function iA(r,e){let n=q.useContext(Jm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,A=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ne=>{ne.forEach(ee=>{f(ee.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[r]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Il(m,L),onBlur:Il(g,Y),onMouseEnter:Il(y,L),onMouseLeave:Il(E,Y),onTouchStart:Il(b,L)}]:[!1,A,{}]}function Il(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function rA({page:r,...e}){let{router:n}=vE(),s=q.useMemo(()=>aE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(aA,{page:r,matches:s,...e}):null}function sA(r){let{manifest:e,routeModules:n}=EE(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Jw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function aA({page:r,matches:e,...n}){let s=cs(),{future:o,manifest:u,routeModules:f}=EE(),{basename:m}=vE(),{loaderData:g,matches:y}=nA(),E=q.useMemo(()=>wv(r,e,y,u,s,"data"),[r,e,y,u,s]),b=q.useMemo(()=>wv(r,e,y,u,s,"assets"),[r,e,y,u,s]),A=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,H=!1;if(e.forEach(ee=>{let ie=u.routes[ee.route.id];!ie||!ie.hasLoader||(!E.some(he=>he.route.id===ee.route.id)&&ee.route.id in g&&f[ee.route.id]?.shouldRevalidate||ie.hasClientLoader?H=!0:$.add(ee.route.id))}),$.size===0)return[];let ne=Yw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&$.size>0&&ne.searchParams.set("_routes",e.filter(ee=>$.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),L=q.useMemo(()=>Zw(b,u),[b,u]),Y=sA(b);return q.createElement(q.Fragment,null,A.map($=>q.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),L.map($=>q.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Y.map(({key:$,link:H})=>q.createElement("link",{key:$,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function oA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lA&&(window.__reactRouterVersion="7.13.0")}catch{}function uA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=HS({window:s,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{n===!1?m(y):q.startTransition(()=>m(y))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(Uw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bE=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:A,...L},Y){let{basename:$,unstable_useTransitions:H}=q.useContext(Sn),ne=typeof y=="string"&&TE.test(y),ee=cE(y,$);y=ee.to;let ie=bw(y,{relative:o}),[he,ge,Ee]=iA(s,L),I=dA(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:H});function w(V){e&&e(V),V.defaultPrevented||I(V)}let C=q.createElement("a",{...L,...Ee,href:ee.absoluteURL||ie,onClick:ee.isExternal||u?e:w,ref:oA(Y,ge),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return he&&!ne?q.createElement(q.Fragment,null,C,q.createElement(rA,{page:ie})):C});bE.displayName="Link";var cA=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let b=eu(f,{relative:y.relative}),A=cs(),L=q.useContext(Rh),{navigator:Y,basename:$}=q.useContext(Sn),H=L!=null&&_A(b)&&m===!0,ne=Y.encodeLocation?Y.encodeLocation(b).pathname:b.pathname,ee=A.pathname,ie=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&$&&(ie=sr(ie,$)||ie);const he=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ge=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(he)==="/",Ee=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),I={isActive:ge,isPending:Ee,isTransitioning:H},w=ge?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ge?"active":null,Ee?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return q.createElement(bE,{...y,"aria-current":w,className:C,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(I):g)});cA.displayName="NavLink";var hA=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:A,...L},Y)=>{let{unstable_useTransitions:$}=q.useContext(Sn),H=gA(),ne=yA(m,{relative:y}),ee=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&TE.test(m),he=ge=>{if(g&&g(ge),ge.defaultPrevented)return;ge.preventDefault();let Ee=ge.nativeEvent.submitter,I=Ee?.getAttribute("formmethod")||f,w=()=>H(Ee||ge.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:A});$&&n!==!1?q.startTransition(()=>w()):w()};return q.createElement("form",{ref:Y,method:ee,action:ne,onSubmit:s?g:he,...L,"data-discover":!ie&&r==="render"?"true":void 0})});hA.displayName="Form";function fA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(r){let e=q.useContext(ho);return ot(e,fA(r)),e}function dA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Km(),E=cs(),b=eu(r,{relative:u});return q.useCallback(A=>{if(Fw(A,e)){A.preventDefault();let L=n!==void 0?n:Bl(E)===Bl(b),Y=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?q.startTransition(()=>Y()):Y()}},[E,y,b,n,s,e,r,o,u,f,m,g])}var mA=0,pA=()=>`__${String(++mA)}__`;function gA(){let{router:r}=SE("useSubmit"),{basename:e}=q.useContext(Sn),n=Mw(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:b}=Kw(u,e);if(f.navigate===!1){let A=f.fetcherKey||pA();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function yA(r,{relative:e}={}){let{basename:n}=q.useContext(Sn),s=q.useContext(Vi);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(r||".",{relative:e})},f=cs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ir([n,u.pathname])),Bl(u)}function _A(r,{relative:e}={}){let n=q.useContext(fE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=SE("useViewTransitionState"),o=eu(r,{relative:e});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}var dn;(function(r){r.INITIAL="initial",r.PENDING="pending",r.REJECTED="rejected",r.RESOLVED="resolved"})(dn||(dn={}));var $r;(function(r){r.LOADING_STATUS="setLoadingStatus",r.RESET_OPTIONS="resetOptions",r.SET_BRAINTREE_INSTANCE="braintreeInstance"})($r||($r={}));var Av;(function(r){r.NUMBER="number",r.CVV="cvv",r.EXPIRATION_DATE="expirationDate",r.EXPIRATION_MONTH="expirationMonth",r.EXPIRATION_YEAR="expirationYear",r.POSTAL_CODE="postalCode"})(Av||(Av={}));var It=function(){return It=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},It.apply(this,arguments)};function wE(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Rv(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}var Hl="data-react-paypal-script-id",qs={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},vA="Failed to load the PayPal JS SDK script.",AE="paypal",EA="usePayPalScriptReducer must be used within a PayPalScriptProvider";function TA(r){return r===void 0&&(r=AE),window[r]}function bA(r){for(var e="",n=0;n<r.length;n++){var s=r[n].charCodeAt(0)*n;r[n+1]&&(s+=r[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(s)%26)}return e}function SA(r){var e=r.reactComponentName,n=r.sdkComponentKey,s=r.sdkRequestedComponents,o=s===void 0?"":s,u=r.sdkDataNamespace,f=u===void 0?AE:u,m=n.charAt(0).toUpperCase().concat(n.substring(1)),g="Unable to render <".concat(e," /> because window.").concat(f,".").concat(m," is undefined."),y=typeof o=="string"?o:o.join(",");if(!y.includes(n)){var E=[y,n].filter(Boolean).join();g+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(E,"'}}>`.")}return g}function RE(r){var e=r,n=Hl;e[n];var s=wE(e,[n+""]);return"react-paypal-js-".concat(bA(JSON.stringify(s)))}function wA(r){var e=self.document.querySelector("script[".concat(Hl,'="').concat(r,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function AA(r,e){var n,s;switch(e.type){case $r.LOADING_STATUS:return typeof e.value=="object"?It(It({},r),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):It(It({},r),{loadingStatus:e.value});case $r.RESET_OPTIONS:return wA(r.options[Hl]),It(It({},r),{loadingStatus:dn.PENDING,options:It(It((n={},n[qs.DATA_SDK_INTEGRATION_SOURCE]=qs.DATA_LIBRARY_VALUE,n),e.value),(s={},s[Hl]="".concat(RE(e.value)),s))});case $r.SET_BRAINTREE_INSTANCE:return It(It({},r),{braintreePayPalCheckoutInstance:e.value});default:return r}}var CE=q.createContext(null);function RA(r){if(typeof r?.dispatch=="function"&&r.dispatch.length!==0)return r;throw new Error(EA)}function CA(){var r=RA(q.useContext(CE)),e=It(It({},r),{isInitial:r.loadingStatus===dn.INITIAL,isPending:r.loadingStatus===dn.PENDING,isResolved:r.loadingStatus===dn.RESOLVED,isRejected:r.loadingStatus===dn.REJECTED});return[e,r.dispatch]}q.createContext({});function IA(r){var e=q.useRef(new Proxy({},{get:function(n,s,o){return typeof n[s]=="function"?function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return n[s].apply(n,u)}:Reflect.get(n,s,o)}}));return e.current=Object.assign(e.current,r),e.current}var Zm=function(r){var e,n=r.className,s=n===void 0?"":n,o=r.disabled,u=o===void 0?!1:o,f=r.children,m=r.forceReRender,g=m===void 0?[]:m,y=wE(r,["className","disabled","children","forceReRender"]),E=u?{opacity:.38}:{},b="".concat(s," ").concat(u?"paypal-buttons-disabled":"").trim(),A=q.useRef(null),L=q.useRef(null),Y=IA(y),$=CA()[0],H=$.isResolved,ne=$.options,ee=q.useState(null),ie=ee[0],he=ee[1],ge=q.useState(!0),Ee=ge[0],I=ge[1],w=q.useState(null),C=w[1];function V(){L.current!==null&&L.current.close().catch(function(){})}return!((e=L.current)===null||e===void 0)&&e.updateProps&&L.current.updateProps({message:y.message}),q.useEffect(function(){if(H===!1)return V;var D=TA(ne.dataNamespace);if(D===void 0||D.Buttons===void 0)return C(function(){throw new Error(SA({reactComponentName:Zm.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:ne.components,sdkDataNamespace:ne[qs.DATA_NAMESPACE]}))}),V;var P=function(R,We){he(We),typeof y.onInit=="function"&&y.onInit(R,We)};try{L.current=D.Buttons(It(It({},Y),{onInit:P}))}catch(R){return C(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(R))})}return L.current.isEligible()===!1?(I(!1),V):(A.current&&L.current.render(A.current).catch(function(R){A.current===null||A.current.children.length===0||C(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(R))})}),V)},Rv(Rv([H],g,!0),[y.fundingSource],!1)),q.useEffect(function(){ie!==null&&(u===!0?ie.disable().catch(function(){}):ie.enable().catch(function(){}))},[u,ie]),Yr.createElement(Yr.Fragment,null,Ee?Yr.createElement("div",{ref:A,style:E,className:b}):f)};Zm.displayName="PayPalButtons";function xA(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function NA(r,e){var n=document.querySelector('script[src="'.concat(r,'"]'));if(n===null)return null;var s=IE(r,e),o=n.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var u=!0;return Object.keys(o.dataset).forEach(function(f){o.dataset[f]!==s.dataset[f]&&(u=!1)}),u?n:null}function DA(r){var e=r.url,n=r.attributes,s=r.onSuccess,o=r.onError,u=IE(e,n);u.onerror=o,u.onload=s,document.head.insertBefore(u,document.head.firstElementChild)}function OA(r){var e=r.sdkBaseUrl,n=r.environment,s=xA(r,["sdkBaseUrl","environment"]),o=e||kA(n),u=s,f=Object.keys(u).filter(function(y){return typeof u[y]<"u"&&u[y]!==null&&u[y]!==""}).reduce(function(y,E){var b=u[E].toString();return E=MA(E),E.substring(0,4)==="data"||E==="crossorigin"?y.attributes[E]=b:y.queryParams[E]=b,y},{queryParams:{},attributes:{}}),m=f.queryParams,g=f.attributes;return m["merchant-id"]&&m["merchant-id"].indexOf(",")!==-1&&(g["data-merchant-id"]=m["merchant-id"],m["merchant-id"]="*"),{url:"".concat(o,"?").concat(VA(m)),attributes:g}}function MA(r){var e=function(n,s){return(s?"-":"")+n.toLowerCase()};return r.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function VA(r){var e="";return Object.keys(r).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+r[n]}),e}function kA(r){return r==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function IE(r,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=r,Object.keys(e).forEach(function(s){n.setAttribute(s,e[s]),s==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function LA(r,e){if(e===void 0&&(e=Promise),xE(r,e),typeof document>"u")return e.resolve(null);var n=OA(r),s=n.url,o=n.attributes,u=o["data-namespace"]||"paypal",f=Cv(u);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),NA(s,o)&&f?e.resolve(f):PA({url:s,attributes:o},e).then(function(){var m=Cv(u);if(m)return m;throw new Error("The window.".concat(u," global variable is not available."))})}function PA(r,e){e===void 0&&(e=Promise),xE(r,e);var n=r.url,s=r.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new e(function(o,u){if(typeof document>"u")return o();DA({url:n,attributes:s,onSuccess:function(){return o()},onError:function(){var f=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return u(f)}})})}function Cv(r){return window[r]}function xE(r,e){if(typeof r!="object"||r===null)throw new Error("Expected an options object.");var n=r.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var UA=function(r){var e,n=r.options,s=n===void 0?{clientId:"test"}:n,o=r.children,u=r.deferLoading,f=u===void 0?!1:u,m=q.useReducer(AA,{options:It(It({},s),(e={},e[qs.DATA_JS_SDK_LIBRARY]=qs.DATA_LIBRARY_VALUE,e[qs.DATA_SDK_INTEGRATION_SOURCE]=qs.DATA_LIBRARY_VALUE,e[Hl]="".concat(RE(s)),e)),loadingStatus:f?dn.INITIAL:dn.PENDING}),g=m[0],y=m[1];return q.useEffect(function(){if(f===!1&&g.loadingStatus===dn.INITIAL)return y({type:$r.LOADING_STATUS,value:dn.PENDING});if(g.loadingStatus===dn.PENDING){var E=!0;return LA(g.options).then(function(){E&&y({type:$r.LOADING_STATUS,value:dn.RESOLVED})}).catch(function(b){console.error("".concat(vA," ").concat(b)),E&&y({type:$r.LOADING_STATUS,value:{state:dn.REJECTED,message:String(b)}})}),function(){E=!1}}},[g.options,f,g.loadingStatus]),Yr.createElement(CE.Provider,{value:It(It({},g),{dispatch:y})},o)};function Iv(){}q.createContext({cardFieldsForm:null,fields:{},registerField:Iv,unregisterField:Iv});const xv=r=>{let e;const n=new Set,s=(y,E)=>{const b=typeof y=="function"?y(e):y;if(!Object.is(b,e)){const A=e;e=E??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(L=>L(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:y=>(n.add(y),()=>n.delete(y))},g=e=r(s,o,m);return m},jA=(r=>r?xv(r):xv),zA=r=>r;function BA(r,e=zA){const n=Yr.useSyncExternalStore(r.subscribe,Yr.useCallback(()=>e(r.getState()),[r,e]),Yr.useCallback(()=>e(r.getInitialState()),[r,e]));return Yr.useDebugValue(n),n}const Nv=r=>{const e=jA(r),n=s=>BA(e,s);return Object.assign(n,e),n},NE=(r=>r?Nv(r):Nv);function HA(r,e){let n;try{n=r()}catch{return}return{getItem:o=>{var u;const f=g=>g===null?null:JSON.parse(g,void 0),m=(u=n.getItem(o))!=null?u:null;return m instanceof Promise?m.then(f):f(m)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const gm=r=>e=>{try{const n=r(e);return n instanceof Promise?n:{then(s){return gm(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return gm(s)(n)}}}},qA=(r,e)=>(n,s,o)=>{let u={storage:HA(()=>window.localStorage),partialize:H=>H,version:0,merge:(H,ne)=>({...ne,...H}),...e},f=!1,m=0;const g=new Set,y=new Set;let E=u.storage;if(!E)return r((...H)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...H)},s,o);const b=()=>{const H=u.partialize({...s()});return E.setItem(u.name,{state:H,version:u.version})},A=o.setState;o.setState=(H,ne)=>(A(H,ne),b());const L=r((...H)=>(n(...H),b()),s,o);o.getInitialState=()=>L;let Y;const $=()=>{var H,ne;if(!E)return;const ee=++m;f=!1,g.forEach(he=>{var ge;return he((ge=s())!=null?ge:L)});const ie=((ne=u.onRehydrateStorage)==null?void 0:ne.call(u,(H=s())!=null?H:L))||void 0;return gm(E.getItem.bind(E))(u.name).then(he=>{if(he)if(typeof he.version=="number"&&he.version!==u.version){if(u.migrate){const ge=u.migrate(he.state,he.version);return ge instanceof Promise?ge.then(Ee=>[!0,Ee]):[!0,ge]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,he.state];return[!1,void 0]}).then(he=>{var ge;if(ee!==m)return;const[Ee,I]=he;if(Y=u.merge(I,(ge=s())!=null?ge:L),n(Y,!0),Ee)return b()}).then(()=>{ee===m&&(ie?.(Y,void 0),Y=s(),f=!0,y.forEach(he=>he(Y)))}).catch(he=>{ee===m&&ie?.(void 0,he)})};return o.persist={setOptions:H=>{u={...u,...H},H.storage&&(E=H.storage)},clearStorage:()=>{E?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>$(),hasHydrated:()=>f,onHydrate:H=>(g.add(H),()=>{g.delete(H)}),onFinishHydration:H=>(y.add(H),()=>{y.delete(H)})},u.skipHydration||$(),Y||L},FA=qA,is=NE()(FA(r=>({caffeineMg:240,hydrationL:1.2,streak:5,treeGrowthPercent:75,showRewardPopup:!1,showPremiumShop:!1,showCollectionBook:!1,showQuests:!1,collectedCards:[],currentRewardCard:null,quests:[{id:"q1",title:"Record 2 Coffees",type:"coffee",current:0,target:2,completed:!1,rewardGrowth:10},{id:"q2",title:"Drink 1L Water",type:"water",current:0,target:1,completed:!1,rewardGrowth:10}],addCoffee:e=>r(n=>{const s=Math.min(100,n.treeGrowthPercent+5),o=n.quests.map(g=>{if(g.type==="coffee"&&!g.completed){const y=g.current+1;return{...g,current:y,completed:y>=g.target}}return g}),u=Math.random()<.2;let f=null,m=!1;return u&&(f={id:crypto.randomUUID(),name:"Blue Mountain",rarity:"Legendary",location:"Jamaica"},m=!0),{caffeineMg:n.caffeineMg+e,treeGrowthPercent:s,showRewardPopup:m,currentRewardCard:f,collectedCards:f?[...n.collectedCards,f]:n.collectedCards,quests:o}}),waterPlant:e=>r(n=>{const s=n.quests.map(o=>{if(o.type==="water"&&!o.completed){const u=+(o.current+e).toFixed(1);return{...o,current:u,completed:u>=o.target}}return o});return{hydrationL:+(n.hydrationL+e).toFixed(1),treeGrowthPercent:Math.min(100,n.treeGrowthPercent+2),quests:s}}),closeRewardPopup:()=>r({showRewardPopup:!1,currentRewardCard:null}),togglePremiumShop:e=>r({showPremiumShop:e}),toggleCollectionBook:e=>r({showCollectionBook:e}),toggleQuests:e=>r({showQuests:e}),claimQuestReward:e=>r(n=>{const s=n.quests.find(u=>u.id===e);if(!s||!s.completed||s.rewardGrowth===0)return n;const o=n.quests.map(u=>u.id===e?{...u,rewardGrowth:0}:u);return{treeGrowthPercent:Math.min(100,n.treeGrowthPercent+s.rewardGrowth),quests:o}})}),{name:"coffee-forest-storage"})),GA=()=>{};var Dv={};const DE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(A=64)),s.push(n[E],n[b],n[A],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(DE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new KA;const A=u<<2|m>>4;if(s.push(A),y!==64){const L=m<<4&240|y>>2;if(s.push(L),b!==64){const Y=y<<6&192|b;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YA=function(r){const e=DE(r);return OE.encodeByteArray(e,!0)},ah=function(r){return YA(r).replace(/\./g,"")},ME=function(r){try{return OE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $A=()=>XA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof Dv>"u")return;const r=Dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ME(r[1]);return e&&JSON.parse(e)},Ih=()=>{try{return GA()||$A()||JA()||ZA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VE=r=>Ih()?.emulatorHosts?.[r],WA=r=>{const e=VE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kE=()=>Ih()?.config,LE=r=>Ih()?.[`_${r}`];class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(r){return(await fetch(r,{credentials:"include"})).ok}function tR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Vl={};function nR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?r.emulator.push(e):r.prod.push(e);return r}function iR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Ov=!1;function UE(r,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Vl[r]===e||Vl[r]||Ov)return;Vl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=nR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,L){A.setAttribute("width","24"),A.setAttribute("id",L),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Ov=!0,f()},A}function E(A,L){A.setAttribute("id",L),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=iR(s),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),$=n("learnmore"),H=document.getElementById($)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(H,$);const he=y();g(ee,ne),ie.append(ee,Y,H,he),document.body.appendChild(ie)}u?(Y.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function sR(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cR(){return!sR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function fR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const dR="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dR,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?mR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function mR(r,e){return r.replace(pR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pR=/\{\$([^}]+)}/g;function gR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Mv(u)&&Mv(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Mv(r){return r!==null&&typeof r=="object"}function nu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yR(r,e){const n=new _R(r,e);return n.subscribe.bind(n)}class _R{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function em(){}function Bn(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class ER{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new eR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TR(r){return r===Hs?void 0:r}function bR(r){return r.instantiationMode==="EAGER"}class SR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ER(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const wR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},AR=Me.INFO,RR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},CR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=RR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const IR=(r,e)=>e.some(n=>r instanceof n);let Vv,kv;function xR(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,ym=new WeakMap,zE=new WeakMap,tm=new WeakMap,ep=new WeakMap;function DR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,r)}).catch(()=>{}),ep.set(e,r),e}function OR(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let _m={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function MR(r){_m=r(_m)}function VR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(nm(this),e,...n);return zE.set(s,e.sort?e.sort():[e]),Jr(s)}:NR().includes(r)?function(...e){return r.apply(nm(this),e),Jr(jE.get(this))}:function(...e){return Jr(r.apply(nm(this),e))}}function kR(r){return typeof r=="function"?VR(r):(r instanceof IDBTransaction&&OR(r),IR(r,xR())?new Proxy(r,_m):r)}function Jr(r){if(r instanceof IDBRequest)return DR(r);if(tm.has(r))return tm.get(r);const e=kR(r);return e!==r&&(tm.set(r,e),ep.set(e,r)),e}const nm=r=>ep.get(r);function LR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Jr(f.result),g.oldVersion,g.newVersion,Jr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],im=new Map;function Lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=UR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return im.set(e,u),u}MR(r=>({...r,get:(e,n,s)=>Lv(e,n)||r.get(e,n,s),has:(e,n)=>!!Lv(e,n)||r.has(e,n)}));class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zR(r){return r.getComponent()?.type==="VERSION"}const vm="@firebase/app",Pv="0.14.8";const ar=new Wm("@firebase/app"),BR="@firebase/app-compat",HR="@firebase/analytics-compat",qR="@firebase/analytics",FR="@firebase/app-check-compat",GR="@firebase/app-check",QR="@firebase/auth",KR="@firebase/auth-compat",YR="@firebase/database",XR="@firebase/data-connect",$R="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",WR="@firebase/installations",e2="@firebase/installations-compat",t2="@firebase/messaging",n2="@firebase/messaging-compat",i2="@firebase/performance",r2="@firebase/performance-compat",s2="@firebase/remote-config",a2="@firebase/remote-config-compat",o2="@firebase/storage",l2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",d2="12.9.0";const Em="[DEFAULT]",m2={[vm]:"fire-core",[BR]:"fire-core-compat",[qR]:"fire-analytics",[HR]:"fire-analytics-compat",[GR]:"fire-app-check",[FR]:"fire-app-check-compat",[QR]:"fire-auth",[KR]:"fire-auth-compat",[YR]:"fire-rtdb",[XR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[WR]:"fire-iid",[e2]:"fire-iid-compat",[t2]:"fire-fcm",[n2]:"fire-fcm-compat",[i2]:"fire-perf",[r2]:"fire-perf-compat",[s2]:"fire-rc",[a2]:"fire-rc-compat",[o2]:"fire-gcs",[l2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};const oh=new Map,p2=new Map,Tm=new Map;function Uv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(Tm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,r);for(const n of oh.values())Uv(n,r);for(const n of p2.values())Uv(n,r);return!0}function tp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new tu("app","Firebase",g2);class y2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const po=d2;function BE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw Zr.create("no-options");const u=oh.get(o);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new SR(o);for(const g of Tm.values())f.addComponent(g);const m=new y2(n,s,f);return oh.set(o,m),m}function HE(r=Em){const e=oh.get(r);if(!e&&r===Em&&kE())return BE();if(!e)throw Zr.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=m2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}ro(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const _2="firebase-heartbeat-database",v2=1,ql="firebase-heartbeat-store";let rm=null;function qE(){return rm||(rm=LR(_2,v2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),rm}async function E2(r){try{const n=(await qE()).transaction(ql),s=await n.objectStore(ql).get(FE(r));return await n.done,s}catch(e){if(e instanceof cr)ar.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function jv(r,e){try{const s=(await qE()).transaction(ql,"readwrite");await s.objectStore(ql).put(e,FE(r)),await s.done}catch(n){if(n instanceof cr)ar.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function FE(r){return`${r.name}!${r.options.appId}`}const T2=1024,b2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>b2){const o=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zv(),{heartbeatsToSend:n,unsentEntries:s}=w2(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function zv(){return new Date().toISOString().substring(0,10)}function w2(r,e=T2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Bv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class A2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?fR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bv(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function R2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function C2(r){ro(new Ys("platform-logger",e=>new jR(e),"PRIVATE")),ro(new Ys("heartbeat",e=>new S2(e),"PRIVATE")),Wr(vm,Pv,r),Wr(vm,Pv,"esm2020"),Wr("fire-js","")}C2("");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I2=GE,QE=new tu("auth","Firebase",GE());const lh=new Wm("@firebase/auth");function x2(r,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${po}): ${r}`,...e)}function Xc(r,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${po}): ${r}`,...e)}function Di(r,...e){throw ip(r,...e)}function ni(r,...e){return ip(r,...e)}function np(r,e,n){const s={...I2(),[e]:n};return new tu("auth","Firebase",s).create(e,{appName:r.name})}function es(r){return np(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Di(r,"argument-error"),np(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ip(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return QE.create(r,...e)}function ve(r,e,...n){if(!r)throw ip(e,...n)}function tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function or(r,e){r||tr(e)}function bm(){return typeof self<"u"&&self.location?.href||""}function N2(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N2()||oR()||"connection"in navigator)?navigator.onLine:!0}function O2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=rR()||lR()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class YE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const V2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k2=new iu(3e4,6e4);function sp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function go(r,e,n,s,o={}){return XE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return aR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(y.credentials="include"),YE.fetch()(await $E(r,r.config.apiHost,n,m),y)})}async function XE(r,e,n){r._canInitEmulator=!1;const s={...M2,...e};try{const o=new P2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw np(r,E,y);Di(r,E)}}catch(o){if(o instanceof cr)throw o;Di(r,"network-request-failed",{message:String(o)})}}async function L2(r,e,n,s,o={}){const u=await go(r,e,n,s,o);return"mfaPendingCredential"in u&&Di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?rp(r.config,o):`${r.config.apiScheme}://${o}`;return V2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class P2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),k2.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ni(r,e,s);return o.customData._tokenResponse=n,o}async function U2(r,e){return go(r,"POST","/v1/accounts:delete",e)}async function uh(r,e){return go(r,"POST","/v1/accounts:lookup",e)}function kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j2(r,e=!1){const n=Bn(r),s=await n.getIdToken(e),o=ap(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:kl(sm(o.auth_time)),issuedAtTime:kl(sm(o.iat)),expirationTime:kl(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function ap(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qv(r){const e=ap(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&z2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function z2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class B2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const e=r.auth,n=await r.getIdToken(),s=await Fl(r,uh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?JE(o.providerUserInfo):[],f=q2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function H2(r){const e=Bn(r);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function F2(r,e){const n=await XE(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $E(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(g.credentials="include"),YE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G2(r,e){return go(r,"POST","/v2/accounts:revokeToken",sp(r,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=qv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await F2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Fr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await Fl(this,U2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:L,providerData:Y,stsTokenManager:$}=n;ve(b&&$,e,"internal-error");const H=Wa.fromJSON(this.name,$);ve(typeof b=="string",e,"internal-error"),Fr(s,e.name),Fr(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof L=="boolean",e,"internal-error"),Fr(u,e.name),Fr(f,e.name),Fr(m,e.name),Fr(g,e.name),Fr(y,e.name),Fr(E,e.name);const ne=new ei({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(ne.providerData=Y.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Wa;m.updateFromIdToken(s);const g=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Fv=new Map;function nr(r){or(r instanceof Function,"Expected a class definition");let e=Fv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fv.set(r,e),e)}class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZE.type="NONE";const Gv=ZE;function $c(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(nr(Gv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||nr(Gv);const f=$c(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const A=await uh(e,{idToken:E}).catch(()=>{});if(!A)break;b=await ei._fromGetAccountInfoResponse(e,A,E)}else b=ei._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}function Qv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(sT(e))return"Webos";if(eT(e))return"Safari";if((e.includes("chrome/")||tT(e))&&!e.includes("edge/"))return"Chrome";if(iT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function WE(r=en()){return/firefox\//i.test(r)}function eT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tT(r=en()){return/crios\//i.test(r)}function nT(r=en()){return/iemobile/i.test(r)}function iT(r=en()){return/android/i.test(r)}function rT(r=en()){return/blackberry/i.test(r)}function sT(r=en()){return/webos/i.test(r)}function op(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Q2(r=en()){return op(r)&&!!window.navigator?.standalone}function K2(){return uR()&&document.documentMode===10}function aT(r=en()){return op(r)||iT(r)||sT(r)||rT(r)||/windows phone/i.test(r)||nT(r)}function oT(r,e=[]){let n;switch(r){case"Browser":n=Qv(en());break;case"Worker":n=`${Qv(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}class Y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function X2(r,e={}){return go(r,"GET","/v2/passwordPolicy",sp(r,e))}const $2=6;class J2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Z2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(es(this));const n=e?Bn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X2(this),n=new J2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await G2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&x2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yo(r){return Bn(r)}class Kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=yR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(r){lp=r}function eC(r){return lp.loadJS(r)}function tC(){return lp.gapiScript}function nC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function iC(r,e){const n=tp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;Di(o,"already-initialized")}return n.initialize({options:e})}function rC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(nr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function sC(r,e,n){const s=yo(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lT(e),{host:f,port:m}=aC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ks(y,s.config.emulator)&&Ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mo(f)?(PE(`${u}//${f}${g}`),UE("Auth",!0)):oC()}function lT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aC(r){const e=lT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Yv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Yv(f)}}}function Yv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class uT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function to(r,e){return L2(r,"POST","/v1/accounts:signInWithIdp",sp(r,e))}const lC="http://localhost";class Xs extends uT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}class xh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends xh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gr extends ru{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class er extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class Qr extends ru{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";class Kr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),f=Xv(s);return new so({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Xv(s);return new so({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Xv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class hh extends cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hh(e,n,s,o)}}function cT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,u,e,s):u})}async function uC(r,e,n=!1){const s=await Fl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return so._forOperation(r,"link",s)}async function cC(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(es(s));const o="reauthenticate";try{const u=await Fl(r,cT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=ap(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),so._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),u}}async function hC(r,e,n=!1){if(Pn(r.app))return Promise.reject(es(r));const s="signIn",o=await cT(r,s,e),u=await so._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function fC(r,e,n,s){return Bn(r).onIdTokenChanged(e,n,s)}function dC(r,e,n){return Bn(r).beforeAuthStateChanged(e,n)}function mC(r,e,n,s){return Bn(r).onAuthStateChanged(e,n,s)}function pC(r){return Bn(r).signOut()}const fh="__sak";class hT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gC=1e3,yC=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);K2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const _C=fT;class dT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dT.type="SESSION";const mT=dT;function vC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await vC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function up(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class EC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=up("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ci(){return window}function TC(r){Ci().location.href=r}function pT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function bC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SC(){return navigator?.serviceWorker?.controller||null}function wC(){return pT()?self:null}const gT="firebaseLocalStorageDb",AC=1,dh="firebaseLocalStorage",yT="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function RC(){const r=indexedDB.deleteDatabase(gT);return new su(r).toPromise()}function wm(){const r=indexedDB.open(gT,AC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(dh,{keyPath:yT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await RC(),e(await wm()))})})}async function $v(r,e,n){const s=Dh(r,!0).put({[yT]:e,value:n});return new su(s).toPromise()}async function CC(r,e){const n=Dh(r,!1).get(e),s=await new su(n).toPromise();return s===void 0?null:s.value}function Jv(r,e){const n=Dh(r,!0).delete(e);return new su(n).toPromise()}const IC=800,xC=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(wC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bC(),!this.activeServiceWorker)return;this.sender=new EC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await $v(e,fh,"1"),await Jv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>CC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const NC=_T;new iu(3e4,6e4);function cp(r,e){return e?nr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hp extends uT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DC(r){return hC(r.auth,new hp(r),r.bypassAuthState)}function OC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),cC(n,new hp(r),r.bypassAuthState)}async function MC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),uC(n,new hp(r),r.bypassAuthState)}class vT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DC;case"linkViaPopup":case"linkViaRedirect":return MC;case"reauthViaPopup":case"reauthViaRedirect":return OC;default:Di(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VC=new iu(2e3,1e4);async function kC(r,e,n){if(Pn(r.app))return Promise.reject(ni(r,"operation-not-supported-in-this-environment"));const s=yo(r);KE(r,e,xh);const o=cp(s,n);return new Fs(s,"signInViaPopup",e,o).executeNotNull()}class Fs extends vT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VC.get())};e()}}Fs.currentPopupAction=null;const LC="pendingRedirect",Jc=new Map;class PC extends vT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await UC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(r,e){const n=TT(e),s=ET(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function jC(r,e){return ET(r)._set(TT(e),"true")}function zC(r,e){Jc.set(r._key(),e)}function ET(r){return nr(r._redirectPersistence)}function TT(r){return $c(LC,r.config.apiKey,r.name)}function BC(r,e,n){return HC(r,e,n)}async function HC(r,e,n){if(Pn(r.app))return Promise.reject(es(r));const s=yo(r);KE(r,e,xh),await s._initializationPromise;const o=cp(s,n);return await jC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function qC(r,e){return await yo(r)._initializationPromise,bT(r,e,!1)}async function bT(r,e,n=!1){if(Pn(r.app))return Promise.reject(es(r));const s=yo(r),o=cp(s,e),f=await new PC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const FC=600*1e3;class GC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ST(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ST({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function QC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(r);default:return!1}}async function KC(r,e={}){return go(r,"GET","/v1/projects",e)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function $C(r){if(r.config.emulator)return;const{authorizedDomains:e}=await KC(r);for(const n of e)try{if(JC(n))return}catch{}Di(r,"unauthorized-domain")}function JC(r){const e=bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!XC.test(n))return!1;if(YC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const ZC=new iu(3e4,6e4);function Wv(){const r=Ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function WC(r){return new Promise((e,n)=>{function s(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(ni(r,"network-request-failed"))},timeout:ZC.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const o=nC("iframefcb");return Ci()[o]=()=>{gapi.load?s():n(ni(r,"network-request-failed"))},eC(`${tC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function eI(r){return Zc=Zc||WC(r),Zc}const tI=new iu(5e3,15e3),nI="__/auth/iframe",iI="emulator/auth/iframe",rI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rp(e,iI):`https://${r.config.authDomain}/${nI}`,s={apiKey:e.apiKey,appName:r.name,v:po},o=sI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function oI(r){const e=await eI(r),n=Ci().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:aI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},tI.get());function g(){Ci().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class e0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(r,e,n,s=uI,o=cI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...lI,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=tT(y)?hI:n),WE(y)&&(e=e||fI,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[L,Y])=>`${A}${L}=${Y},`,"");if(Q2(y)&&m!=="_self")return mI(e||"",m),new e0(null);const b=window.open(e||"",m,E);ve(b,r,"popup-blocked");try{b.focus()}catch{}return new e0(b)}function mI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const pI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function t0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof xh){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",gR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof ru){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${yI}=${encodeURIComponent(g)}`:"";return`${_I(r)}?${nu(m).slice(1)}${y}`}function _I({config:r}){return r.emulator?rp(r,gI):`https://${r.authDomain}/${pI}`}const am="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=bT,this._overrideRedirectResult=zC}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await t0(e,n,s,bm(),o);return dI(e,u,up())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await t0(e,n,s,bm(),o);return TC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oI(e),s=new GC(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$C(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||eT()||op()}}const EI=vI;var n0="@firebase/auth",i0="1.12.0";class TI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(r){ro(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(r)},y=new Z2(s,o,u,g);return rC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Ys("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(s=>new TI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(n0,i0,bI(r)),Wr(n0,i0,"esm2020")}const wI=300,AI=LE("authIdTokenMaxAge")||wI;let r0=null;const RI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AI)return;const o=n?.token;r0!==o&&(r0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CI(r=HE()){const e=tp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=iC(r,{popupRedirectResolver:EI,persistence:[NC,_C,mT]}),s=LE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RI(u.toString());dC(n,f,()=>f(n.currentUser)),fC(n,m=>f(m))}}const o=VE("auth");return o&&sC(n,`http://${o}`),n}function II(){return document.getElementsByTagName("head")?.[0]??document}W2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",II().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var xI="firebase",NI="12.9.0";Wr(xI,NI,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,wT;(function(){var r;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,P){for(var R=Array(arguments.length-2),We=2;We<arguments.length;We++)R[We-2]=arguments[We];return w.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],D=I.g[2];let P=I.g[3],R;R=w+(P^C&(D^P))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(D^w&(C^D))+V[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(C^P&(w^C))+V[2]+606105819&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(w^D&(P^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(P^C&(D^P))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(D^w&(C^D))+V[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(C^P&(w^C))+V[6]+2821735955&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(w^D&(P^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(P^C&(D^P))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(D^w&(C^D))+V[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(C^P&(w^C))+V[10]+4294925233&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(w^D&(P^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(P^C&(D^P))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(D^w&(C^D))+V[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(C^P&(w^C))+V[14]+2792965006&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(w^D&(P^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^P&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(w^C))+V[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(P^w))+V[11]+643717713&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(D^P))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^P&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(w^C))+V[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(P^w))+V[15]+3634488961&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(D^P))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^P&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(w^C))+V[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(P^w))+V[3]+4107603335&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(D^P))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^P&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(w^C))+V[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(P^w))+V[7]+1735328473&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(D^P))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^P)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^D)+V[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^C)+V[11]+1839030562&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^P)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^D)+V[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^C)+V[7]+4139469664&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^P)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^D)+V[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^C)+V[3]+3572445317&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^P)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^D)+V[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^C)+V[15]+530742520&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~P))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~D))+V[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~C))+V[14]+2878612391&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~P))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~D))+V[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~C))+V[10]+4293915773&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~P))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~D))+V[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~C))+V[6]+2734768916&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~P))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~D))+V[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~C))+V[2]+718787259&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=C;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(V[D++]=I.charCodeAt(P++),D==this.blockSize){o(this,V),D=0;break}}else for(;P<w;)if(V[D++]=I[P++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function u(I,w){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function f(I,w){this.h=w;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const P=I[D]|0;V&&P==w||(C[D]=P,V=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return H(y(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return H(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=b;for(let P=0;P<I.length;P+=8){var D=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var b=g(0),A=g(1),L=g(16777216);r=f.prototype,r.m=function(){if($(this))return-H(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Y(this))return"0";if($(this))return"-"+H(this).toString(I);const w=y(Math.pow(I,6));var C=this;let V="";for(;;){const D=he(C,w).g;C=ne(C,D.j(w));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Y(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Y(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function $(I){return I.h==-1}r.l=function(I){return I=ne(this,I),$(I)?-1:Y(I)?0:1};function H(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new f(C,~I.h).add(A)}r.abs=function(){return $(this)?H(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let P=V+(this.i(D)&65535)+(I.i(D)&65535),R=(P>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,P&=65535,R&=65535,C[D]=R<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(I,w){return I.add(H(w))}r.j=function(I){if(Y(this)||Y(I))return b;if($(this))return $(I)?H(this).j(H(I)):H(H(this).j(I));if($(I))return H(this.j(H(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const P=this.i(V)>>>16,R=this.i(V)&65535,We=I.i(D)>>>16,Nt=I.i(D)&65535;C[2*V+2*D]+=R*Nt,ee(C,2*V+2*D),C[2*V+2*D+1]+=P*Nt,ee(C,2*V+2*D+1),C[2*V+2*D+1]+=R*We,ee(C,2*V+2*D+1),C[2*V+2*D+2]+=P*We,ee(C,2*V+2*D+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new f(C,0)};function ee(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ie(I,w){this.g=I,this.h=w}function he(I,w){if(Y(w))throw Error("division by zero");if(Y(I))return new ie(b,b);if($(I))return w=he(H(I),w),new ie(H(w.g),H(w.h));if($(w))return w=he(I,H(w)),new ie(H(w.g),w.h);if(I.g.length>30){if($(I)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,V=w;V.l(I)<=0;)C=ge(C),V=ge(V);var D=Ee(C,1),P=Ee(V,1);for(V=Ee(V,2),C=Ee(C,2);!Y(V);){var R=P.add(V);R.l(I)<=0&&(D=D.add(C),P=R),V=Ee(V,1),C=Ee(C,1)}return w=ne(I,D.j(w)),new ie(D,w)}for(D=b;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(C),R=P.j(w);$(R)||R.l(I)>0;)C-=V,P=y(C),R=P.j(w);Y(P)&&(P=A),D=D.add(P),I=ne(I,R)}return new ie(D,I)}r.B=function(I){return he(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new f(C,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new f(C,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new f(C,this.h^I.h)};function ge(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(C,I.h)}function Ee(I,w){const C=w>>5;w%=32;const V=I.g.length-C,D=[];for(let P=0;P<V;P++)D[P]=w>0?I.i(P+C)>>>w|I.i(P+C+1)<<32-w:I.i(P+C);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ts=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AT,Nl,RT,Wc,Am,CT,IT,xT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,F){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return p.prototype[U].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function Y(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const F=U.length||0;c.length=v+F;for(let re=0;re<F;re++)c[v+re]=U[re]}else c.push(U)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,v){const S=ie.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new $(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Ee=!1,I=new ee,w=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){H(v)}var p=ie;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function We(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(We,D),We.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Ge(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let F=0;F<Z.length;F++)v=Z[F],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,p,v,S,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ce(c,p,S,U);return re>-1?(p=c[re],v||(p.fa=!1)):(p=new se(p,this.src,F,!!S,U),p.fa=v,c.push(p)),p};function Te(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(me(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,p,v,S){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==S)return U}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Dt={};function rt(c,p,v,S,U){if(Array.isArray(p)){for(let F=0;F<p.length;F++)rt(c,p[F],v,S,U);return null}return v=wo(v),c&&c[Nt]?c.J(p,v,m(S)?!!S.capture:!1,U):hs(c,p,v,!1,S,U)}function hs(c,p,v,S,U,F){if(!p)throw Error("Invalid event type");const re=m(U)?!!U.capture:!!U;let Ae=fs(c);if(Ae||(c[Pe]=Ae=new le(c)),v=Ae.add(p,v,S,re,F),v.proxy)return v;if(S=ra(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(U=re),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(ri(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ra(){function c(v){return p.call(c.src,c.listener,v)}const p=bo;return c}function sa(c,p,v,S,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)sa(c,p[F],v,S,U);else S=m(S)?!!S.capture:!!S,v=wo(v),c&&c[Nt]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],v=Ce(p,v,S,U),v>-1&&(me(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=fs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,v,S,U)),(v=c>-1?p[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Nt])Te(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(ri(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=fs(p))?(Te(v,c),v.h==0&&(v.src=null,p[Pe]=null)):me(c)}}}function ri(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function bo(c,p){if(c.da)c=!0;else{p=new We(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&aa(c),c=v.call(S,p)}return c}function fs(c){return c=c[Pe],c instanceof le?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[So]||(c[So]=function(p){return c.handleEvent(p)}),c[So])}function _t(){V.call(this),this.i=new le(this),this.M=this,this.G=null}b(_t,V),_t.prototype[Nt]=!0,_t.prototype.removeEventListener=function(c,p,v,S){sa(this,c,p,v,S)};function Ot(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var U=p;p=new D(S,c),ae(p,U)}U=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=p.g=v[re],U=hr(F,S,!0,p)&&U;if(F=p.g=c,U=hr(F,S,!0,p)&&U,U=hr(F,S,!1,p)&&U,v)for(re=0;re<v.length;re++)F=p.g=v[re],U=hr(F,S,!1,p)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[p],c.h--}}this.G=null},_t.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},_t.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function hr(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let F=0;F<p.length;++F){const re=p[F];if(re&&!re.da&&re.capture==v){const Ae=re.listener,mt=re.ha||re.src;re.fa&&Te(c.i,re),U=Ae.call(mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Qh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function hu(c){c.g=Qh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){V.call(this),this.h=c,this.g={}}b(ds,V);var Ao=[];function Ro(c){je(c.g,function(p,v){this.g.hasOwnProperty(v)&&aa(p)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),Ro(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=f.JSON.stringify,Kh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}b(Bt,D);function wn(){D.call(this,"c")}b(wn,D);var dt={},pu=null;function oa(){return pu=pu||new _t}dt.Ia="serverreachability";function gu(c){D.call(this,dt.Ia,c)}b(gu,D);function si(c){const p=oa();Ot(p,new gu(p))}dt.STAT_EVENT="statevent";function ms(c,p){D.call(this,dt.STAT_EVENT,c),this.stat=p}b(ms,D);function vt(c){const p=oa();Ot(p,new ms(p,c))}dt.Ja="timingevent";function ai(c,p){D.call(this,dt.Ja,c),this.size=p}b(ai,D);function oi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Yh(c,p,v,S,U,F){c.info(function(){if(c.g)if(F){var re="",Ae=F.split("&");for(let He=0;He<Ae.length;He++){var mt=Ae[He].split("=");if(mt.length>1){const st=mt[0];mt=mt[1];const In=st.split("_");re=In.length>=2&&In[1]=="type"?re+(st+"="+mt+"&"):re+(st+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+re})}function yu(c,p,v,S,U,F,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+F+" "+re})}function li(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Xh(c,v)+(S?" "+S:"")})}function ps(c,p){c.info(function(){return"TIMEOUT: "+p})}qn.prototype.info=function(){};function Xh(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return fr(F)}catch{return p}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Io;function ys(){}b(ys,du),ys.prototype.g=function(){return new XMLHttpRequest},Io=new ys;function ki(c){return encodeURIComponent(String(c))}function _u(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Fn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function ui(c,p,v){c.M=1,c.A=_s(bt(p)),c.u=v,c.R=!0,la(c,null)}function la(c,p){c.F=Date.now(),ci(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),fa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=Mu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ao[0]=U.toString()),U=Ao);for(let F=0;F<U.length;F++){const re=rt(v,U[F],S||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),si(),Yh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Yn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ae!=4||mt==7||(mt==8||He<=0?si(3):si(2)),hi(this);var p=this.g.ca();this.X=p;var v=$h(this);if(this.o=p==200,yu(this.i,this.v,this.B,this.l,this.S,Ae,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break t}}F=null}if(c=F)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),An(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=Eu(this,v),st==Lt){Ae==4&&(this.m=4,vt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Et){this.m=4,vt(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,st,null),fi(this,st);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(re),re.P=!0,vt(11))}}else li(this.i,this.l,v,null),fi(this,v);Ae==4&&mn(this),this.o&&!this.K&&(Ae==4?xu(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),An(this)}}}catch{}};function $h(c){if(!vu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let v="";const S=p.length,U=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),An(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<S;F++)c.h.h=!0,v+=c.h.i.decode(p[F],{stream:!(U&&F==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Lt:(v=Number(p.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>p.length?Lt:(p=p.slice(S,S+v),c.C=S+v,p)))}Fn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),p)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(si(),vt(17)),mn(this),this.m=2,An(this)):ua(this,this.T-c)};function An(c){c.j.I==0||c.K||xu(c.j,c)}function mn(c){hi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ro(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function fi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Er(v);else break e;As(v),vt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ya(v),!R(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let He=U[p];const st=He[0];if(!(st<=v.K))if(v.K=st,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const In=He[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ti=He[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=He[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const $n=c.g;if($n){const Rs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var F=S.h;F.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Do(F,F.h),F.h=null))}if(S.G){const _a=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(S.wa=_a,Qe(S.J,S.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Ou(S,S.L?S.ba:null,S.W),re.L){Oo(S.h,re);var Ae=re,mt=S.O;mt&&(Ae.H=mt),Ae.D&&(hi(Ae),ci(Ae)),S.g=re}else Cu(S);v.i.length>0&&vi(v)}else He[0]!="stop"&&He[0]!="close"||Ei(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ei(v,7):Bo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}si(4)}catch{}}var Tt=class{constructor(c,p){this.g=c,this.map=p}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Do(c,p){c.g?c.g.add(p):c.h=p}function Oo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xo.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return L(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,F=null;S>=0?(U=c[v].substring(0,S),F=c[v].substring(S+1)):U=c[v],p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,Vo(this,Au(c.i)),this.m=c.m):c&&(p=String(c).match(Tu))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=pi(p[2]||""),this.g=pi(p[3]||"",!0),dr(this,p[4]),this.h=pi(p[5]||"",!0),Vo(this,p[6]||"",!0),this.m=pi(p[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(vs(p,ha,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vs(p,ha,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?ko:bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,Su)),c.join("")},pn.prototype.resolve=function(c){const p=bt(this);let v=!!c.j;v?Pt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)dr(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let re=0;re<U.length;){const Ae=U[re++];Ae=="."?S&&re==U.length&&F.push(""):Ae==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&re==U.length&&F.push("")):(F.push(Ae),S=!0)}S=F.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Vo(p,Au(c.i)):v=!!c.m,v&&(p.m=c.m),p};function bt(c){return new pn(c)}function Pt(c,p,v){c.j=v?pi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Vo(c,p,v){p instanceof pr?(c.i=p,da(c.i,c.l)):(v||(p=vs(p,mr)),c.i=new pr(p,c.l))}function Qe(c,p,v){c.i.set(p,v)}function _s(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,bu=/[#\?:]/g,ko=/[#\?]/g,mr=/[#\?@]/g,Su=/#/g;function pr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(c,p){an(this),this.i=null,c=gr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function wu(c,p){an(c),p=gr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Lo(c,p){return an(c),p=gr(c,p),c.g.has(p)}r.forEach=function(c,p){an(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function Po(c,p){an(c);let v=[];if(typeof p=="string")Lo(c,p)&&(v=v.concat(c.g.get(gr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return an(this),this.i=null,c=gr(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Po(this,c),c.length>0?String(c[0]):p):p};function fa(c,p,v){wu(c,p),v.length>0&&(c.i=null,c.g.set(gr(c,p),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=ki(v);v=Po(this,v);for(let F=0;F<v.length;F++){let re=U;v[F]!==""&&(re+="="+ki(v[F])),c.push(re)}}return this.i=c.join("&")};function Au(c){const p=new pr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function gr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function da(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(wu(this,S),fa(this,U,v))},c)),c.j=p}function Qn(c,p){const v=new qn;if(f.Image){const S=new Image;S.onload=E(Rn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Rn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(Rn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Uo(c,p){const v=new qn,S=new AbortController,U=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Rn(v,"TestPingServer: ok",!0,p):Rn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,p)})}function Rn(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function yr(){this.g=new fu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(gi,du),gi.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,p){_t.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Es,_t),r=Es.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_r(this):Kn(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Na=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let p="";return je(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Ts(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Cn(v),typeof c=="string"?v!=null&&ki(v):Qe(c,p,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,_t);var yi=/^https?$/i,jo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Io.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){bs(this,F);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(jo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){bs(this,F)}};function bs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zo(c),Li(c)}function zo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ss(this):this.Xa())},r.Xa=function(){Ss(this)};function Ss(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=F===0){let re=String(c.D).match(Tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!yi.test(re?re.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Yn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",zo(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Kh(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var v=_u(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[U]||[];p[U]=F,F.push(v)}Ge(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function vr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,S){vt(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ou(this,null,this.W),vi(this)};function Bo(c){if(pa(c),c.I==3){var p=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",p),Qe(v,"TYPE","terminate"),ws(c,v),p=new Fn(c,c.j,p),p.M=2,p.A=_s(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Mu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ci(p)}Du(c)}function Er(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function pa(c){Er(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!No(c.h)&&!c.m){c.m=!0;var p=c.Ea;ge||w(),Ee||(ge(),Ee=!0),I.add(p,c),c.D=0}}function ga(c,p){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,p),Nu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ru(this,U,p),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),ws(this,v),F&&(this.R?p="headers="+ki(Cn(F))+"&"+p:this.u&&Ts(v,this.u,F)),Do(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",p),Qe(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,p),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||No(this.h)||Ho(this))};function Ho(c,p){var v;p?v=p.l:v=c.V++;const S=bt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),ws(c,S),c.u&&c.o&&Ts(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,v),ui(v,S,p)}function ws(c,p){c.H&&je(c.H,function(v,S){Qe(p,S,v)}),c.l&&je({},function(v,S){Qe(p,S,v)})}function Ru(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ae=-1;for(;;){const mt=["count="+v];Ae==-1?v>0?(Ae=U[0].g,mt.push("ofs="+Ae)):Ae=0:mt.push("ofs="+Ae);let He=!0;for(let st=0;st<v;st++){var F=U[st].g;const In=U[st].map;if(F-=Ae,F<0)Ae=Math.max(0,U[st].g-100),He=!1;else try{F="req"+F+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[Ti,Xn]of re){let $n=Xn;m(Xn)&&($n=fr(Xn)),mt.push(F+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw mt.push(F+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(In)}}if(He){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),p.G=c,re}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ge||w(),Ee||(ge(),Ee=!0),I.add(p,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Nu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Er(this),Iu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=bt(c.na);Qe(p,"RID","rpc"),Qe(p,"SID",c.M),Qe(p,"AID",c.K),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(p,"TO",c.ia),Qe(p,"TYPE","xmlhttp"),ws(c,p),c.u&&c.o&&Ts(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_s(bt(p)),v.u=null,v.R=!0,la(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),As(this),vt(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,p){var v=null;if(c.g==p){ya(c),qo(c),c.g=null;var S=2}else if(mi(c.h,p))v=p.G,Oo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=oa(),Ot(S,new ai(S,v)),vi(c)}else Cu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&ga(c,p)||S==2&&As(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Nu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ei(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),_s(S),U?Qn(S.toString(),v):Uo(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(p),Du(c),pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const p=Mo(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Ou(c,p,v){var S=v instanceof pn?bt(v):new pn(v);if(S.g!="")p&&(S.g=p+"."+S.g),dr(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const F=new pn(null);S&&Pt(F,S),p&&(F.g=p),U&&dr(F,U),v&&(F.h=v),S=F}return v=c.G,p=c.wa,v&&p&&Qe(S,v,p),Qe(S,"VER",c.ka),ws(c,S),S}function Mu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new gi({ab:v})):new Xe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){_t.call(this),this.g=new vr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ui(this)}b(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Bo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fr(c),c=v);p.i.push(new Tt(p.Ya++,c)),p.I==3&&vi(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,nn.Z.N.call(this)};function ku(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(ku,Bt);function Lu(){wn.call(this),this.status=1}b(Lu,wn);function Ui(c){this.g=c}b(Ui,Vu),Ui.prototype.ra=function(){Ot(this.g,"a")},Ui.prototype.qa=function(c){Ot(this.g,new ku(c))},Ui.prototype.pa=function(c){Ot(this.g,new Lu)},Ui.prototype.oa=function(){Ot(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,xT=function(){return new Tr},IT=function(){return oa()},CT=dt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Wc=gs,Co.COMPLETE="complete",RT=Co,mu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Nl=mu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,AT=Xe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let _o="12.9.0";function DI(r){_o=r}const $s=new Wm("@firebase/firestore");function Xa(){return $s.logLevel}function oe(r,...e){if($s.logLevel<=Me.DEBUG){const n=e.map(fp);$s.debug(`Firestore (${_o}): ${r}`,...n)}}function lr(r,...e){if($s.logLevel<=Me.ERROR){const n=e.map(fp);$s.error(`Firestore (${_o}): ${r}`,...n)}}function Js(r,...e){if($s.logLevel<=Me.WARN){const n=e.map(fp);$s.warn(`Firestore (${_o}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,NT(r,s,n)}function NT(r,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||NT(e,o,s)}function we(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new DT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class kI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Ve(o,u):om(o)?1:-1}return Ve(r.length,e.length)}const jI=55296,zI=57343;function om(r){const e=r.charCodeAt(0);return e>=jI&&e<=zI}function ao(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const o0="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class lt extends Ri{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new Yt([o0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(lt.fromString(e))}static fromName(e){return new pe(lt.fromString(e).popFirst(5))}static empty(){return new pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new lt(e.slice()))}}function HI(r,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qI(r,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function l0(r){if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Gl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function au(r,e){if(!OT(r))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const u0=-62135596800,c0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*c0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:xt("string",it._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function FI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new rs(o,pe.empty(),e)}function GI(r){return new rs(r.readTime,r.key,Ql)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(be.min(),pe.empty(),Ql)}static max(){return new rs(be.max(),pe.empty(),Ql)}}function QI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==KI)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new W(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function XI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const pp=-1;function Mh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function $I(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const MT="";function JI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=h0(e)),e=ZI(r.get(n),e);return h0(e)}function ZI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case MT:n+="";break;default:n+=u}}return n}function h0(r){return r+MT+""}function f0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ea(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function VT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new ti([])}unionWith(e){let n=new kt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=WI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const LT="server_timestamp",PT="__type__",UT="__previous_value__",jT="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===LT}function Vh(r){const e=r.mapValue.fields[UT];return gp(e)?Vh(e):e}function Kl(r){const e=ss(r.mapValue.fields[jT].timestampValue);return new it(e.seconds,e.nanos)}class ex{constructor(e,n,s,o,u,f,m,g,y,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const ph="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}function tx(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(r.options.projectId,e)}const zT="__type__",nx="__max__",Fc={mapValue:{}},BT="__vector__",gh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:rx(r)?9007199254740991:ix(r)?10:11:_e(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(f)!==f0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find((n=>Oi(n,e)))!==void 0}function oo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return m0(r.timestampValue,e.timestampValue);case 4:return m0(Kl(r),Kl(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),g=as(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ve(m[y],g[y]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(yt(u.latitude),yt(f.latitude));return m!==0?m:Ve(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return p0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[gh]?.arrayValue,E=g[gh]?.arrayValue,b=Ve(y?.values?.length||0,E?.values?.length||0);return b!==0?b:p0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const A=Rm(g[b],E[b]);if(A!==0)return A;const L=oo(m[g[b]],y[E[b]]);if(L!==0)return L}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function m0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ss(r),s=ss(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function p0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function lo(r){return Cm(r)}function Cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Cm(n.fields[f])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function eh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ea(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function Im(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function g0(r){return!!r&&"nullValue"in r}function y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function ix(r){return(r?.mapValue?.fields||{})[zT]?.stringValue===BT}function Ll(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ea(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ll(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return{...r}}function rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ea(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Un(Ll(this.value))}}function HT(r){const e=[];return ea(r.fields,((n,s)=>{const o=new Yt([n]);if(th(s)){const u=HT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ti(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),Un.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function _0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function v0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function sx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class qT{}class Vt extends qT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ox(e,n,s):n==="array-contains"?new cx(e,s):n==="in"?new hx(e,s):n==="not-in"?new fx(e,s):n==="array-contains-any"?new dx(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lx(e,s):new ux(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return FT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(r){return r.op==="and"}function GT(r){return ax(r)&&FT(r)}function ax(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function xm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(GT(r))return r.filters.map((e=>xm(e))).join(",");{const e=r.filters.map((n=>xm(n))).join(",");return`${r.op}(${e})`}}function QT(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,e):r instanceof Mi?(function(s,o){return o instanceof Mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&QT(f,o.filters[m])),!0):!1})(r,e):void _e(19439)}function KT(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"})(r):"Filter"}class ox extends Vt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class lx extends Vt{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ux extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class cx extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&Xl(n.arrayValue,this.value)}}class hx extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class fx extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class dx extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xl(this.value.arrayValue,s)))}}class mx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function E0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new mx(r,e,n,s,o,u,f)}function _p(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>lo(s))).join(",")),e.Te=n}return e.Te}function vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!QT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!v0(r.startAt,e.startAt)&&v0(r.endAt,e.endAt)}function Nm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class kh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function px(r,e,n,s,o,u,f,m){return new kh(r,e,n,s,o,u,f,m)}function Ep(r){return new kh(r)}function T0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gx(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function yx(r){return r.collectionGroup!==null}function Pl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _h(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new _h(Yt.keyField(),s))}return e.Ie}function Ii(r){const e=we(r);return e.Ee||(e.Ee=_x(e,Pl(r))),e.Ee}function _x(r,e){if(r.limitType==="F")return E0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)}));const n=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return E0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e,n){return new kh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Lh(r,e){return vp(Ii(r),Ii(e))&&r.limitType===e.limitType}function XT(r){return`${_p(Ii(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>KT(o))).join(", ")}]`),Mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Ph(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=_0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Pl(s),o)||s.endAt&&!(function(f,m,g){const y=_0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Pl(s),o))})(r,e)}function vx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $T(r){return(e,n)=>{let s=!1;for(const o of Pl(r)){const u=Ex(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Ex(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?oo(g,y):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}const Tx=new ut(pe.comparator);function ur(){return Tx}const JT=new ut(pe.comparator);function Dl(...r){let e=JT;for(const n of r)e=e.insert(n.key,n);return e}function ZT(r){let e=JT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return Ul()}function WT(){return Ul()}function Ul(){return new ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const bx=new ut(pe.comparator),Sx=new kt(pe.comparator);function ke(...r){let e=Sx;for(const n of r)e=e.add(n);return e}const wx=new kt(Ve);function Ax(){return wx}function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function e1(r){return{integerValue:""+r}}function Rx(r,e){return $I(e)?e1(e):Tp(r,e)}class Uh{constructor(){this._=void 0}}function Cx(r,e,n){return r instanceof vh?(function(o,u){const f={fields:{[PT]:{stringValue:LT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Vh(u)),u&&(f.fields[UT]=u),{mapValue:f}})(n,e):r instanceof $l?n1(r,e):r instanceof Jl?i1(r,e):(function(o,u){const f=t1(o,u),m=b0(f)+b0(o.Ae);return Im(f)&&Im(o.Ae)?e1(m):Tp(o.serializer,m)})(r,e)}function Ix(r,e,n){return r instanceof $l?n1(r,e):r instanceof Jl?i1(r,e):n}function t1(r,e){return r instanceof Eh?(function(s){return Im(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vh extends Uh{}class $l extends Uh{constructor(e){super(),this.elements=e}}function n1(r,e){const n=r1(e);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Jl extends Uh{constructor(e){super(),this.elements=e}}function i1(r,e){let n=r1(e);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class Eh extends Uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b0(r){return yt(r.integerValue||r.doubleValue)}function r1(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Jl&&o instanceof Jl?ao(s.elements,o.elements,Oi):s instanceof Eh&&o instanceof Eh?Oi(s.Ae,o.Ae):s instanceof vh&&o instanceof vh})(r.transform,e.transform)}class Nx{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jh{}function s1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new o1(r.key,rr.none()):new ou(r.key,r.data,rr.none());{const n=r.data,s=Un.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new na(r.key,s,new ti(o.toArray()),rr.none())}}function Dx(r,e,n){r instanceof ou?(function(o,u,f){const m=o.value.clone(),g=w0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof na?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(a1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function jl(r,e,n,s){return r instanceof ou?(function(u,f,m,g){if(!nh(u.precondition,f))return m;const y=u.value.clone(),E=A0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof na?(function(u,f,m,g){if(!nh(u.precondition,f))return m;const y=A0(u.fieldTransforms,g,f),E=f.data;return E.setAll(a1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Ox(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=t1(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function S0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>xx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function a1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function w0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Ix(f,m,n[o]))}return s}function A0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Cx(u,f,e))}return s}class o1 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Dx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=WT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=s1(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((n,s)=>S0(n,s)))&&ao(this.baseMutations,e.baseMutations,((n,s)=>S0(n,s)))}}class bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return bx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bp(e,n,s,o)}}class kx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Lx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function Px(r){switch(r){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function l1(r){if(r===void 0)return lr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function Ux(){return new TextEncoder}const jx=new ts([4294967295,4294967295],0);function R0(r){const e=Ux().encode(r),n=new wT;return n.update(e),new Uint8Array(n.digest())}function C0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(jx)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=R0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new zh(be.min(),o,new ut(Ve),ur(),ke())}}class lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lu(s,n,ke(),ke(),ke())}}class ih{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class u1{constructor(e,n){this.targetId=e,this.Ce=n}}class c1{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class I0{constructor(){this.ve=0,this.Fe=x0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new lu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=x0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.He=Gc(),this.Je=Gc(),this.Ze=new ut(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Wt.newNoDocument(f,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(g){if(g instanceof kT)return Js("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Sp(f,o,u)}catch(g){return Js(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Nm(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new zh(e,n,this.Ze,this.je,s);return this.je=ur(),this.He=Gc(),this.Je=Gc(),this.Ze=new ut(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new I0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ut(pe.comparator)}function x0(){return new ut(pe.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},Hx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qx={and:"AND",or:"OR"};class Fx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(r,e){return r.useProto3Json||Mh(e)?e:{value:e}}function Th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Gx(r,e){return Th(r,e.toTimestamp())}function xi(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=ss(n);return new it(s.seconds,s.nanos)})(r))}function wp(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function f1(r){const e=lt.fromString(r);return Fe(y1(e),10190,{key:e.toString()}),e}function Vm(r,e){return wp(r.databaseId,e.path)}function lm(r,e){const n=f1(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(m1(n))}function d1(r,e){return wp(r.databaseId,e)}function Qx(r){const e=f1(r);return e.length===4?lt.emptyPath():m1(e)}function km(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function m1(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function N0(r,e,n){return{name:Vm(r,e),fields:n.value.mapValue.fields}}function Kx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?te.UNKNOWN:l1(y.code);return new fe(E,y.message||"")})(f);n=new c1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):be.min(),m=new Un({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?xi(s.readTime):be.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Lx(o,u),m=s.targetId;n=new u1(m,f)}}return n}function Yx(r,e){let n;if(e instanceof ou)n={update:N0(r,e.key,e.value)};else if(e instanceof o1)n={delete:Vm(r,e.key)};else if(e instanceof na)n={update:N0(r,e.key,e.data),updateMask:iN(e.fieldMask)};else{if(!(e instanceof Mx))return _e(16599,{dt:e.type});n={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Gx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function Xx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(be.min())&&(f=xi(u)),new Nx(f,o.transformResults||[])})(n,e)))):[]}function $x(r,e){return{documents:[d1(r,e.path)]}}function Jx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=d1(r,o);const u=(function(y){if(y.length!==0)return g1(Mi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(A){return{field:Ja(A.field),direction:eN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Zx(r){let e=Qx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const A=p1(b);return A instanceof Mi&&GT(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((A=>(function(Y){return new _h(Za(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Mh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(b){const A=!!b.before,L=b.values||[];return new yh(L,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const A=!b.before,L=b.values||[];return new yh(L,A)})(n.endAt)),px(e,o,f,u,m,"F",g,y)}function Wx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((s=>p1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function eN(r){return Bx[r]}function tN(r){return Hx[r]}function nN(r){return qx[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Za(r){return Yt.fromServerFormat(r.fieldPath)}function g1(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:tN(n.op),value:n.value}}})(r):r instanceof Mi?(function(n){const s=n.getFilters().map((o=>g1(o)));return s.length===1?s[0]:{compositeFilter:{op:nN(n.op),filters:s}}})(r):_e(54877,{filter:r})}function iN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function y1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function _1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Xr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rN{constructor(e){this.yt=e}}function sN(r){const e=Zx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dm(e,e.limit,"L"):e}class aN{constructor(){this.Sn=new oN}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(rs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class oN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(lt.comparator)).toArray()}}const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(v1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new uo(0)}static ar(){return new uo(-1)}}const O0="LruGarbageCollector",lN=1048576;function M0([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class uN{constructor(e){this.Pr=e,this.buffer=new kt(M0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();M0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(O0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?oe(O0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Ar(3e5)}))}}class hN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Oh.ce);const s=new uN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(D0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Xa()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function fN(r,e){return new hN(r,e)}class dN{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&jl(s.mutation,o,ti.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Dl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=Ul(),m=(function(){return Ul()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof na)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),jl(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new mN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||ti.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=WT();E.forEach((A=>{if(!u.has(A)){const L=s1(n.get(A),s.get(A));L!==null&&b.set(A,L),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return gx(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Gs());let m=Ql,g=u;return f.next((y=>W.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((E=>({batchId:m,changes:ZT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(g=>{const y=(function(b,A){return new kh(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,A)=>{f=f.insert(b,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Dl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&jl(E.mutation,y,ti.empty(),it.now()),Ph(n,y)&&(m=m.insert(g,y))})),m}))}}class gN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:sN(o.bundledQuery),readTime:xi(o.readTime)}})(n)),W.resolve()}}class yN{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Gs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Gs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kx(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class _N{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class Ap{constructor(){this.kr=new kt(jt.Kr),this.qr=new kt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new pe(new lt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new lt([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class vN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(jt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Vx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?pp:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new jt(new pe(u),0);let m=new kt(Ve);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),W.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new jt(n,0),o=this.Jr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class EN{constructor(e){this.ti=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||QI(GI(E),s)<=0||(o.has(E.key)||Ph(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ni(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new TN(this)}getSize(e){return W.resolve(this.size)}}class TN extends dN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class bN{constructor(e){this.persistence=e,this.ri=new ta((n=>_p(n)),vp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Ap,this.targetCount=0,this.oi=uo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class E1{constructor(e,n){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new _N,this.referenceDelegate=e(this),this.li=new bN(this),this.indexManager=new aN,this.remoteDocumentCache=(function(o){return new EN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new rN(n),this.Pi=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new vN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new SN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class SN extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new Ap,this.Ai=null}static Vi(e){return new Rp(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const o=pe.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.fi=new ta((s=>JI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=fN(this,n)}static Vi(e,n){return new bh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}wr(e,n,s){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}class wN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cR()?8:XI(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Xa()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Xa()<=Me.DEBUG&&oe("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Xa()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):W.resolve())}gs(e,n){if(T0(n))return W.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,Dm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return T0(n)||o.isEqual(be.min())?W.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?W.resolve(null):(Xa()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.Ds(e,f,n,FI(o,Ql)).next((m=>m)))}))}bs(e,n){let s=new kt($T(e));return n.forEach(((o,u)=>{Ph(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Xa()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",$a(n)),this.fs.getDocumentsMatchingQuery(e,n,rs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ip="LocalStore",RN=3e8;class CN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ve),this.Fs=new ta((u=>_p(u)),vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function IN(r,e,n,s){return new CN(r,e,n,s)}async function T1(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function xN(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const b=y.batch,A=b.keys();let L=W.resolve();return A.forEach((Y=>{L=L.next((()=>E.getEntry(g,Y))).next(($=>{const H=y.docVersions.get(Y);Fe(H!==null,48541),$.version.compareTo(H)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function b1(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function NN(r,e){const n=we(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const A=o.get(b);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function($,H,ne){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=RN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,L,E)&&m.push(n.li.updateTargetData(u,L))}));let g=ur(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(DN(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function DN(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):oe(Ip,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function ON(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function MN(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Lm(r,e,n){const s=we(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;oe(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function V0(r,e,n){const s=we(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const b=we(g),A=b.Fs.get(E);return A!==void 0?W.resolve(b.vs.get(A)):b.li.getTargetData(y,E)})(s,f,Ii(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke()))).next((m=>(VN(s,vx(e),m),{documents:m,ks:u})))))}function VN(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class k0{constructor(){this.activeTargetIds=Ax()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kN{constructor(){this.vo=new k0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new k0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LN{Mo(e){}shutdown(){}}const L0="ConnectivityMonitor";class P0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(L0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(L0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Pm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const um="RestConnection",PN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Pm(),m=this.Qo(e,n.toUriEncodedString());oe(um,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=mo(y);return this.zo(e,m,g,s,E).then((b=>(oe(um,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw Js(um,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=PN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class jN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",xl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class no extends UN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=IT();xl(e,CT.STAT_EVENT,(n=>{n.stat===Am.PROXY?oe(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Am.NOPROXY&&oe(Jt,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,n,s,o,u){const f=Pm();return new Promise(((m,g)=>{const y=new AT;y.setWithCredentials(!0),y.listenOnce(RT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wc.NO_ERROR:const b=y.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Wc.TIMEOUT:oe(Jt,`RPC '${e}' ${f} timed out`),g(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const A=y.getStatus();if(oe(Jt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L?.error;if(Y&&Y.status&&Y.message){const $=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ee)>=0?ee:te.UNKNOWN})(Y.status);g(new fe($,Y.message))}else g(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);oe(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Pm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");oe(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let b=!1,A=!1;const L=new jN({Ho:Y=>{A?oe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(b||(oe(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),oe(Jt,`RPC '${e}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return xl(E,Nl.EventType.OPEN,(()=>{A||(oe(Jt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),xl(E,Nl.EventType.CLOSE,(()=>{A||(A=!0,oe(Jt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),xl(E,Nl.EventType.ERROR,(Y=>{A||(A=!0,Js(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),L.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),xl(E,Nl.EventType.MESSAGE,(Y=>{if(!A){const $=Y.data[0];Fe(!!$,16349);const H=$,ne=H?.error||H[0]?.error;if(ne){oe(Jt,`RPC '${e}' stream ${o} received error:`,ne);const ee=ne.status;let ie=(function(Ee){const I=Ct[Ee];if(I!==void 0)return l1(I)})(ee),he=ne.message;ee==="NOT_FOUND"&&he.includes("database")&&he.includes("does not exist")&&he.includes(this.databaseId.database)&&Js(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ie===void 0&&(ie=te.INTERNAL,he="Unknown error status: "+ee+" with message "+ne.message),A=!0,L.o_(new fe(ie,he)),E.close()}else oe(Jt,`RPC '${e}' stream ${o} received:`,$),L.__($)}})),no.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xT()}}function zN(r){return new no(r)}function cm(){return typeof document<"u"?document:null}function Bh(r){return new Fx(r,!0)}no.c_=!1;class S1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const U0="PersistentStream";class w1{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(oe(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BN extends w1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Kx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?xi(f.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Nm(g)?{documents:$x(u,g)}:{query:Jx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=h1(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Th(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=Wx(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.K_(n)}}class HN extends w1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Xx(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Yx(this.serializer,s)))};this.K_(n)}}class qN{}class FN extends qN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Mm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Mm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function GN(r,e,n,s){return new FN(r,e,n,s)}class QN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zs="RemoteStore";class KN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{ia(this)&&(oe(Zs,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await uu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Hh(y)})(this))}))})),this.Va=new QN(s,o)}}async function Hh(r){if(ia(r))for(const e of r.Ra)await e(!0)}async function uu(r){for(const e of r.Ra)await e(!1)}function A1(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Dp(n):To(n).O_()&&Np(n,e))}function xp(r,e){const n=we(r),s=To(n);n.Ia.delete(e),s.O_()&&R1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Va.set("Unknown"))}function Np(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(r).Z_(e)}function R1(r,e){r.da.$e(e),To(r).X_(e)}function Dp(r){r.da=new zx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Va.ua()}function Op(r){return ia(r)&&!To(r).x_()&&r.Ia.size>0}function ia(r){return we(r).Ea.size===0}function C1(r){r.da=void 0}async function YN(r){r.Va.set("Online")}async function XN(r){r.Ia.forEach(((e,n)=>{Np(r,e)}))}async function $N(r,e){C1(r),Op(r)?(r.Va.ha(e),Dp(r)):r.Va.set("Unknown")}async function JN(r,e,n){if(r.Va.set("Online"),e instanceof c1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){oe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ih?r.da.Xe(e):e instanceof u1?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await b1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),R1(u,g);const b=new Xr(E.target,g,y,E.sequenceNumber);Np(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(Zs,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!Eo(e))throw e;r.Ea.add(1),await uu(r),r.Va.set("Offline"),n||(n=()=>b1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Zs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Hh(r)}))}function I1(r,e){return e().catch((n=>Sh(r,n,e)))}async function qh(r){const e=we(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pp;for(;ZN(e);)try{const o=await ON(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,WN(e,o)}catch(o){await Sh(e,o)}x1(e)&&N1(e)}function ZN(r){return ia(r)&&r.Ta.length<10}function WN(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function x1(r){return ia(r)&&!ls(r).x_()&&r.Ta.length>0}function N1(r){ls(r).start()}async function eD(r){ls(r).ra()}async function tD(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function nD(r,e,n){const s=r.Ta.shift(),o=bp.from(s,e,n);await I1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await qh(r)}async function iD(r,e){e&&ls(r).Y_&&await(async function(s,o){if((function(f){return Px(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await I1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qh(s)}})(r,e),x1(r)&&N1(r)}async function j0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),oe(Zs,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await uu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hh(n)}async function rD(r,e){const n=we(r);e?(n.Ea.delete(2),await Hh(n)):e||(n.Ea.add(2),await uu(n),n.Va.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new BN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:YN.bind(null,r),Yo:XN.bind(null,r),t_:$N.bind(null,r),J_:JN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Op(r)?Dp(r):r.Va.set("Unknown")):(await r.ma.stop(),C1(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new HN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eD.bind(null,r),t_:iD.bind(null,r),ta:tD.bind(null,r),na:nD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Eo(r))return new fe(te.UNAVAILABLE,`${e}: ${r}`);throw r}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class z0{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class co{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new co(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class sD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class aD{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=B0(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function B0(){return new ta((r=>XT(r)),Lh)}async function oD(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new sD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function lD(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function cD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Um,H0;(H0=Um||(Um={})).Ma="default",H0.Cache="cache";class hD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class D1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class fD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=$T(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new z0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const A=o.get(E),L=Ph(this.query,b)?b:null,Y=!!A&&this.mutatedKeys.has(A.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;A&&L?A.data.isEqual(L.data)?Y!==$&&(s.track({type:3,doc:L}),H=!0):this.su(A,L)||(s.track({type:2,doc:L}),H=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(m=!0)):!A&&L?(s.track({type:0,doc:L}),H=!0):A&&!L&&(s.track({type:1,doc:A}),H=!0,(g||y)&&(m=!0)),H&&(L?(f=f.add(L),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(L,Y){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:H})}};return $(L)-$(Y)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new co(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new O1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new D1(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lp="SyncEngine";class dD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mD{constructor(e){this.key=e,this.hu=!1}}class pD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((m=>XT(m)),Lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new Ap,this.du={},this.mu=new Map,this.fu=uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gD(r,e,n=!0){const s=U1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M1(s,e,n,!0),o}async function yD(r,e){const n=U1(r);await M1(n,e,!0,!1)}async function M1(r,e,n,s){const o=await MN(r.localStore,Ii(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _D(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&A1(r.remoteStore,o),m}async function _D(r,e,n,s,o){r.pu=(b,A,L)=>(async function($,H,ne,ee){let ie=H.view.ru(ne);ie.Ss&&(ie=await V0($.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,ie))));const he=ee&&ee.targetChanges.get(H.targetId),ge=ee&&ee.targetMismatches.get(H.targetId)!=null,Ee=H.view.applyChanges(ie,$.isPrimaryClient,he,ge);return F0($,H.targetId,Ee.au),Ee.snapshot})(r,b,A,L);const u=await V0(r.localStore,e,!0),f=new fD(e,u.ks),m=f.ru(u.documents),g=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);F0(r,n,y.au);const E=new dD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function vD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Lh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xp(s.remoteStore,o.targetId),jm(s,o.targetId)})).catch(vo)):(jm(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function ED(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xp(n.remoteStore,s.targetId))}async function TD(r,e,n){const s=ID(r);try{const o=await(function(f,m){const g=we(f),y=it.now(),E=m.reduce(((L,Y)=>L.add(Y.key)),ke());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=ur(),$=ke();return g.xs.getEntries(L,E).next((H=>{Y=H,Y.forEach(((ne,ee)=>{ee.isValidDocument()||($=$.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,Y))).next((H=>{b=H;const ne=[];for(const ee of m){const ie=Ox(ee,b.get(ee.key).overlayedDocument);ie!=null&&ne.push(new na(ee.key,ie,HT(ie.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,ne,m)})).next((H=>{A=H;const ne=H.applyToLocalDocumentSet(b,$);return g.documentOverlayCache.saveOverlays(L,H.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:ZT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await cu(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function V1(r,e){const n=we(r);try{const s=await NN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await cu(n,s,e)}catch(s){await vo(s)}}function q0(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,b)=>{for(const A of b.ba)A.va(m)&&(y=!0)})),y&&kp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const m=ke().add(u),g=new zh(be.min(),new Map,new ut(Ve),f,m);await V1(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Pp(s)}else await Lm(s.localStore,e,!1).then((()=>jm(s,e,n))).catch(vo)}async function SD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await xN(n.localStore,e);L1(n,s,null),k1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await vo(o)}}async function wD(r,e,n){const s=we(r);try{const o=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((b=>(Fe(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);L1(s,e,n),k1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cu(s,o)}catch(o){await vo(o)}}function k1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function L1(r,e,n){const s=we(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function jm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||P1(r,s)}))}function P1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(xp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Pp(r))}function F0(r,e,n){for(const s of n)s instanceof D1?(r.Vu.addReference(s.key,e),AD(r,s)):s instanceof O1?(oe(Lp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||P1(r,s.key)):_e(19791,{wu:s})}function AD(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(oe(Lp,"New document in limbo: "+n),r.Eu.add(s),Pp(r))}function Pp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(lt.fromString(e)),s=r.fu.next();r.Au.set(s,new mD(n)),r.Ru=r.Ru.insert(n,s),A1(r.remoteStore,new Xr(Ii(Ep(n.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function cu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Cp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(A=>W.forEach(A.Ts,(L=>E.persistence.referenceDelegate.addReference(b,A.targetId,L))).next((()=>W.forEach(A.Is,(L=>E.persistence.referenceDelegate.removeReference(b,A.targetId,L)))))))))}catch(b){if(!Eo(b))throw b;oe(Ip,"Failed to update sequence numbers: "+b)}for(const b of y){const A=b.targetId;if(!b.fromCache){const L=E.vs.get(A),Y=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(A,$)}}})(s.localStore,u))}async function RD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){oe(Lp,"User change. New user:",e.toKey());const s=await T1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Ns)}}function CD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function U1(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bD.bind(null,e),e.Pu.J_=uD.bind(null,e.eventManager),e.Pu.yu=cD.bind(null,e.eventManager),e}function ID(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wD.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IN(this.persistence,new AN,e.initialUser,this.serializer)}Cu(e){return new E1(Rp.Vi,this.serializer)}Du(e){return new kN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class xD extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new E1((s=>bh.Vi(s,n)),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await rD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aD})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),s=zN(e.databaseInfo);return GN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new KN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>q0(this.syncEngine,n,0)),(function(){return P0.v()?new P0:new LN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const b=new pD(o,u,f,m,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);oe(Zs,"RemoteStore shutting down."),s.Ea.add(5),await uu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class ND{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const us="FirestoreClient";class DD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await T1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function G0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OD(r);oe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>j0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>j0(e.remoteStore,o))),r._onlineComponents=e}async function OD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(us,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new wh)}}else oe(us,"Using default OfflineComponentProvider"),await hm(r,new xD(void 0));return r._offlineComponents}async function j1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(us,"Using user provided OnlineComponentProvider"),await G0(r,r._uninitializedComponentsProvider._online)):(oe(us,"Using default OnlineComponentProvider"),await G0(r,new zm))),r._onlineComponents}function MD(r){return j1(r).then((e=>e.syncEngine))}async function VD(r){const e=await j1(r),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=vD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),n}function kD(r,e,n={}){const s=new ns;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new ND({next:A=>{E.Nu(),f.enqueueAndForget((()=>lD(u,b)));const L=A.docs.has(m);!L&&A.fromCache?y.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&A.fromCache&&g&&g.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),b=new hD(Ep(m.path),E,{includeMetadataChanges:!0,Ka:!0});return oD(u,b)})(await VD(r),r.asyncQueue,e,n,s))),s.promise}function LD(r,e){const n=new ns;return r.asyncQueue.enqueueAndForget((async()=>TD(await MD(r),e,n))),n.promise}function z1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const PD="ComponentProvider",Q0=new Map;function UD(r,e,n,s,o){return new ex(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,z1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const B1="firestore.googleapis.com",K0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=K0}else this.host=e.host,this.ssl=e.ssl??K0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lN)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new OI;switch(s.type){case"firstParty":return new LI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Q0.get(n);s&&(oe(PD,"Removing Datastore"),Q0.delete(n),s.terminate())})(this),Promise.resolve()}}function jD(r,e,n,s={}){r=Gl(r,Up);const o=mo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(PE(`https://${m}`),UE("Firestore",!0)),u.host!==B1&&u.host!==m&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ks(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=tR(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(b)}r._authCredentials=new MI(new DT(y,E))}}class jp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jp(this.firestore,e,this._query)}}class zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(au(n,zt._jsonSchema))return new zt(e,s||null,new pe(lt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:xt("string",zt._jsonSchemaVersion),referencePath:xt("string")};class Zl extends jp{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function X0(r,e,...n){if(r=Bn(r),arguments.length===1&&(e=dp.newId()),HI("doc","path",e),r instanceof Up){const s=lt.fromString(e,...n);return l0(s),new zt(r,null,new pe(s))}{if(!(r instanceof zt||r instanceof Zl))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return l0(s),new zt(r.firestore,r instanceof Zl?r.converter:null,new pe(s))}}const $0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S1(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&oe($0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;oe($0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",Z0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Z0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class zp extends Up{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function zD(r,e){const n=typeof r=="object"?r:HE(),s=typeof r=="string"?r:ph,o=tp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=WA("firestore");u&&jD(o,...u)}return o}function H1(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BD(r),r._firestoreClient}function BD(r){const e=r._freezeSettings(),n=UD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new DD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Xt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:xt("string",jn._jsonSchemaVersion),bytes:xt("string")};class q1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class F1{constructor(e){this._methodName=e}}class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(au(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xt("string",Ni._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:xt("string",ii._jsonSchemaVersion),vectorValues:xt("object")};const HD=/^__.*__$/;class qD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}function G1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:r})}}class Bp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(G1(this.dataSource)&&HD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bh(e)}createContext(e,n,s,o=!1){return new Bp({dataSource:e,methodName:n,targetDoc:s,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GD(r){const e=r._freezeSettings(),n=Bh(r._databaseId);return new FD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function QD(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);X1("Data must be an object, but it was:",f,s);const m=K1(s,f);let g,y;if(u.merge)g=new ti(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=Hp(e,b,n);if(!f.contains(A))throw new fe(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);XD(E,A)||E.push(A)}g=new ti(E),y=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=f.fieldTransforms;return new qD(new Un(m),g,y)}function Q1(r,e){if(Y1(r=Bn(r)))return X1("Unsupported field value:",e,r),K1(r,e);if(r instanceof F1)return(function(s,o){if(!G1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Q1(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Th(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:h1(o.serializer,s._byteString)};if(s instanceof zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ii)return(function(f,m){const g=f instanceof ii?f.toArray():f;return{mapValue:{fields:{[zT]:{stringValue:BT},[gh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Tp(m.serializer,E)}))}}}}}})(s,o);if(_1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${mp(s)}`)})(r,e)}function K1(r,e){const n={};return VT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(r,((s,o)=>{const u=Q1(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Y1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ni||r instanceof jn||r instanceof zt||r instanceof F1||r instanceof ii||_1(r))}function X1(r,e,n){if(!Y1(n)||!OT(n)){const s=mp(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Hp(r,e,n){if((e=Bn(e))instanceof q1)return e._internalPath;if(typeof e=="string")return YD(r,e);throw Ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const KD=new RegExp("[~\\*/\\[\\]]");function YD(r,e,n){if(e.search(KD)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new q1(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ah(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new fe(te.INVALID_ARGUMENT,m+r+g)}function XD(r,e){return r.some((n=>n.isEqual(e)))}class $D{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ea(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ii(n)}convertGeoPoint(e){return new Ni(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Fe(y1(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class JD extends $D{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}const W0="@firebase/firestore",eE="4.11.0";class $1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZD extends $1{data(){return super.data()}}function WD(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends $1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Hp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:xt("string",Qs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class rh extends Qs{data(e={}){return super.data(e)}}class zl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:e4(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:xt("string",zl._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};function t4(r){r=Gl(r,zt);const e=Gl(r.firestore,zp),n=H1(e);return kD(n,r._key).then((s=>r4(e,r,s)))}function n4(r,e,n){r=Gl(r,zt);const s=Gl(r.firestore,zp),o=WD(r.converter,e,n),u=GD(s);return i4(s,[QD(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,rr.none())])}function i4(r,e){const n=H1(r);return LD(n,e)}function r4(r,e,n){const s=n.docs.get(e._key),o=new JD(r);return new Qs(r,o,e._key,s,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){DI(po),ro(new Ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new zp(new VI(s.getProvider("auth-internal")),new PI(f,s.getProvider("app-check-internal")),tx(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(W0,eE,e),Wr(W0,eE,"esm2020")})();const s4={apiKey:"AIzaSyB3hjJmXP4cROp2k2OQPhdK1m62jY_hBbc",authDomain:"coffee-forest.firebaseapp.com",projectId:"coffee-forest",storageBucket:"coffee-forest.firebasestorage.app",messagingSenderId:"214424555745",appId:"1:214424555745:web:f7cf2d1bc1e2eec4e4e7a0",measurementId:"G-QLBTFENJL3"},J1=BE(s4),Ya=CI(J1),tE=new er,nE=zD(J1),Fh=NE(r=>(mC(Ya,e=>{console.log("AuthStore: Global check -",e?.email||"null"),r({user:e,isLoading:!1})}),qC(Ya).then(e=>{e?.user&&(console.log("AuthStore: Found user after redirect:",e.user.email),r({user:e.user,isLoading:!1}))}).catch(e=>{console.error("AuthStore: Redirect recovery failed:",e.code)}).finally(()=>{setTimeout(()=>{r({isLoading:!1})},3e3)}),{user:Ya.currentUser,isLoading:!0,loginWithGoogle:async()=>{console.log("AuthStore: Primary login with Popup...");try{const e=await kC(Ya,tE);r({user:e.user,isLoading:!1})}catch(e){console.error("AuthStore: Popup failed:",e.code),e.code==="auth/popup-blocked"?alert("    ."):e.code==="auth/cancelled-popup-request"||alert("  .    .")}},loginWithRedirect:async()=>{console.log("AuthStore: Falling back to Redirect..."),r({isLoading:!0});try{await BC(Ya,tE)}catch(e){console.error("AuthStore: Redirect failed:",e.code),r({isLoading:!1})}},logout:async()=>{try{await pC(Ya),r({user:null})}catch(e){console.error("Logout error:",e)}}}));const Z1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const a4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const o4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const iE=r=>{const e=o4(r);return e.charAt(0).toUpperCase()+e.slice(1)};var l4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const c4=q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>q.createElement("svg",{ref:g,...l4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Z1("lucide",o),...!u&&!u4(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>q.createElement(y,E)),...Array.isArray(u)?u:[u]]));const ft=(r,e)=>{const n=q.forwardRef(({className:s,...o},u)=>q.createElement(c4,{ref:u,iconNode:e,className:Z1(`lucide-${a4(iE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=iE(r),n};const h4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],f4=ft("arrow-right",h4);const d4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],W1=ft("book-open",d4);const m4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],p4=ft("circle-alert",m4);const g4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y4=ft("circle-check",g4);const _4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Bm=ft("coffee",_4);const v4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Hm=ft("droplets",v4);const E4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M20 11v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"1sqzm4"}],["path",{d:"M7.5 7a1 1 0 0 1 0-5A4.8 8 0 0 1 12 7a4.8 8 0 0 1 4.5-5 1 1 0 0 1 0 5",key:"kc0143"}],["rect",{x:"3",y:"7",width:"18",height:"4",rx:"1",key:"1hberx"}]],T4=ft("gift",E4);const b4=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],S4=ft("inbox",b4);const w4=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],A4=ft("leaf",w4);const R4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],C4=ft("loader-circle",R4);const I4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x4=ft("lock",I4);const N4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],D4=ft("log-out",N4);const O4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],M4=ft("map-pin",O4);const V4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],k4=ft("package",V4);const L4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],P4=ft("shopping-cart",L4);const U4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],j4=ft("sparkles",U4);const z4=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],B4=ft("sprout",z4);const H4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rE=ft("star",H4);const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eb=ft("target",q4);const F4=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],G4=ft("terminal",F4);const Q4=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],K4=ft("tree-pine",Q4);const Y4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gh=ft("x",Y4);function X4(){const{caffeineMg:r,hydrationL:e,treeGrowthPercent:n,addCoffee:s,waterPlant:o,togglePremiumShop:u,toggleCollectionBook:f,toggleQuests:m}=is(),{user:g,logout:y}=Fh(),E=()=>{s(80),navigator.vibrate&&navigator.vibrate(50)},b=()=>{o(.25),navigator.vibrate&&navigator.vibrate(50)},A=r>=400&&e<1.5,Y=n>=100?{emoji:"",label:"Coffee Tree (Max)"}:n>=70?{emoji:"",label:"Mature Tree"}:n>=40?{emoji:"",label:"Small Plant"}:n>=20?{emoji:"",label:"Seedling"}:{emoji:"",label:"Sprout"};return N.jsxs("div",{className:"relative w-full max-w-[390px] mx-auto bg-background-light min-h-screen sm:min-h-[844px] sm:h-[844px] sm:rounded-[2.5rem] sm:shadow-float sm:border-[8px] sm:border-white overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"px-6 py-6 flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-espresso/60",children:"Welcome back,"}),N.jsx("h3",{className:"text-xl font-bold text-espresso",children:"My Coffee Forest"})]}),N.jsx("div",{className:"flex items-center gap-3",children:g&&N.jsxs("div",{className:"flex items-center gap-2",children:[g.photoURL&&N.jsx("img",{src:g.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full border border-white/20"}),N.jsx("button",{title:"Click to Logout",onClick:y,className:"w-8 h-8 rounded-full bg-red-500/10 text-red-500 flex items-center justify-center hover:bg-red-500 hover:text-white transition-colors",children:N.jsx(D4,{className:"w-4 h-4"})})]})})]}),N.jsxs("div",{className:"flex-1 px-6 flex flex-col items-center justify-center relative",children:[N.jsxs("div",{className:"relative z-10 mb-8 w-full flex flex-col items-center justify-center",children:[N.jsx("div",{className:"w-48 h-48 bg-gradient-to-t from-primary/20 to-transparent rounded-full absolute bottom-0 left-1/2 -translate-x-1/2 blur-2xl z-0"}),N.jsx("div",{className:`text-9xl relative z-10 select-none transition-all duration-700
                            ${A?"grayscale contrast-50 sepia-[.30] opacity-80 animate-none":"drop-shadow-2xl animate-[bounce_3s_infinite]"}
                        `,style:{animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)"},children:Y.emoji}),A&&N.jsx("div",{className:"mt-4 bg-red-500/10 text-red-600 px-4 py-2 rounded-full text-xs font-bold border border-red-500/20 backdrop-blur-md animate-pulse z-20",children:" Your tree is dehydrated! Drink water!"})]}),N.jsxs("div",{className:"w-full mb-8",children:[N.jsxs("div",{className:"flex justify-between text-xs font-bold text-espresso/60 mb-2 uppercase tracking-wide",children:[N.jsx("span",{children:Y.label}),N.jsxs("span",{className:"text-primary",children:[n,"%"]})]}),N.jsx("div",{className:"w-full bg-white h-4 rounded-full p-1 shadow-inner",children:N.jsx("div",{className:"bg-gradient-to-r from-primary to-[#4c9a5f] h-full rounded-full relative transition-all duration-1000 ease-out",style:{width:`${n}%`},children:N.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1.5 h-3 bg-white/50 rounded-full mr-1"})})})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full mb-8",children:[N.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-foam flex flex-col items-center gap-1",children:[N.jsx(Bm,{className:"text-crema w-6 h-6"}),N.jsxs("span",{className:"text-xl font-bold text-espresso",children:[r,"mg"]}),N.jsx("span",{className:"text-[10px] text-espresso/50 uppercase font-bold tracking-wider",children:"Caffeine"})]}),N.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-foam flex flex-col items-center gap-1",children:[N.jsx(Hm,{className:"text-primary w-6 h-6"}),N.jsxs("span",{className:"text-xl font-bold text-espresso",children:[e,"L"]}),N.jsx("span",{className:"text-[10px] text-espresso/50 uppercase font-bold tracking-wider",children:"Hydration"})]})]}),N.jsxs("div",{className:"flex gap-3 w-full",children:[N.jsxs("button",{onClick:b,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-lg shadow-blue-500/20 active:scale-95 transition-all flex flex-col items-center justify-center gap-1 group",children:[N.jsx(Hm,{className:"w-5 h-5 group-active:translate-y-1 transition-transform"}),N.jsx("span",{className:"text-sm",children:"+250ml"})]}),N.jsxs("button",{onClick:E,className:"flex-[2] bg-espresso hover:bg-[#3A2A1A] text-white font-bold py-4 rounded-2xl shadow-lg shadow-espresso/20 active:scale-95 transition-all flex items-center justify-center gap-2 group",children:[N.jsx(Bm,{className:"w-5 h-5 group-active:translate-y-1 transition-transform"}),N.jsx("span",{children:"Record Coffee"})]})]})]}),N.jsxs("div",{className:"h-20 bg-white sm:rounded-b-[2.5rem] rounded-t-3xl shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.05)] mt-auto flex justify-around items-center px-4 pb-2 z-20",children:[N.jsxs("button",{className:"p-2 text-primary flex flex-col items-center gap-1",children:[N.jsx(K4,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Forest"})]}),N.jsxs("button",{onClick:()=>f(!0),className:"p-2 text-espresso/40 flex flex-col items-center gap-1 hover:text-espresso transition-colors",children:[N.jsx(W1,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Cards"})]}),N.jsxs("button",{onClick:()=>u(!0),className:"p-2 text-espresso/40 flex flex-col items-center gap-1 hover:text-yellow-600 transition-colors",children:[N.jsx(P4,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Shop"})]}),N.jsxs("button",{onClick:()=>m(!0),className:"p-2 text-espresso/40 flex flex-col items-center gap-1 hover:text-espresso transition-colors",children:[N.jsx(eb,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Quests"})]})]})]})}function $4(){const{currentRewardCard:r,closeRewardPopup:e}=is();return r?N.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[N.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-0",onClick:e}),N.jsxs("div",{className:"relative z-10 w-full max-w-[375px] h-[700px] max-h-[90vh] bg-background-dark rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-white/10 ring-8 ring-white/5 animate-in fade-in zoom-in duration-300",children:[N.jsx("div",{className:"flex-none pt-8 px-6 text-center z-20",children:N.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-bold tracking-wide mb-2 uppercase",children:[N.jsx(rE,{className:"w-3 h-3"}),"Tree Level Up!"]})}),N.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative p-6 z-20",children:[N.jsxs("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden pointer-events-none",children:[N.jsx("div",{className:"w-[600px] h-[600px] god-rays animate-spin-slow opacity-60"}),N.jsx("div",{className:"absolute w-[300px] h-[300px] bg-primary/20 blur-[60px] rounded-full"})]}),N.jsxs("div",{className:"relative w-full aspect-[3/4] max-w-[280px] animate-float",children:[N.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-primary via-purple-500 to-blue-500 rounded-xl blur opacity-40"}),N.jsxs("div",{className:"relative h-full w-full holographic-card rounded-xl flex flex-col p-1 shadow-2xl",children:[N.jsxs("div",{className:"p-3 flex justify-between items-start absolute top-0 left-0 right-0 z-20",children:[N.jsx("div",{className:"bg-black/40 backdrop-blur-md text-white text-[10px] font-bold px-2 py-1 rounded border border-white/10 uppercase tracking-wider",children:r.rarity}),N.jsx(rE,{className:"text-yellow-400 fill-yellow-400 w-5 h-5 drop-shadow-[0_0_8px_rgba(250,204,21,0.8)]"})]}),N.jsxs("div",{className:"flex-1 bg-[#1a120b] rounded-lg overflow-hidden relative group",children:[N.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-orange-900 via-[#1a120b] to-black"}),N.jsx("img",{alt:"Legendary Bean",className:"w-full h-full object-cover mix-blend-overlay opacity-80",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBV6wWsJPdtgLJjDUc85wXobsnfOQ6Pdj78-E0MlcRAcevKluho_tjOcGskuhM-8Gbk-WGXlR_qxSytj05FFG065y2mDor_er9b_zZJEuxv4VWFO9H4K9l6VzzOUB9jQinN2WTv2exbobXBxyEQ5l3c5CsF4iNduof0mSQepf_GR2TZWi6cki7dTdwAEtx6BGtcs3gYuPNh-6IQzWSx_EPreuGl4XzShIVs4qhBLYm1LCVfJMdu4yWLRi-NG87t8CLTgblHja-RJ2XO"})]}),N.jsxs("div",{className:"p-4 bg-gradient-to-b from-[#2a2016] to-[#1c140d] mt-1 rounded-b-lg border-t border-white/5 relative z-20",children:[N.jsx("h3",{className:"text-white text-xl font-bold leading-tight mb-1",children:r.name}),N.jsxs("div",{className:"flex items-center gap-1 text-[#cbad90] text-xs font-bold uppercase tracking-wider",children:[N.jsx(M4,{className:"w-3 h-3"}),r.location]})]})]}),N.jsx("div",{className:"absolute -top-3 -right-3 bg-red-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-full shadow-lg transform rotate-6 border-2 border-[#231a10] z-30 flex items-center gap-1 tracking-wider uppercase",children:"Limited Edition"})]})]}),N.jsxs("div",{className:"flex-none p-6 pb-8 bg-gradient-to-t from-[#150f08] to-transparent z-20",children:[N.jsxs("div",{className:"text-center mb-6",children:[N.jsx("h2",{className:"text-2xl font-extrabold text-white mb-2 tracking-tight flex-col",children:"Rare Find!"}),N.jsx("p",{className:"text-[#cbad90] text-sm leading-relaxed max-w-[280px] mx-auto",children:"You discovered a rare bean variant while nurturing your tree. Add it to your collection."})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("button",{className:"w-full group relative overflow-hidden rounded-xl bg-orange-500 hover:bg-orange-400 transition-colors duration-300 p-4 shadow-[0_0_20px_rgba(244,140,37,0.3)]",children:N.jsxs("div",{className:"flex items-center justify-center gap-2",children:[N.jsx(k4,{className:"text-white w-5 h-5"}),N.jsx("span",{className:"text-white font-bold text-base tracking-wide uppercase",children:"Get it for real"}),N.jsx("span",{className:"bg-white/20 text-white text-[10px] font-bold px-1.5 py-0.5 rounded backdrop-blur-sm",children:"OFFER"})]})}),N.jsxs("button",{onClick:e,className:"w-full py-3 text-[#cbad90] hover:text-white text-sm font-medium transition-colors flex items-center justify-center gap-1",children:[N.jsx(S4,{className:"w-4 h-4"}),"Keep collecting"]})]})]})]})]}):null}function J4(){const{togglePremiumShop:r}=is(),e=n=>{alert(`Transaction completed by ${n.payer.name.given_name}. Your tree has received premium fertilizer!`),r(!1)};return N.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-[fadeIn_0.3s_ease-out]",children:[N.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-6 shadow-2xl relative animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)]",children:[N.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-200 hover:text-gray-800 transition-colors",children:N.jsx(Gh,{className:"w-5 h-5"})}),N.jsxs("div",{className:"text-center mb-6",children:[N.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-2xl mx-auto flex items-center justify-center shadow-lg shadow-yellow-500/30 mb-4 animate-[bounce_3s_infinite]",children:N.jsx(j4,{className:"w-8 h-8 text-white"})}),N.jsx("h2",{className:"text-2xl font-bold text-espresso mb-1",children:"Premium Shop"}),N.jsx("p",{className:"text-sm text-espresso/60",children:"Support your forest and unlock exclusive cosmetic items."})]}),N.jsx("div",{className:"space-y-4 mb-6",children:N.jsxs("div",{className:"border border-yellow-200 bg-yellow-50/50 rounded-2xl p-4 flex gap-4 items-center",children:[N.jsx("div",{className:"bg-yellow-100 p-2 rounded-xl",children:N.jsx(B4,{className:"w-6 h-6 text-yellow-600"})}),N.jsxs("div",{className:"flex-1",children:[N.jsx("h4",{className:"font-bold text-sm text-espresso",children:"Golden Fertilizer"}),N.jsx("p",{className:"text-xs text-espresso/60",children:"Instantly boosts growth +50%"})]}),N.jsx("div",{className:"font-bold text-lg text-primary",children:"$0.99"})]})}),N.jsx("div",{className:"w-full relative z-10",children:N.jsx(Zm,{style:{layout:"vertical",shape:"pill",label:"pay",color:"gold"},createOrder:(n,s)=>s.order.create({intent:"CAPTURE",purchase_units:[{description:"Golden Fertilizer",amount:{currency_code:"USD",value:"0.99"}}]}),onApprove:async(n,s)=>{if(!s.order)return;const o=await s.order.capture();e(o)},onError:n=>{console.error("PayPal Error:",n),alert("Payment could not be processed.")}})}),N.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-4",children:"Secure checkout provided by PayPal. In sandbox mode, no real money will be charged."})]}),N.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(40px) scale(0.95); }
                    to { opacity: 1; transform: translateY(0) scale(1); }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}const fm=[{id:"1",name:"Arabica",rarity:"Common",location:"Ethiopia",icon:"",description:"The foundation of modern coffee."},{id:"2",name:"Robusta",rarity:"Common",location:"Vietnam",icon:"",description:"Strong, earthy, and highly caffeinated."},{id:"3",name:"Liberica",rarity:"Rare",location:"Liberia",icon:"",description:"A rare bean with a unique floral and fruity aroma."},{id:"4",name:"Geisha",rarity:"Legendary",location:"Panama",icon:"",description:"The world's most coveted coffee bean."},{id:"5",name:"Blue Mountain",rarity:"Legendary",location:"Jamaica",icon:"",description:"Exceptionally smooth, mild, and lacking bitterness."}];function Z4(){const{toggleCollectionBook:r,collectedCards:e}=is(),n=new Set(e.map(s=>s.name));return N.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-[fadeIn_0.3s_ease-out]",children:N.jsxs("div",{className:"bg-[#fcfaf7] w-full max-w-[390px] h-[80vh] max-h-[700px] rounded-[2rem] shadow-2xl relative animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)] flex flex-col overflow-hidden",children:[N.jsxs("div",{className:"bg-espresso text-white p-6 pb-8 rounded-b-[2rem] shadow-md relative z-10 shrink-0",children:[N.jsx("button",{onClick:()=>r(!1),className:"absolute top-6 right-6 w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:bg-white/20 transition-colors",children:N.jsx(Gh,{className:"w-5 h-5"})}),N.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.jsx(W1,{className:"w-8 h-8 text-crema"}),N.jsx("h2",{className:"text-2xl font-black",children:"Bean Collection"})]}),N.jsx("p",{className:"text-sm text-white/70",children:"Collect rare beans by recording your coffee daily!"}),N.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[N.jsxs("div",{className:"text-xs font-bold w-12 text-right",children:[n.size," / ",fm.length]}),N.jsx("div",{className:"flex-1 bg-black/40 h-2 rounded-full overflow-hidden",children:N.jsx("div",{className:"bg-crema h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n.size/fm.length*100}%`}})})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-2 gap-4 pb-12 content-start",children:fm.map((s,o)=>{const u=n.has(s.name),f=s.rarity==="Legendary";return N.jsxs("div",{className:`relative group rounded-2xl p-4 flex flex-col items-center justify-center transition-all duration-500
                                    ${u?"bg-white shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-espresso/10 cursor-pointer hover:-translate-y-1":"bg-gray-100 border border-gray-200 opacity-60 grayscale"}
                                `,style:{animationDelay:`${o*100}ms`},children:[u&&f&&N.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-[9px] font-black tracking-widest uppercase px-2 py-0.5 rounded-full shadow-sm",children:"Rare"}),N.jsx("div",{className:`text-4xl mb-3 ${u?"":"opacity-20"}`,children:u?s.icon:N.jsx(x4,{className:"w-8 h-8 text-gray-400"})}),N.jsx("h4",{className:`text-sm font-bold text-center mb-1 ${u?"text-espresso":"text-gray-500"}`,children:u?s.name:"Unknown"}),u&&N.jsx("span",{className:"text-[10px] text-espresso/50 uppercase font-bold tracking-wider text-center",children:s.location})]},s.id)})})]})})}function W4(){const{quests:r,toggleQuests:e,claimQuestReward:n}=is();return N.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-[fadeIn_0.3s_ease-out]",children:N.jsxs("div",{className:"bg-[#fcfaf7] w-full max-w-[390px] rounded-[2rem] shadow-2xl relative animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)] flex flex-col overflow-hidden",children:[N.jsxs("div",{className:"bg-espresso text-white p-6 pb-8 rounded-b-[2rem] shadow-md relative z-10 shrink-0",children:[N.jsx("button",{onClick:()=>e(!1),className:"absolute top-6 right-6 w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:bg-white/20 transition-colors",children:N.jsx(Gh,{className:"w-5 h-5"})}),N.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.jsx(eb,{className:"w-8 h-8 text-primary"}),N.jsx("h2",{className:"text-2xl font-black",children:"Daily Quests"})]}),N.jsx("p",{className:"text-sm text-white/70",children:"Complete tasks to earn extra growth for your tree!"})]}),N.jsx("div",{className:"p-6 space-y-4",children:r.map(s=>{const o=Math.min(100,s.current/s.target*100),u=s.completed&&s.rewardGrowth===0;return N.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-espresso/10",children:[N.jsxs("div",{className:"flex justify-between items-start mb-3",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"font-bold text-espresso",children:s.title}),N.jsxs("p",{className:"text-xs text-espresso/60 font-medium",children:["Reward: +",s.rewardGrowth||10,"% Growth"]})]}),u?N.jsxs("div",{className:"bg-gray-100 text-gray-400 p-2 rounded-xl flex items-center gap-1 text-xs font-bold",children:[N.jsx(y4,{className:"w-4 h-4"})," Claimed"]}):s.completed?N.jsxs("button",{onClick:()=>n(s.id),className:"bg-primary hover:bg-green-600 text-white p-2 px-3 rounded-xl flex items-center gap-1 text-xs font-bold shadow-lg shadow-primary/30 transition-colors animate-[bounce_2s_infinite]",children:[N.jsx(T4,{className:"w-4 h-4"})," Claim"]}):N.jsxs("div",{className:"bg-primary/10 text-primary px-2 py-1 flex items-center justify-center rounded-lg text-xs font-bold",children:[s.current," / ",s.target]})]}),N.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:N.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${s.completed?"bg-primary":"bg-espresso"}`,style:{width:`${o}%`}})})]},s.id)})})]})})}function sE(){const[r,e]=q.useState(!1),[n,s]=q.useState([]);return q.useEffect(()=>{const o=setInterval(()=>{window.__debugLogs&&s([...window.__debugLogs].reverse())},1e3);return()=>clearInterval(o)},[]),r?N.jsxs("div",{className:"fixed bottom-0 left-0 w-full h-[300px] z-[9999] bg-black/95 text-[10px] font-mono p-4 border-t border-white/20 overflow-y-auto flex flex-col shadow-2xl",children:[N.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-white/10",children:[N.jsx("span",{className:"font-bold text-primary",children:"SYSTEM DEBUG CONSOLE"}),N.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/10 rounded",children:N.jsx(Gh,{className:"w-4 h-4"})})]}),N.jsxs("div",{className:"flex flex-col gap-1",children:[n.length===0&&N.jsx("p",{className:"text-white/30 text-center py-8",children:"No logs captured yet."}),n.map((o,u)=>N.jsxs("div",{className:`p-1 rounded ${o.type==="error"?"bg-red-500/20 text-red-400":"text-green-400/80"}`,children:[N.jsxs("span",{className:"text-white/30 mr-2",children:["[",o.time,"]"]}),o.message]},u))]})]}):N.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-4 right-4 z-[9999] bg-black/80 text-white p-3 rounded-full shadow-lg border border-white/20",children:N.jsx(G4,{className:"w-5 h-5"})})}function eO(){const{user:r,isLoading:e,loginWithGoogle:n,loginWithRedirect:s}=Fh(),o=Km(),[u,f]=q.useState(!1);return q.useEffect(()=>{!e&&r&&o("/dashboard")},[r,e,o]),q.useEffect(()=>{let m=setTimeout(()=>{e&&f(!0)},5e3);return()=>clearTimeout(m)},[e]),e?N.jsxs("div",{className:"w-full max-w-[390px] mx-auto bg-[#1a1412] h-screen sm:h-[844px] flex flex-col items-center justify-center text-white px-8",children:[N.jsx(C4,{className:"w-12 h-12 text-primary animate-spin mb-4"}),N.jsx("p",{className:"text-espresso-lighest opacity-70 mb-2",children:"Connecting to forest..."}),u&&N.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-2xl border border-white/10 animate-[fadeIn_0.5s_ease-out] w-full text-center",children:[N.jsx("p",{className:"text-[11px] text-white/50 mb-3 text-pretty",children:"It's taking longer than usual. Please check your network or try refreshing."}),N.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary text-xs font-bold underline",children:"Refresh App"})]}),N.jsx("div",{className:"mt-auto pb-8 w-full flex justify-center",children:N.jsx(sE,{})})]}):N.jsxs("div",{className:"relative w-full max-w-[390px] mx-auto bg-gradient-to-b from-[#1a1412] to-[#0a0807] min-h-screen sm:min-h-[844px] sm:h-[844px] sm:rounded-[2.5rem] sm:shadow-float sm:border-[8px] sm:border-white overflow-hidden flex flex-col items-center justify-between text-white px-6 py-12",children:[N.jsx("div",{className:"absolute top-4 right-4 z-20",children:N.jsx(sE,{})}),N.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 opacity-40",children:[N.jsx("div",{className:"absolute -top-[10%] -left-[20%] w-[150%] h-[50%] bg-primary/20 blur-[120px] rounded-[100%]"}),N.jsx("div",{className:"absolute bottom-[0%] right-[0%] w-[100%] h-[50%] bg-[#4c9a5f]/10 blur-[100px] rounded-[100%]"})]}),N.jsxs("div",{className:"z-10 w-full flex flex-col items-center mt-8 animate-[fadeIn_1s_ease-out]",children:[N.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-[#2e5d39] rounded-2xl shadow-[0_0_30px_rgba(17,212,66,0.5)] flex items-center justify-center mb-6",children:N.jsx(A4,{className:"w-8 h-8 text-white"})}),N.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-center mb-4",children:["My Coffee ",N.jsx("br",{}),N.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-green-300",children:"Forest"})]}),N.jsx("p",{className:"text-espresso-lighest text-center opacity-80 mb-8 max-w-[280px]",children:"Track your caffeine, stay hydrated, and grow a beautiful, lush digital forest."})]}),N.jsxs("div",{className:"z-10 flex flex-col gap-4 w-full animate-[slideUp_1s_ease-out_0.2s_both]",children:[N.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex items-center gap-4",children:[N.jsx("div",{className:"p-3 bg-espresso/80 rounded-full",children:N.jsx(Bm,{className:"w-5 h-5 text-crema"})}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-bold text-sm",children:"Log Intelligently"}),N.jsx("p",{className:"text-xs text-white/50",children:"Keep your caffeine in check."})]})]}),N.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex items-center gap-4",children:[N.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:N.jsx(Hm,{className:"w-5 h-5 text-blue-400"})}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-bold text-sm",children:"Stay Hydrated"}),N.jsx("p",{className:"text-xs text-white/50",children:"Cure your tree by drinking water."})]})]})]}),N.jsxs("div",{className:"z-10 w-full mt-auto mb-6 animate-[slideUp_1s_ease-out_0.4s_both]",children:[N.jsxs("div",{className:"flex flex-col gap-3",children:[N.jsxs("button",{onClick:n,disabled:e,className:"w-full bg-white hover:bg-gray-100 text-[#1a1412] font-extrabold py-5 rounded-2xl shadow-[0_10px_40px_rgba(255,255,255,0.2)] active:scale-95 transition-all flex items-center justify-center gap-3 group disabled:opacity-50",children:[N.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),N.jsx("span",{className:"text-lg",children:"Continue with Google"}),N.jsx(f4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform opacity-50"})]}),N.jsx("button",{onClick:s,className:"w-full bg-white/5 hover:bg-white/10 text-white/50 text-[10px] py-2 rounded-xl transition-all border border-white/5",children:"Login Problems? Use Redirect Mode"})]}),N.jsxs("p",{className:"text-center text-[10px] text-white/40 mt-6 flex items-center justify-center gap-1",children:[N.jsx(p4,{className:"w-3 h-3"}),"Please use Safari/Chrome on mobile."]})]}),N.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}function tO(){const{user:r}=Fh(),e=q.useRef(!1);q.useEffect(()=>{if(!r)return;(async()=>{e.current=!0;try{const s=X0(nE,"users",r.uid),o=await t4(s);if(o.exists()){const u=o.data();is.setState({caffeineMg:u.caffeineMg??0,hydrationL:u.hydrationL??0,streak:u.streak??0,treeGrowthPercent:u.treeGrowthPercent??0,collectedCards:u.collectedCards??[]})}}catch(s){console.error("Failed to sync from Firestore",s)}finally{setTimeout(()=>{e.current=!1},500)}})()},[r]),q.useEffect(()=>{if(!r)return;const n=is.subscribe(async s=>{if(e.current)return;const o=X0(nE,"users",r.uid);try{await n4(o,{caffeineMg:s.caffeineMg,hydrationL:s.hydrationL,streak:s.streak,treeGrowthPercent:s.treeGrowthPercent,collectedCards:s.collectedCards,lastUpdated:new Date().toISOString()},{merge:!0})}catch(u){console.error("Failed to save to Firestore",u)}});return()=>n()},[r])}function nO({children:r}){const{user:e}=Fh();return e?N.jsx(N.Fragment,{children:r}):N.jsx(Pw,{to:"/",replace:!0})}function iO(){const{showRewardPopup:r,showPremiumShop:e,showCollectionBook:n,showQuests:s}=is();tO();const o={clientId:"test",currency:"USD"};return N.jsx(UA,{options:o,children:N.jsx(uA,{children:N.jsxs("div",{className:"bg-slate-200 min-h-screen flex items-center justify-center sm:p-4 font-sans",children:[N.jsxs(jw,{children:[N.jsx(mm,{path:"/",element:N.jsx(eO,{})}),N.jsx(mm,{path:"/dashboard",element:N.jsx(nO,{children:N.jsx(X4,{})})})]}),r&&N.jsx($4,{}),e&&N.jsx(J4,{}),n&&N.jsx(Z4,{}),s&&N.jsx(W4,{})]})})})}const rO=console.log,sO=console.error;window.__debugLogs=[];console.log=(...r)=>{window.__debugLogs.push({type:"log",message:r.map(e=>typeof e=="object"?JSON.stringify(e):String(e)).join(" "),time:new Date().toLocaleTimeString()}),rO.apply(console,r)};console.error=(...r)=>{window.__debugLogs.push({type:"error",message:r.map(e=>typeof e=="object"?JSON.stringify(e):String(e)).join(" "),time:new Date().toLocaleTimeString()}),sO.apply(console,r)};BS.createRoot(document.getElementById("root")).render(N.jsx(q.StrictMode,{children:N.jsx(iO,{})}));
